import{r as x,p as U,c as i,o as n,e as y,h as _,b as e,w as m,f as w,t as k,u as r,n as V,C as j,a as u,m as N,d as F,F as g,j as I,i as L,q as M}from"./app-CG_txIVR.js";import{_ as S}from"./AuthenticatedLayout-DJIiH2wS.js";import{_ as b}from"./Button-Kx0rHSGw.js";import{_ as G}from"./Input-DmtGEFtB.js";import{_ as q}from"./Card-BOaGNwsG.js";import{_ as h}from"./Alert-DDOMzzWl.js";const O={class:"text-center"},T={key:0,class:"mb-4"},z=["src"],P={key:1,class:"mx-auto h-12 w-12 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},R={class:"mt-4 flex text-sm text-neutral-600"},A={class:"relative cursor-pointer rounded-md font-medium text-primary-600 hover:text-primary-500"},E={__name:"ImageUpload",props:{modelValue:{type:[File,null],default:null},error:{type:String,default:null},previewUrl:{type:String,default:null}},emits:["update:modelValue"],setup(p,{emit:s}){const c=p,f=s,t=x(c.previewUrl),l=x(!1);U(()=>c.modelValue,o=>{if(o){const a=new FileReader;a.onload=d=>t.value=d.target.result,a.readAsDataURL(o)}else t.value=c.previewUrl});const C=o=>{var d;const a=(d=o.target.files)==null?void 0:d[0];a&&f("update:modelValue",a)},D=o=>{var d,v;o.preventDefault(),l.value=!1;const a=(v=(d=o.dataTransfer)==null?void 0:d.files)==null?void 0:v[0];a!=null&&a.type.startsWith("image/")&&f("update:modelValue",a)},B=o=>{o.preventDefault(),l.value=!0},$=()=>{l.value=!1};return(o,a)=>(n(),i("div",null,[p.error?(n(),y(r(h),{key:0,type:"error",class:"mb-4"},{default:m(()=>[w(k(p.error),1)]),_:1})):_("",!0),e("div",{class:V(["relative flex justify-center rounded-lg border border-dashed px-6 py-10 transition-colors duration-200",[l.value?"border-primary-500 bg-primary-50":"border-neutral-300",{"border-error-500":p.error}]]),onDragover:B,onDragleave:$,onDrop:D},[e("div",O,[t.value?(n(),i("div",T,[e("img",{src:t.value,class:"mx-auto h-40 w-40 rounded-lg object-cover",alt:"Cover preview"},null,8,z)])):(n(),i("svg",P,a[0]||(a[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"},null,-1)]))),e("div",R,[e("label",A,[a[1]||(a[1]=e("span",null,"Upload a file",-1)),e("input",{type:"file",class:"sr-only",accept:"image/*",onChange:C},null,32)]),a[2]||(a[2]=e("p",{class:"pl-1"},"or drag and drop",-1))]),a[3]||(a[3]=e("p",{class:"text-xs text-neutral-500"}," PNG, JPG, GIF up to 10MB ",-1))])],34)]))}},H={class:"list-disc list-inside"},J={class:"mt-1"},W={class:"flex items-center justify-end space-x-4"},K={key:0},Q={key:1},ae={__name:"Create",setup(p){const s=j({name:"",description:"",cover_image:null}),c=()=>{s.post(route("bands.store"),{preserveScroll:!0})};return(f,t)=>(n(),i(g,null,[u(r(N),{title:"Create Band"}),u(S,null,{header:m(()=>t[3]||(t[3]=[e("div",{class:"md:flex md:items-center md:justify-between"},[e("div",{class:"min-w-0 flex-1"},[e("h2",{class:"text-2xl font-bold leading-7 text-neutral-900 sm:truncate sm:text-3xl sm:tracking-tight"}," Create New Band "),e("p",{class:"mt-1 text-sm text-neutral-500"}," Get started by creating a new band and inviting your members ")])],-1)])),default:m(()=>[u(r(q),{class:"max-w-2xl"},{default:m(()=>[e("form",{onSubmit:F(c,["prevent"]),class:"space-y-6 p-6"},[Object.keys(r(s).errors).length>0?(n(),y(r(h),{key:0,type:"error"},{default:m(()=>[e("ul",H,[(n(!0),i(g,null,I(r(s).errors,l=>(n(),i("li",{key:l},k(l),1))),128))])]),_:1})):_("",!0),e("div",null,[u(r(G),{modelValue:r(s).name,"onUpdate:modelValue":t[0]||(t[0]=l=>r(s).name=l),type:"text",label:"Band Name",error:r(s).errors.name,required:""},null,8,["modelValue","error"]),t[4]||(t[4]=e("p",{class:"mt-1 text-sm text-neutral-500"}," Choose a unique name for your band ",-1))]),e("div",null,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-neutral-700"}," Description ",-1)),e("div",J,[L(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=l=>r(s).description=l),rows:"4",class:V(["block w-full rounded-lg shadow-sm transition-colors duration-200","border-neutral-300 focus:border-primary-500 focus:ring-primary-500",{"border-error-500 focus:border-error-500 focus:ring-error-500":r(s).errors.description}])},null,2),[[M,r(s).description]])]),t[6]||(t[6]=e("p",{class:"mt-1 text-sm text-neutral-500"}," Brief description of your band and its style ",-1))]),e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-neutral-700"}," Cover Image ",-1)),u(E,{modelValue:r(s).cover_image,"onUpdate:modelValue":t[2]||(t[2]=l=>r(s).cover_image=l),error:r(s).errors.cover_image},null,8,["modelValue","error"])]),e("div",W,[u(r(b),{type:"button",variant:"outline",href:f.route("dashboard")},{default:m(()=>t[8]||(t[8]=[w(" Cancel ")])),_:1},8,["href"]),u(r(b),{type:"submit",variant:"primary",disabled:r(s).processing},{default:m(()=>[r(s).processing?(n(),i("span",K,"Creating...")):(n(),i("span",Q,"Create Band"))]),_:1},8,["disabled"])])],32)]),_:1})]),_:1})],64))}};export{ae as default};
