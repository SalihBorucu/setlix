import{C as M,r as N,x as B,c as d,o as i,a as r,u as t,m as F,w as a,b as s,d as O,e as L,h as T,F as x,j as _,t as w,i as V,n as $,s as A,f as y,a9 as D,P as v}from"./app-Be7Fllo-.js";import{_ as q}from"./AuthenticatedLayout-BMtFWeMq.js";import{_ as b}from"./DSTooltip.vue_vue_type_style_index_0_lang-Ba21YeIW.js";import{_ as p}from"./Input-DL0lJKHf.js";import{_ as h}from"./Card-DyHcAxUY.js";import{_ as P}from"./Alert-BCrObdZq.js";import{_ as E}from"./DSDurationInput-DnQlJ8YN.js";/* empty css            */const G={class:"md:flex md:items-center md:justify-between"},I={class:"min-w-0 flex-1"},R={class:"flex items-center"},z={class:"flex justify-end space-x-3"},H={key:0},X={key:1},Y={class:"list-disc list-inside"},J={class:"grid grid-cols-2 gap-4"},K={class:"mt-1"},Q={class:"space-y-4"},W={class:"flex justify-between items-center"},Z={class:"space-y-2"},ee={class:"flex-1"},te=["onUpdate:modelValue"],se={class:"flex-1"},le=["onChange"],oe=["onClick"],re={class:"flex items-center justify-end space-x-4"},ne={key:0},ae={key:1},ce={__name:"Create",props:{band:{type:Object,required:!0}},setup(m){const g=m,l=M({band_id:g.band.id,name:null,duration:null,duration_seconds:null,notes:null,url:null,bpm:null,artist:null,files:[],spotify_link:null}),u=N([]),C=()=>{u.value.length<10&&u.value.push({type:"",file:null})},S=n=>{u.value.splice(n,1)},U=(n,e)=>{const o=n.target.files[0];o&&(u.value[e].file=o)},k=()=>{l.files=u.value.filter(n=>n.file&&n.type).map(n=>({type:n.type,file:n.file})),l.post(route("songs.store",g.band.id))},j=B(()=>!!l.name||!!l.duration||!!l.notes||!!l.url||!!l.artist||!!l.bpm);return(n,e)=>(i(),d(x,null,[r(t(F),{title:"Add New Song"}),r(q,{class:"space-y-2"},{header:a(()=>[s("div",G,[s("div",I,[s("div",R,[r(t(v),{href:n.route("bands.show",m.band.id),class:"text-sm font-medium text-primary-600 hover:text-primary-700"},{default:a(()=>[y(w(m.band.name),1)]),_:1},8,["href"]),e[9]||(e[9]=s("svg",{class:"mx-2 h-5 w-5 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)),r(t(v),{href:n.route("songs.index",m.band.id),class:"text-sm font-medium text-primary-600 hover:text-primary-700"},{default:a(()=>e[8]||(e[8]=[y(" Songs ")])),_:1},8,["href"])]),e[10]||(e[10]=s("h2",{class:"mt-1 text-2xl font-bold leading-7 text-neutral-900 sm:truncate sm:text-3xl sm:tracking-tight"}," Add New Song ",-1)),e[11]||(e[11]=s("p",{class:"mt-1 text-sm text-neutral-500"}," Add a new song to your band's library ",-1))])])]),default:a(()=>[r(t(h),{class:"max-w-2xl space-y-6 p-6 mb-4",disabled:j.value},{default:a(()=>[e[12]||(e[12]=s("p",{class:"text-sm text-gray-600"},"Enter a Spotify track URL to import its details.",-1)),r(t(p),{modelValue:t(l).spotify_link,"onUpdate:modelValue":e[0]||(e[0]=o=>t(l).spotify_link=o),type:"url",placeholder:"https://open.spotify.com/track/abc123",label:"Spotify Link",error:t(l).errors.spotify_link,required:""},null,8,["modelValue","error"]),s("div",z,[r(t(b),{onClick:k,variant:"primary",disabled:t(l).processing},{default:a(()=>[t(l).processing?(i(),d("span",H,"Importing...")):(i(),d("span",X,"Import Song"))]),_:1},8,["disabled"])])]),_:1},8,["disabled"]),r(t(h),{class:"max-w-2xl",disabled:!!t(l).spotify_link},{default:a(()=>[s("form",{onSubmit:O(k,["prevent"]),class:"space-y-6 p-6"},[e[22]||(e[22]=s("p",{class:"text-sm text-gray-600"},"Or manually add a song's for your list.",-1)),Object.keys(t(l).errors).length>0?(i(),L(t(P),{key:0,type:"error"},{default:a(()=>[s("ul",Y,[(i(!0),d(x,null,_(t(l).errors,o=>(i(),d("li",{key:o},w(o),1))),128))])]),_:1})):T("",!0),s("div",J,[s("div",null,[r(t(p),{modelValue:t(l).name,"onUpdate:modelValue":e[1]||(e[1]=o=>t(l).name=o),type:"text",label:"Song Name",error:t(l).errors.name,required:""},null,8,["modelValue","error"])]),s("div",null,[r(t(p),{modelValue:t(l).artist,"onUpdate:modelValue":e[2]||(e[2]=o=>t(l).artist=o),type:"text",label:"Artist (Optional)",error:t(l).errors.artist,placeholder:""},null,8,["modelValue","error"])]),s("div",null,[r(t(E),{modelValue:t(l).duration,"onUpdate:modelValue":e[3]||(e[3]=o=>t(l).duration=o),"onUpdate:seconds":e[4]||(e[4]=o=>t(l).duration_seconds=o),label:"Duration",error:t(l).errors.duration_seconds,required:""},null,8,["modelValue","error"])]),s("div",null,[r(t(p),{modelValue:t(l).bpm,"onUpdate:modelValue":e[5]||(e[5]=o=>t(l).bpm=o),type:"number",label:"BPM (Optional)",error:t(l).errors.bpm},null,8,["modelValue","error"])])]),s("div",null,[e[13]||(e[13]=s("label",{class:"block text-sm font-medium text-neutral-700"}," Notes (Optional) ",-1)),s("div",K,[V(s("textarea",{"onUpdate:modelValue":e[6]||(e[6]=o=>t(l).notes=o),rows:"4",class:$(["block w-full rounded-lg shadow-sm transition-colors duration-200","border-neutral-300 focus:border-primary-500 focus:ring-primary-500",{"border-error-500 focus:border-error-500 focus:ring-error-500":t(l).errors.notes}])},null,2),[[A,t(l).notes]])]),e[14]||(e[14]=s("p",{class:"mt-1 text-sm text-neutral-500"}," Add any notes about the song, such as key changes or special instructions ",-1))]),s("div",null,[r(t(p),{modelValue:t(l).url,"onUpdate:modelValue":e[7]||(e[7]=o=>t(l).url=o),type:"url",label:"External Link (Optional)",error:t(l).errors.url,placeholder:"https://"},null,8,["modelValue","error"]),e[15]||(e[15]=s("p",{class:"mt-1 text-sm text-neutral-500"}," Link to an external resource (YouTube, Spotify, etc.) ",-1))]),s("div",Q,[s("div",W,[e[17]||(e[17]=s("h3",{class:"text-lg font-medium text-neutral-900"},"Files",-1)),r(t(b),{type:"button",variant:"secondary",onClick:C,disabled:u.value.length>=10},{default:a(()=>e[16]||(e[16]=[y(" Add File ")])),_:1},8,["disabled"])]),s("div",Z,[(i(!0),d(x,null,_(u.value,(o,c)=>(i(),d("div",{key:c,class:"flex items-center gap-4 border rounded-md p-3"},[s("div",ee,[V(s("select",{"onUpdate:modelValue":f=>o.type=f,class:"block w-full rounded-md border-neutral-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"},e[18]||(e[18]=[s("option",{value:""},"Select Type",-1),s("option",{value:"lyrics"},"Lyrics",-1),s("option",{value:"notes"},"Notes",-1),s("option",{value:"chords"},"Chords",-1),s("option",{value:"tabs"},"Tabs",-1),s("option",{value:"sheet_music"},"Sheet Music",-1),s("option",{value:"other"},"Other",-1)]),8,te),[[D,o.type]])]),s("div",se,[s("input",{type:"file",onChange:f=>U(f,c),accept:".pdf,.txt",class:"block w-full text-sm"},null,40,le)]),s("button",{type:"button",onClick:f=>S(c),class:"text-neutral-400 hover:text-neutral-500"},e[19]||(e[19]=[s("span",{class:"sr-only"},"Remove",-1),s("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,oe)]))),128))]),e[20]||(e[20]=s("p",{class:"text-sm text-neutral-500"},"PDF or TXT files up to 10MB",-1))]),s("div",re,[r(t(v),{href:n.route("songs.index",m.band.id)},{default:a(()=>[r(t(b),{type:"button",variant:"outline"},{default:a(()=>e[21]||(e[21]=[y(" Cancel ")])),_:1})]),_:1},8,["href"]),r(t(b),{type:"submit",variant:"primary",disabled:t(l).processing},{default:a(()=>[t(l).processing?(i(),d("span",ne,"Creating...")):(i(),d("span",ae,"Create Song"))]),_:1},8,["disabled"])])],32)]),_:1},8,["disabled"])]),_:1})],64))}};export{ce as default};
