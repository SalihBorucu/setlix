import{C as j,r as h,c as u,o as i,a as n,u as s,m as B,w as a,b as t,d as F,e as O,h as T,F as x,j as w,t as V,i as _,n as A,q as $,f as c,a7 as D,P as y}from"./app-D8OPSLji.js";import{_ as L}from"./AuthenticatedLayout-DTlQNGiu.js";import{_ as g}from"./Button-D80aJfgU.js";import{_ as p}from"./Input-CpHXBpmC.js";import{_ as q}from"./Card-BGvY5qee.js";import{_ as P}from"./Alert-132oDIUR.js";const G={class:"md:flex md:items-center md:justify-between"},E={class:"min-w-0 flex-1"},z={class:"flex items-center"},I={class:"list-disc list-inside"},R={class:"grid grid-cols-2 gap-4"},X={class:"mt-1"},Y={class:"space-y-4"},H={class:"flex justify-between items-center"},J={class:"space-y-2"},K={class:"flex-1"},Q=["onUpdate:modelValue"],W={class:"flex-1"},Z=["onChange"],ee=["onClick"],te={class:"flex items-center justify-end space-x-4"},se={key:0},oe={key:1},ue={__name:"Create",props:{band:{type:Object,required:!0}},setup(m){const k=m,o=j({band_id:k.band.id,name:"",duration_seconds:"",notes:"",url:"",bpm:"",artist:"",files:[]}),d=h([]),C=()=>{d.value.length<10&&d.value.push({type:"",file:null})},S=r=>{d.value.splice(r,1)},M=(r,e)=>{const l=r.target.files[0];l&&(d.value[e].file=l)},N=r=>{const[e,l]=r.split(":").map(Number);return e*60+l},b=h(""),U=()=>{o.duration_seconds=N(b.value),o.files=d.value.filter(r=>r.file&&r.type).map(r=>({type:r.type,file:r.file})),o.post(route("songs.store",k.band.id))};return(r,e)=>(i(),u(x,null,[n(s(B),{title:"Add New Song"}),n(L,null,{header:a(()=>[t("div",G,[t("div",E,[t("div",z,[n(s(y),{href:r.route("bands.show",m.band.id),class:"text-sm font-medium text-primary-600 hover:text-primary-700"},{default:a(()=>[c(V(m.band.name),1)]),_:1},8,["href"]),e[7]||(e[7]=t("svg",{class:"mx-2 h-5 w-5 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)),n(s(y),{href:r.route("songs.index",m.band.id),class:"text-sm font-medium text-primary-600 hover:text-primary-700"},{default:a(()=>e[6]||(e[6]=[c(" Songs ")])),_:1},8,["href"])]),e[8]||(e[8]=t("h2",{class:"mt-1 text-2xl font-bold leading-7 text-neutral-900 sm:truncate sm:text-3xl sm:tracking-tight"}," Add New Song ",-1)),e[9]||(e[9]=t("p",{class:"mt-1 text-sm text-neutral-500"}," Add a new song to your band's library ",-1))])])]),default:a(()=>[n(s(q),{class:"max-w-2xl"},{default:a(()=>[t("form",{onSubmit:F(U,["prevent"]),class:"space-y-6 p-6"},[Object.keys(s(o).errors).length>0?(i(),O(s(P),{key:0,type:"error"},{default:a(()=>[t("ul",I,[(i(!0),u(x,null,w(s(o).errors,l=>(i(),u("li",{key:l},V(l),1))),128))])]),_:1})):T("",!0),t("div",R,[t("div",null,[n(s(p),{modelValue:s(o).name,"onUpdate:modelValue":e[0]||(e[0]=l=>s(o).name=l),type:"text",label:"Song Name",error:s(o).errors.name,required:""},null,8,["modelValue","error"])]),t("div",null,[n(s(p),{modelValue:s(o).artist,"onUpdate:modelValue":e[1]||(e[1]=l=>s(o).artist=l),type:"text",label:"Artist (Optional)",error:s(o).errors.artist,placeholder:""},null,8,["modelValue","error"])]),t("div",null,[n(s(p),{modelValue:b.value,"onUpdate:modelValue":e[2]||(e[2]=l=>b.value=l),type:"text",label:"Duration (MM:SS)",error:s(o).errors.duration_seconds,required:"",pattern:"[0-9]{1,2}:[0-9]{2}",placeholder:"03:30"},null,8,["modelValue","error"])]),t("div",null,[n(s(p),{modelValue:s(o).bpm,"onUpdate:modelValue":e[3]||(e[3]=l=>s(o).bpm=l),type:"number",label:"BPM (Optional)",error:s(o).errors.bpm},null,8,["modelValue","error"])])]),t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-neutral-700"}," Notes (Optional) ",-1)),t("div",X,[_(t("textarea",{"onUpdate:modelValue":e[4]||(e[4]=l=>s(o).notes=l),rows:"4",class:A(["block w-full rounded-lg shadow-sm transition-colors duration-200","border-neutral-300 focus:border-primary-500 focus:ring-primary-500",{"border-error-500 focus:border-error-500 focus:ring-error-500":s(o).errors.notes}])},null,2),[[$,s(o).notes]])]),e[11]||(e[11]=t("p",{class:"mt-1 text-sm text-neutral-500"}," Add any notes about the song, such as key changes or special instructions ",-1))]),t("div",null,[n(s(p),{modelValue:s(o).url,"onUpdate:modelValue":e[5]||(e[5]=l=>s(o).url=l),type:"url",label:"External Link (Optional)",error:s(o).errors.url,placeholder:"https://"},null,8,["modelValue","error"]),e[12]||(e[12]=t("p",{class:"mt-1 text-sm text-neutral-500"}," Link to an external resource (YouTube, Spotify, etc.) ",-1))]),t("div",Y,[t("div",H,[e[14]||(e[14]=t("h3",{class:"text-lg font-medium text-neutral-900"},"Files",-1)),n(s(g),{type:"button",variant:"secondary",onClick:C,disabled:d.value.length>=10},{default:a(()=>e[13]||(e[13]=[c(" Add File ")])),_:1},8,["disabled"])]),t("div",J,[(i(!0),u(x,null,w(d.value,(l,v)=>(i(),u("div",{key:v,class:"flex items-center gap-4 border rounded-md p-3"},[t("div",K,[_(t("select",{"onUpdate:modelValue":f=>l.type=f,class:"block w-full rounded-md border-neutral-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"},e[15]||(e[15]=[t("option",{value:""},"Select Type",-1),t("option",{value:"lyrics"},"Lyrics",-1),t("option",{value:"notes"},"Notes",-1),t("option",{value:"chords"},"Chords",-1),t("option",{value:"tabs"},"Tabs",-1),t("option",{value:"sheet_music"},"Sheet Music",-1),t("option",{value:"other"},"Other",-1)]),8,Q),[[D,l.type]])]),t("div",W,[t("input",{type:"file",onChange:f=>M(f,v),accept:".pdf,.txt",class:"block w-full text-sm"},null,40,Z)]),t("button",{type:"button",onClick:f=>S(v),class:"text-neutral-400 hover:text-neutral-500"},e[16]||(e[16]=[t("span",{class:"sr-only"},"Remove",-1),t("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,ee)]))),128))]),e[17]||(e[17]=t("p",{class:"text-sm text-neutral-500"},"PDF or TXT files up to 10MB",-1))]),t("div",te,[n(s(y),{href:r.route("songs.index",m.band.id)},{default:a(()=>[n(s(g),{type:"button",variant:"outline"},{default:a(()=>e[18]||(e[18]=[c(" Cancel ")])),_:1})]),_:1},8,["href"]),n(s(g),{type:"submit",variant:"primary",disabled:s(o).processing},{default:a(()=>[s(o).processing?(i(),u("span",se,"Creating...")):(i(),u("span",oe,"Create Song"))]),_:1},8,["disabled"])])],32)]),_:1})]),_:1})],64))}};export{ue as default};
