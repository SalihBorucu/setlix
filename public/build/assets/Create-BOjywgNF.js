import{C as U,r as M,c as u,o as i,a as r,u as s,m as N,w as a,b as t,d as j,e as B,h as F,F as v,j as k,t as w,i as h,n as O,s as T,f,a9 as $,P as x}from"./app-By7LNvvF.js";import{_ as A}from"./AuthenticatedLayout-Bnlojeeg.js";import{_ as y}from"./DSTooltip.vue_vue_type_style_index_0_lang-DhlZjsMt.js";import{_ as c}from"./Input-eS0M8yT6.js";import{_ as L}from"./Card-BxvmkG30.js";import{_ as D}from"./Alert-BZb8NcnJ.js";import{_ as P}from"./DSDurationInput-7Wvo9swi.js";const q={class:"md:flex md:items-center md:justify-between"},G={class:"min-w-0 flex-1"},E={class:"flex items-center"},z={class:"list-disc list-inside"},R={class:"grid grid-cols-2 gap-4"},X={class:"mt-1"},Y={class:"space-y-4"},H={class:"flex justify-between items-center"},I={class:"space-y-2"},J={class:"flex-1"},K=["onUpdate:modelValue"],Q={class:"flex-1"},W=["onChange"],Z=["onClick"],ee={class:"flex items-center justify-end space-x-4"},te={key:0},se={key:1},ue={__name:"Create",props:{band:{type:Object,required:!0}},setup(m){const g=m,o=U({band_id:g.band.id,name:"",duration:"",duration_seconds:"",notes:"",url:"",bpm:"",artist:"",files:[]}),d=M([]),V=()=>{d.value.length<10&&d.value.push({type:"",file:null})},_=n=>{d.value.splice(n,1)},C=(n,e)=>{const l=n.target.files[0];l&&(d.value[e].file=l)},S=()=>{o.files=d.value.filter(n=>n.file&&n.type).map(n=>({type:n.type,file:n.file})),o.post(route("songs.store",g.band.id))};return(n,e)=>(i(),u(v,null,[r(s(N),{title:"Add New Song"}),r(A,null,{header:a(()=>[t("div",q,[t("div",G,[t("div",E,[r(s(x),{href:n.route("bands.show",m.band.id),class:"text-sm font-medium text-primary-600 hover:text-primary-700"},{default:a(()=>[f(w(m.band.name),1)]),_:1},8,["href"]),e[8]||(e[8]=t("svg",{class:"mx-2 h-5 w-5 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)),r(s(x),{href:n.route("songs.index",m.band.id),class:"text-sm font-medium text-primary-600 hover:text-primary-700"},{default:a(()=>e[7]||(e[7]=[f(" Songs ")])),_:1},8,["href"])]),e[9]||(e[9]=t("h2",{class:"mt-1 text-2xl font-bold leading-7 text-neutral-900 sm:truncate sm:text-3xl sm:tracking-tight"}," Add New Song ",-1)),e[10]||(e[10]=t("p",{class:"mt-1 text-sm text-neutral-500"}," Add a new song to your band's library ",-1))])])]),default:a(()=>[r(s(L),{class:"max-w-2xl"},{default:a(()=>[t("form",{onSubmit:j(S,["prevent"]),class:"space-y-6 p-6"},[Object.keys(s(o).errors).length>0?(i(),B(s(D),{key:0,type:"error"},{default:a(()=>[t("ul",z,[(i(!0),u(v,null,k(s(o).errors,l=>(i(),u("li",{key:l},w(l),1))),128))])]),_:1})):F("",!0),t("div",R,[t("div",null,[r(s(c),{modelValue:s(o).name,"onUpdate:modelValue":e[0]||(e[0]=l=>s(o).name=l),type:"text",label:"Song Name",error:s(o).errors.name,required:""},null,8,["modelValue","error"])]),t("div",null,[r(s(c),{modelValue:s(o).artist,"onUpdate:modelValue":e[1]||(e[1]=l=>s(o).artist=l),type:"text",label:"Artist (Optional)",error:s(o).errors.artist,placeholder:""},null,8,["modelValue","error"])]),t("div",null,[r(s(P),{modelValue:s(o).duration,"onUpdate:modelValue":e[2]||(e[2]=l=>s(o).duration=l),"onUpdate:seconds":e[3]||(e[3]=l=>s(o).duration_seconds=l),label:"Duration",error:s(o).errors.duration_seconds,required:""},null,8,["modelValue","error"])]),t("div",null,[r(s(c),{modelValue:s(o).bpm,"onUpdate:modelValue":e[4]||(e[4]=l=>s(o).bpm=l),type:"number",label:"BPM (Optional)",error:s(o).errors.bpm},null,8,["modelValue","error"])])]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-neutral-700"}," Notes (Optional) ",-1)),t("div",X,[h(t("textarea",{"onUpdate:modelValue":e[5]||(e[5]=l=>s(o).notes=l),rows:"4",class:O(["block w-full rounded-lg shadow-sm transition-colors duration-200","border-neutral-300 focus:border-primary-500 focus:ring-primary-500",{"border-error-500 focus:border-error-500 focus:ring-error-500":s(o).errors.notes}])},null,2),[[T,s(o).notes]])]),e[12]||(e[12]=t("p",{class:"mt-1 text-sm text-neutral-500"}," Add any notes about the song, such as key changes or special instructions ",-1))]),t("div",null,[r(s(c),{modelValue:s(o).url,"onUpdate:modelValue":e[6]||(e[6]=l=>s(o).url=l),type:"url",label:"External Link (Optional)",error:s(o).errors.url,placeholder:"https://"},null,8,["modelValue","error"]),e[13]||(e[13]=t("p",{class:"mt-1 text-sm text-neutral-500"}," Link to an external resource (YouTube, Spotify, etc.) ",-1))]),t("div",Y,[t("div",H,[e[15]||(e[15]=t("h3",{class:"text-lg font-medium text-neutral-900"},"Files",-1)),r(s(y),{type:"button",variant:"secondary",onClick:V,disabled:d.value.length>=10},{default:a(()=>e[14]||(e[14]=[f(" Add File ")])),_:1},8,["disabled"])]),t("div",I,[(i(!0),u(v,null,k(d.value,(l,b)=>(i(),u("div",{key:b,class:"flex items-center gap-4 border rounded-md p-3"},[t("div",J,[h(t("select",{"onUpdate:modelValue":p=>l.type=p,class:"block w-full rounded-md border-neutral-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"},e[16]||(e[16]=[t("option",{value:""},"Select Type",-1),t("option",{value:"lyrics"},"Lyrics",-1),t("option",{value:"notes"},"Notes",-1),t("option",{value:"chords"},"Chords",-1),t("option",{value:"tabs"},"Tabs",-1),t("option",{value:"sheet_music"},"Sheet Music",-1),t("option",{value:"other"},"Other",-1)]),8,K),[[$,l.type]])]),t("div",Q,[t("input",{type:"file",onChange:p=>C(p,b),accept:".pdf,.txt",class:"block w-full text-sm"},null,40,W)]),t("button",{type:"button",onClick:p=>_(b),class:"text-neutral-400 hover:text-neutral-500"},e[17]||(e[17]=[t("span",{class:"sr-only"},"Remove",-1),t("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,Z)]))),128))]),e[18]||(e[18]=t("p",{class:"text-sm text-neutral-500"},"PDF or TXT files up to 10MB",-1))]),t("div",ee,[r(s(x),{href:n.route("songs.index",m.band.id)},{default:a(()=>[r(s(y),{type:"button",variant:"outline"},{default:a(()=>e[19]||(e[19]=[f(" Cancel ")])),_:1})]),_:1},8,["href"]),r(s(y),{type:"submit",variant:"primary",disabled:s(o).processing},{default:a(()=>[s(o).processing?(i(),u("span",te,"Creating...")):(i(),u("span",se,"Create Song"))]),_:1},8,["disabled"])])],32)]),_:1})]),_:1})],64))}};export{ue as default};
