import{c as i,o,a as x,w as u,b as t,u as m,f as v,t as n,F as y,j as M,h,e as p,P as $,r as L,l as V,m as z,W as A}from"./app-CdR4EPip.js";import{_ as q}from"./AuthenticatedLayout-C17kwXOB.js";import{_ as g}from"./Button-CTmYF_Xu.js";import{_ as D}from"./Card-BfVXW81P.js";import{_ as U}from"./AlertModal-DtG4sQHB.js";import{v as C}from"./visitExternalLink-CSLW9nbJ.js";import"./Modal-6-i8Cx1A.js";import"./transition-C0cL-Eqc.js";const E={class:"space-y-6"},H={class:"p-6"},P={class:"flex items-center justify-between mb-6"},N={class:"text-2xl font-bold text-white"},R={class:"mt-1 text-neutral-400"},F={class:"text-xl text-white"},I={class:"space-y-4"},O={class:"flex flex-col space-y-1.5"},T={class:"flex items-center justify-between"},W={class:"flex items-center space-x-2"},G={class:"text-base font-semibold text-white"},J={class:"text-sm text-neutral-500"},K={key:0,class:"text-sm text-neutral-400 pl-4 -mt-1"},Q={class:"flex flex-wrap gap-1.5"},X=["onClick"],Y=["onClick"],Z={__name:"PerformanceMode",props:{band:{type:Object,required:!0},setlist:{type:Object,required:!0},sortedSongs:{type:Array,required:!0}},emits:["exit"],setup(s,{emit:w}){const f=s,_=c=>{const l=Math.floor(c/3600),k=Math.floor(c%3600/60),a=c%60;return l>0?`${l}:${k.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`:`${k}:${a.toString().padStart(2,"0")}`},S=c=>{let l="https://www.google.com/search?q=";return l+=encodeURIComponent(c.name),c.artist&&(l+=" "+encodeURIComponent(c.artist)),l+="+lyrics",C(l,!0)},j=(c,l)=>{C(route("songs.files.download",[f.band.id,l.id,c.id]),!0,!0)};return(c,l)=>(o(),i("div",E,[x(m(D),{"bg-color":"bg-gray-900 h-full"},{default:u(()=>{var k;return[t("div",H,[x(m(g),{variant:"primary",onClick:l[0]||(l[0]=a=>c.$emit("exit")),class:"w-full sm:w-auto mb-4"},{default:u(()=>l[1]||(l[1]=[v(" Exit Performance Mode ")])),_:1}),t("div",P,[t("div",null,[t("h3",N,n(s.setlist.name),1),t("p",R,n(((k=s.setlist.songs)==null?void 0:k.length)||0)+" songs · "+n(_(s.setlist.total_duration)),1)]),t("div",F,n(_(s.setlist.total_duration)),1)]),t("div",I,[(o(!0),i(y,null,M(s.sortedSongs,(a,d)=>(o(),i("div",{key:a.id,class:"rounded-lg border border-neutral-700 bg-neutral-800/50 p-2"},[t("div",O,[t("div",T,[t("div",W,[t("span",G,n(d+1)+". "+n(a.name),1),t("span",J,n(a.formatted_duration),1)])]),a.pivot.notes?(o(),i("div",K,n(a.pivot.notes),1)):h("",!0),t("div",Q,[a.url?(o(),p(m($),{key:0,href:a.url,target:"_blank",class:"inline-flex items-center px-2 py-1 text-xs font-medium text-primary-400 hover:text-primary-300"},{default:u(()=>l[2]||(l[2]=[v(" → Spotify ")])),_:2},1032,["href"])):h("",!0),t("button",{onClick:e=>S(a),class:"inline-flex items-center px-2 py-1 text-xs font-medium text-primary-400 hover:text-primary-300"}," ○ Lyrics ",8,X),(o(!0),i(y,null,M(a.files,e=>(o(),i("button",{key:e.id,onClick:r=>j(e,a),class:"inline-flex items-center px-2 py-1 text-xs font-medium text-primary-400 hover:text-primary-300"}," □ "+n(e.type.charAt(0).toUpperCase()+e.type.slice(1)),9,Y))),128))])])]))),128))])])]}),_:1})]))}},tt={class:"md:flex md:items-center md:justify-between"},et={key:0,class:"min-w-0 flex-1"},st={class:"flex items-center"},ot={class:"mt-1 text-2xl font-bold leading-7 text-neutral-900 sm:truncate sm:text-3xl sm:tracking-tight"},nt={class:"mt-1 text-sm text-neutral-500"},rt={class:"mt-4 flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-3 md:ml-4 md:mt-0"},lt={class:"-ml-0.5 mr-1.5 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},it={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},at={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},dt={key:0,class:"grid gap-6 md:grid-cols-2"},ut={class:"p-6"},mt={class:"divide-y divide-neutral-200"},ct={class:"py-4"},ft={class:"mt-1 flex items-center text-sm text-neutral-900"},xt={class:"py-4"},vt={class:"mt-1 flex items-center text-sm text-neutral-900"},ht={class:"py-4"},kt={class:"mt-1 flex items-center text-sm text-neutral-900"},pt={class:"mt-6"},yt={class:"mt-2 text-sm text-neutral-900 whitespace-pre-line"},wt={class:"p-6"},_t={class:"flex items-center justify-between mb-4"},bt={class:"divide-y divide-neutral-200"},$t={class:"flex items-start justify-between"},gt={class:"min-w-0 flex-1"},Mt={class:"flex items-center"},Ct={class:"text-sm font-medium text-neutral-900"},St={class:"ml-2 text-xs text-neutral-500"},jt={key:0,class:"mt-2 text-sm text-neutral-600"},Bt={class:"ml-4 flex items-center space-x-2"},Dt=["onClick"],Lt=["onClick"],Rt={__name:"Show",props:{band:{type:Object,required:!0},setlist:{type:Object,required:!0},isAdmin:{type:Boolean,required:!0}},setup(s){const w=s,f=L(!1),_=L(null),S=()=>{_.value.open()},j=()=>{A.delete(route("setlists.destroy",[w.band.id,w.setlist.id]))},c=d=>{const e=Math.floor(d/3600),r=Math.floor(d%3600/60),b=d%60;return e>0?`${e}:${r.toString().padStart(2,"0")}:${b.toString().padStart(2,"0")}`:`${r}:${b.toString().padStart(2,"0")}`},l=d=>{let e="https://www.google.com/search?q=";return e+=encodeURIComponent(d.name),d.artist&&(e+=" "+encodeURIComponent(d.artist)),e+="+lyrics",C(e,!0)},k=(d,e)=>{C(route("songs.files.download",[w.band.id,e.id,d.id]),!0,!0)},a=V(()=>[...w.setlist.songs].sort((d,e)=>d.pivot.order-e.pivot.order));return(d,e)=>(o(),i(y,null,[x(m(z),{title:`${s.setlist.name} - ${s.band.name}`},null,8,["title"]),f.value?(o(),p(Z,{key:0,band:s.band,setlist:s.setlist,sortedSongs:a.value,onExit:e[0]||(e[0]=r=>f.value=!1)},null,8,["band","setlist","sortedSongs"])):(o(),p(q,{key:1},{header:u(()=>{var r;return[t("div",tt,[f.value?h("",!0):(o(),i("div",et,[t("div",st,[x(m($),{href:d.route("bands.show",s.band.id),class:"text-sm font-medium text-primary-600 hover:text-primary-700"},{default:u(()=>[v(n(s.band.name),1)]),_:1},8,["href"]),e[2]||(e[2]=t("svg",{class:"mx-2 h-5 w-5 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))]),t("h2",ot,n(s.setlist.name),1),t("p",nt,n(((r=s.setlist.songs)==null?void 0:r.length)||0)+" songs · "+n(c(s.setlist.total_duration))+" total duration ",1)])),t("div",rt,[x(m(g),{variant:"primary",onClick:e[1]||(e[1]=b=>f.value=!f.value),class:"w-full sm:w-auto"},{default:u(()=>[(o(),i("svg",lt,[f.value?(o(),i("path",at)):(o(),i("path",it))])),v(" "+n(f.value?"Exit Performance Mode":"Performance Mode"),1)]),_:1}),s.isAdmin?(o(),i(y,{key:0},[x(m($),{href:d.route("setlists.edit",[s.band.id,s.setlist.id]),class:"w-full sm:w-auto"},{default:u(()=>[f.value?h("",!0):(o(),p(m(g),{key:0,variant:"secondary",class:"w-full sm:w-auto"},{default:u(()=>e[3]||(e[3]=[t("svg",{class:"-ml-0.5 mr-1.5 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1),v(" Edit Setlist ")])),_:1}))]),_:1},8,["href"]),f.value?h("",!0):(o(),p(m(g),{key:0,variant:"danger",onClick:S,class:"w-full sm:w-auto"},{default:u(()=>e[4]||(e[4]=[t("svg",{class:"-ml-0.5 mr-1.5 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),v(" Delete Setlist ")])),_:1}))],64)):h("",!0)])])]}),default:u(()=>[f.value?h("",!0):(o(),i("div",dt,[x(m(D),null,{default:u(()=>{var r;return[t("div",ut,[e[12]||(e[12]=t("div",{class:"flex items-center justify-between mb-4"},[t("h3",{class:"text-lg font-semibold text-neutral-900"},"About")],-1)),t("dl",mt,[t("div",ct,[e[6]||(e[6]=t("dt",{class:"text-sm font-medium text-neutral-500"},"Total Duration",-1)),t("dd",ft,[e[5]||(e[5]=t("svg",{class:"mr-1.5 h-5 w-5 flex-shrink-0 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),v(" "+n(c(s.setlist.total_duration)),1)])]),t("div",xt,[e[8]||(e[8]=t("dt",{class:"text-sm font-medium text-neutral-500"},"Songs",-1)),t("dd",vt,[e[7]||(e[7]=t("svg",{class:"mr-1.5 h-5 w-5 flex-shrink-0 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})],-1)),v(" "+n(((r=s.setlist.songs)==null?void 0:r.length)||0)+" songs ",1)])]),t("div",ht,[e[10]||(e[10]=t("dt",{class:"text-sm font-medium text-neutral-500"},"Created",-1)),t("dd",kt,[e[9]||(e[9]=t("svg",{class:"mr-1.5 h-5 w-5 flex-shrink-0 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),v(" "+n(s.setlist.formatted_created_at),1)])])]),t("div",pt,[e[11]||(e[11]=t("h4",{class:"text-sm font-medium text-neutral-500"},"Description",-1)),t("p",yt,n(s.setlist.description||"No description provided."),1)])])]}),_:1}),x(m(D),null,{default:u(()=>[t("div",wt,[t("div",_t,[e[14]||(e[14]=t("h3",{class:"text-lg font-semibold text-neutral-900"},"Songs",-1)),s.isAdmin?(o(),p(m($),{key:0,href:d.route("setlists.edit",[s.band.id,s.setlist.id])},{default:u(()=>[x(m(g),{variant:"secondary",size:"sm"},{default:u(()=>e[13]||(e[13]=[v(" Reorder Songs ")])),_:1})]),_:1},8,["href"])):h("",!0)]),t("div",bt,[(o(!0),i(y,null,M(a.value,(r,b)=>(o(),i("div",{key:r.id,class:"py-4"},[t("div",$t,[t("div",gt,[t("div",Mt,[t("span",Ct,n(b+1)+". "+n(r.name),1),t("span",St,n(r.formatted_duration),1)]),r.pivot.notes?(o(),i("div",jt,n(r.pivot.notes),1)):h("",!0)]),t("div",Bt,[r.url?(o(),p(m($),{key:0,href:r.url,target:"_blank",class:"text-neutral-400 hover:text-neutral-500"},{default:u(()=>e[15]||(e[15]=[t("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})],-1)])),_:2},1032,["href"])):h("",!0),t("button",{onClick:B=>l(r),class:"text-neutral-400 hover:text-neutral-500"},e[16]||(e[16]=[t("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)]),8,Dt),(o(!0),i(y,null,M(r.files,B=>(o(),i("button",{key:B.id,onClick:Vt=>k(B,r),class:"text-neutral-400 hover:text-neutral-500"},e[17]||(e[17]=[t("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1)]),8,Lt))),128))])])]))),128))])])]),_:1})])),x(m(U),{ref_key:"deleteModal",ref:_,title:"Delete Setlist",message:"Are you sure you want to delete this setlist? This action cannot be undone.",type:"error","confirm-text":"Delete","show-cancel":!0,onConfirm:j},null,512)]),_:1}))],64))}};export{Rt as default};
