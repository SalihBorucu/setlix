import{A as S,x as f,c as l,h as p,o as a,b as e,e as M,t as i,w as d,a as m,u as r,f as k,P as y,r as z,ac as T,T as j,q as N,W as L,al as I,a8 as D,F as b,j as $,n as g,i as V,l as P,k as B,G as A}from"./app-BV-baiM2.js";import{_ as E}from"./DSTooltip.vue_vue_type_style_index_0_lang-jILnjwCJ.js";import{_ as F}from"./Alert-Cd1unP4A.js";const H={key:0,class:"bg-blue-50 border-b border-blue-200"},O={class:"max-w-7xl mx-auto p-3"},R={class:"flex items-center justify-between"},W={class:"flex items-center space-x-2"},q={key:0,class:"text-sm text-blue-700"},G={key:1,class:"text-sm text-red-700"},U={key:0,class:"text-sm text-red-600"},Y={__name:"TrialStatusBanner",setup(C){const n=S(),o=f(()=>n.props.trial||{}),v=f(()=>{var t;return((t=o.value)==null?void 0:t.isSubscribed)??!1}),_=f(()=>{var t;return((t=o.value)==null?void 0:t.remainingDays)??0}),x=f(()=>{var t;return((t=o.value)==null?void 0:t.limitReached)??!1}),w=f(()=>{var t;return((t=o.value)==null?void 0:t.limitMessage)??""}),u=f(()=>{var t;return(t=o.value)==null?void 0:t.bandId}),h=f(()=>{const t=route().current("subscription.checkout");return o.value&&!v.value&&!t&&u.value});return(t,c)=>h.value?(a(),l("div",H,[e("div",O,[e("div",R,[e("div",W,[_.value>0?(a(),l("span",q,i(_.value)+" days remaining in your free trial ",1)):(a(),l("span",G," Trial expired "))]),x.value?(a(),l("div",U,i(w.value),1)):p("",!0),!v.value&&u.value?(a(),M(r(y),{key:1,href:t.route("subscription.checkout",u.value)},{default:d(()=>[m(r(E),{variant:"primary",size:"sm"},{default:d(()=>c[0]||(c[0]=[k(" Subscribe Now ")])),_:1})]),_:1},8,["href"])):p("",!0)])])])):p("",!0)}},J={key:0,class:"fixed top-4 right-4 z-50 max-w-sm"},K={class:"flex items-center gap-3"},Q={key:0,class:"flex-shrink-0"},X={key:1,class:"flex-shrink-0"},Z={key:2,class:"flex-shrink-0"},ee={class:"flex-1 text-sm font-medium"},te={__name:"FlashMessage",setup(C){const n=S(),o=z(!1);let v=null;const _=f(()=>n.props.flash.success||n.props.flash.error||n.props.flash.info||n.props.flash.message),x=f(()=>n.props.flash.success?"success":n.props.flash.error?"error":(n.props.flash.info,"info")),w=f(()=>!!_.value);return T(()=>{v&&(clearTimeout(v),v=null),w.value?(o.value=!0,v=setTimeout(()=>{o.value=!1},7e3)):o.value=!1}),(u,h)=>o.value?(a(),l("div",J,[m(j,{"enter-active-class":"transform ease-out duration-300 transition","enter-from-class":"translate-y-2 opacity-0 scale-95","enter-to-class":"translate-y-0 opacity-100 scale-100","leave-active-class":"transform ease-in duration-200 transition","leave-from-class":"translate-y-0 opacity-100 scale-100","leave-to-class":"translate-y-2 opacity-0 scale-95"},{default:d(()=>[m(r(F),{type:x.value,class:"shadow-xl rounded-lg border bg-white p-4"},{default:d(()=>[e("div",K,[x.value==="success"?(a(),l("div",Q,h[0]||(h[0]=[e("svg",{class:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)]))):p("",!0),x.value==="error"?(a(),l("div",X,h[1]||(h[1]=[e("svg",{class:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)]))):p("",!0),x.value==="info"?(a(),l("div",Z,h[2]||(h[2]=[e("svg",{class:"h-5 w-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})],-1)]))):p("",!0),e("div",ee,i(_.value),1)])]),_:1},8,["type"])]),_:1})])):p("",!0)}},se={class:"min-h-screen bg-neutral-50 test"},re={class:"bg-white border-b border-neutral-200"},ae={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},oe={class:"flex justify-between h-16"},ne={class:"flex"},le={class:"flex-shrink-0 flex items-center"},ie={class:"hidden space-x-8 sm:ml-10 sm:flex"},ue={class:"hidden sm:ml-6 sm:flex sm:items-center space-x-4"},ce={class:"relative"},de=["src","alt"],he={class:"absolute right-0 mt-2 w-48 rounded-lg shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 z-10",role:"menu"},fe={class:"px-4 py-2 border-b border-neutral-200"},me={class:"text-sm font-medium text-neutral-900"},pe={class:"text-xs text-neutral-500 truncate"},ve={class:"py-1"},xe=["onClick"],_e={class:"-mr-2 flex items-center sm:hidden"},be={class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},ye={class:"pt-2 pb-3 space-y-1"},ge={class:"pt-4 pb-1 border-t border-neutral-200"},ke={class:"flex items-center px-4"},we={class:"flex-shrink-0"},$e=["src","alt"],Me={class:"ml-3"},Se={class:"text-base font-medium text-neutral-800"},Ce={class:"text-sm font-medium text-neutral-500"},Le={class:"mt-3 space-y-1"},Be=["onClick"],ze={class:"py-10"},Te={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},je={key:0,class:"mb-8"},Ne={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Ie={class:"px-4 sm:px-6 lg:px-8"},Ae={__name:"AuthenticatedLayout",setup(C){const n=z(!1),{auth:o}=S().props,v=async()=>{try{await A.post(route("logout")),window.location.href="/"}catch(t){console.error("Logout failed:",t)}},_=[{name:"Dashboard",href:route("dashboard"),icon:"HomeIcon"}],x=[{name:"Songs",href:t=>route("songs.index",{band:t}),icon:"MusicNoteIcon"},{name:"Setlists",href:t=>route("setlists.index",{band:t}),icon:"ListBulletIcon"}],w=[{name:"Your Profile",href:route("profile.edit")},{name:"Subscriptions",href:route("subscription.index")},{name:"Sign out",action:v}],u=route().params.band,h=()=>{window.scrollTo({top:0,behavior:"smooth"})};return N(()=>{L.on("error",t=>{I(()=>{t!=null&&t.errors&&Object.keys(t==null?void 0:t.errors).length>0&&h()})})}),D(()=>{L.off("error",handleError)}),(t,c)=>(a(),l("div",se,[m(r(te)),e("nav",re,[e("div",ae,[e("div",oe,[e("div",ne,[e("div",le,[m(r(y),{href:t.route("dashboard"),class:"flex"},{default:d(()=>c[2]||(c[2]=[e("img",{class:"h-12 w-auto",src:"/images/text_logo.svg",alt:"AI Setlist"},null,-1)])),_:1},8,["href"])]),e("div",ie,[(a(),l(b,null,$(_,s=>m(r(y),{key:s.name,href:s.href,class:g([t.route().current(s.href)?"border-primary-500 text-neutral-900":"border-transparent text-neutral-500 hover:border-neutral-300 hover:text-neutral-700","inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors duration-200"])},{default:d(()=>[k(i(s.name),1)]),_:2},1032,["href","class"])),64)),r(u)?(a(),l(b,{key:0},$(x,s=>m(r(y),{key:s.name,href:s.href(r(u)),class:g([t.route().current(s.href(r(u)))?"border-primary-500 text-neutral-900":"border-transparent text-neutral-500 hover:border-neutral-300 hover:text-neutral-700","inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors duration-200"])},{default:d(()=>[k(i(s.name),1)]),_:2},1032,["href","class"])),64)):p("",!0)])]),e("div",ue,[e("div",ce,[e("button",{onClick:c[0]||(c[0]=s=>n.value=!n.value),class:"flex text-sm border-2 border-transparent rounded-full focus:outline-none focus:border-neutral-300 transition duration-200"},[c[3]||(c[3]=e("span",{class:"sr-only"},"Open user menu",-1)),e("img",{class:"h-8 w-8 rounded-full object-cover",src:r(o).user.avatar||"https://ui-avatars.com/api/?name="+r(o).user.name,alt:r(o).user.name},null,8,de)]),V(e("div",he,[e("div",fe,[e("p",me,i(r(o).user.name),1),e("p",pe,i(r(o).user.email),1)]),e("div",ve,[(a(),l(b,null,$(w,s=>(a(),l(b,{key:s.name},[s.action?(a(),l("button",{key:0,onClick:s.action,class:"block w-full text-left px-4 py-2 text-sm text-neutral-700 hover:bg-neutral-50",role:"menuitem"},i(s.name),9,xe)):(a(),M(r(y),{key:1,href:s.href,class:"block w-full text-left px-4 py-2 text-sm text-neutral-700 hover:bg-neutral-50",role:"menuitem"},{default:d(()=>[k(i(s.name),1)]),_:2},1032,["href"]))],64))),64))])],512),[[P,n.value]])])]),e("div",_e,[e("button",{onClick:c[1]||(c[1]=s=>n.value=!n.value),class:"inline-flex items-center justify-center p-2 rounded-lg text-neutral-400 hover:text-neutral-500 hover:bg-neutral-100 focus:outline-none focus:bg-neutral-100 focus:text-neutral-500 transition duration-200"},[(a(),l("svg",be,[e("path",{class:g({hidden:n.value,"inline-flex":!n.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,2),e("path",{class:g({hidden:!n.value,"inline-flex":n.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,2)]))])])])]),e("div",{class:g([{block:n.value,hidden:!n.value},"sm:hidden"])},[e("div",ye,[(a(),l(b,null,$(_,s=>m(r(y),{key:s.name,href:s.href,class:g([t.route().current(s.href)?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-neutral-600 hover:bg-neutral-50 hover:border-neutral-300 hover:text-neutral-800","block pl-3 pr-4 py-2 border-l-4 text-base font-medium transition-colors duration-200"])},{default:d(()=>[k(i(s.name),1)]),_:2},1032,["href","class"])),64)),r(u)?(a(),l(b,{key:0},$(x,s=>m(r(y),{key:s.name,href:s.href(r(u)),class:g([t.route().current(s.href(r(u)))?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-neutral-600 hover:bg-neutral-50 hover:border-neutral-300 hover:text-neutral-800","block pl-3 pr-4 py-2 border-l-4 text-base font-medium transition-colors duration-200"])},{default:d(()=>[k(i(s.name),1)]),_:2},1032,["href","class"])),64)):p("",!0)]),e("div",ge,[e("div",ke,[e("div",we,[e("img",{class:"h-10 w-10 rounded-full object-cover",src:r(o).user.avatar||"https://ui-avatars.com/api/?name="+r(o).user.name,alt:r(o).user.name},null,8,$e)]),e("div",Me,[e("div",Se,i(r(o).user.name),1),e("div",Ce,i(r(o).user.email),1)])]),e("div",Le,[(a(),l(b,null,$(w,s=>(a(),l(b,{key:s.name},[s.action?(a(),l("button",{key:0,onClick:s.action,class:"block w-full text-left px-4 py-2 text-base font-medium text-neutral-500 hover:text-neutral-800 hover:bg-neutral-100"},i(s.name),9,Be)):(a(),M(r(y),{key:1,href:s.href,class:"block w-full text-left px-4 py-2 text-base font-medium text-neutral-500 hover:text-neutral-800 hover:bg-neutral-100"},{default:d(()=>[k(i(s.name),1)]),_:2},1032,["href"]))],64))),64))])])],2)]),m(Y,{"band-id":r(u)},null,8,["band-id"]),e("main",ze,[e("div",Te,[t.$slots.header?(a(),l("header",je,[e("div",Ne,[B(t.$slots,"header")])])):p("",!0),e("div",Ie,[B(t.$slots,"default")])])])]))}};export{Ae as _};
