import{r as j,l as L,c as m,o as l,a as v,e as x,h as c,u as i,m as V,w as a,b as t,f as h,t as n,P as k,F as _,j as S,W as z}from"./app-DFfD3WuN.js";import{_ as D}from"./AuthenticatedLayout-CMMt-qoh.js";import{_ as y}from"./Button-CtsJLdCz.js";import{_ as M}from"./Card-DNd1jYej.js";import{_ as A}from"./AlertModal-DflQPu9_.js";import"./Modal-CJvw-MhK.js";import"./transition-BHXJ_d86.js";const H=(s,w=!1,d=!1)=>{const f=document.createElement("a");if(f.style.display="none",w&&(f.target="_blank"),d){let p=s.split("/"),g=p.length;f.download=p[g-1]}document.body.appendChild(f),f.href=s,f.click(),window.URL.revokeObjectURL(f.href),document.body.removeChild(f)},E={class:"md:flex md:items-center md:justify-between"},P={key:0,class:"min-w-0 flex-1"},N={class:"flex items-center"},R={class:"mt-1 text-2xl font-bold leading-7 text-neutral-900 sm:truncate sm:text-3xl sm:tracking-tight"},U={class:"mt-1 text-sm text-neutral-500"},q={class:"mt-4 flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-3 md:ml-4 md:mt-0"},O={class:"-ml-0.5 mr-1.5 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},T={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},F={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},I={key:0,class:"grid gap-6 md:grid-cols-2"},W={class:"p-6"},G={class:"divide-y divide-neutral-200"},J={class:"py-4"},K={class:"mt-1 flex items-center text-sm text-neutral-900"},Q={class:"py-4"},X={class:"mt-1 flex items-center text-sm text-neutral-900"},Y={class:"py-4"},Z={class:"mt-1 flex items-center text-sm text-neutral-900"},tt={class:"mt-6"},et={class:"mt-2 text-sm text-neutral-900 whitespace-pre-line"},st={class:"p-6"},ot={class:"flex items-center justify-between mb-4"},lt={class:"divide-y divide-neutral-200"},nt={class:"flex items-start justify-between"},rt={class:"min-w-0 flex-1"},it={class:"flex items-center"},at={class:"text-sm font-medium text-neutral-900"},dt={class:"mt-1 text-xs text-neutral-500"},ut={key:0,class:"mt-2 text-sm text-neutral-600"},mt={class:"ml-4 flex items-center space-x-2"},ct=["href"],ft={key:1,class:"space-y-6"},vt={class:"p-6"},ht={class:"flex items-center justify-between mb-6"},xt={class:"text-2xl font-bold text-white"},kt={class:"mt-1 text-neutral-400"},wt={class:"text-xl text-white"},yt={class:"space-y-4"},pt={class:"flex justify-between items-start"},bt={class:"flex items-center"},_t={class:"text-xl font-semibold text-white"},gt={class:"mt-1 text-neutral-400"},Mt={key:0,class:"mt-4 text-sm text-neutral-300 whitespace-pre-line"},Ct={class:"flex flex-col justify-end"},jt=["onClick"],Ht={__name:"Show",props:{band:{type:Object,required:!0},setlist:{type:Object,required:!0},isAdmin:{type:Boolean,required:!0}},setup(s){const w=s,d=j(!1),f=j(null),p=()=>{f.value.open()},g=()=>{z.delete(route("setlists.destroy",[w.band.id,w.setlist.id]))},b=u=>{const e=Math.floor(u/3600),o=Math.floor(u%3600/60),r=u%60;return e>0?`${e}:${o.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`:`${o}:${r.toString().padStart(2,"0")}`},B=u=>{let e="https://www.musixmatch.com/search?query=";return e+=encodeURIComponent(u.name),u.artist&&(e+=" "+encodeURIComponent(u.artist)),H(e,!0)},C=L(()=>[...w.setlist.songs].sort((u,e)=>u.pivot.order-e.pivot.order));return(u,e)=>(l(),m(_,null,[v(i(V),{title:`${s.setlist.name} - ${s.band.name}`},null,8,["title"]),d.value?c("",!0):(l(),x(D,{key:0},{header:a(()=>{var o;return[t("div",E,[d.value?c("",!0):(l(),m("div",P,[t("div",N,[v(i(k),{href:u.route("bands.show",s.band.id),class:"text-sm font-medium text-primary-600 hover:text-primary-700"},{default:a(()=>[h(n(s.band.name),1)]),_:1},8,["href"]),e[2]||(e[2]=t("svg",{class:"mx-2 h-5 w-5 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))]),t("h2",R,n(s.setlist.name),1),t("p",U,n(((o=s.setlist.songs)==null?void 0:o.length)||0)+" songs · "+n(b(s.setlist.total_duration))+" total duration ",1)])),t("div",q,[v(i(y),{variant:d.value?"primary":"secondary",onClick:e[0]||(e[0]=r=>d.value=!d.value),class:"w-full sm:w-auto"},{default:a(()=>[(l(),m("svg",O,[d.value?(l(),m("path",F)):(l(),m("path",T))])),h(" "+n(d.value?"Exit Performance Mode":"Performance Mode"),1)]),_:1},8,["variant"]),s.isAdmin?(l(),m(_,{key:0},[v(i(k),{href:u.route("setlists.edit",[s.band.id,s.setlist.id]),class:"w-full sm:w-auto"},{default:a(()=>[d.value?c("",!0):(l(),x(i(y),{key:0,variant:"secondary",class:"w-full sm:w-auto"},{default:a(()=>e[3]||(e[3]=[t("svg",{class:"-ml-0.5 mr-1.5 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1),h(" Edit Setlist ")])),_:1}))]),_:1},8,["href"]),d.value?c("",!0):(l(),x(i(y),{key:0,variant:"danger",onClick:p,class:"w-full sm:w-auto"},{default:a(()=>e[4]||(e[4]=[t("svg",{class:"-ml-0.5 mr-1.5 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),h(" Delete Setlist ")])),_:1}))],64)):c("",!0)])])]}),default:a(()=>[d.value?c("",!0):(l(),m("div",I,[v(i(M),null,{default:a(()=>{var o;return[t("div",W,[e[12]||(e[12]=t("div",{class:"flex items-center justify-between mb-4"},[t("h3",{class:"text-lg font-semibold text-neutral-900"},"About")],-1)),t("dl",G,[t("div",J,[e[6]||(e[6]=t("dt",{class:"text-sm font-medium text-neutral-500"},"Total Duration",-1)),t("dd",K,[e[5]||(e[5]=t("svg",{class:"mr-1.5 h-5 w-5 flex-shrink-0 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),h(" "+n(b(s.setlist.total_duration)),1)])]),t("div",Q,[e[8]||(e[8]=t("dt",{class:"text-sm font-medium text-neutral-500"},"Songs",-1)),t("dd",X,[e[7]||(e[7]=t("svg",{class:"mr-1.5 h-5 w-5 flex-shrink-0 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})],-1)),h(" "+n(((o=s.setlist.songs)==null?void 0:o.length)||0)+" songs ",1)])]),t("div",Y,[e[10]||(e[10]=t("dt",{class:"text-sm font-medium text-neutral-500"},"Created",-1)),t("dd",Z,[e[9]||(e[9]=t("svg",{class:"mr-1.5 h-5 w-5 flex-shrink-0 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),h(" "+n(s.setlist.formatted_created_at),1)])])]),t("div",tt,[e[11]||(e[11]=t("h4",{class:"text-sm font-medium text-neutral-500"},"Description",-1)),t("p",et,n(s.setlist.description||"No description provided."),1)])])]}),_:1}),v(i(M),null,{default:a(()=>[t("div",st,[t("div",ot,[e[14]||(e[14]=t("h3",{class:"text-lg font-semibold text-neutral-900"},"Songs",-1)),s.isAdmin?(l(),x(i(k),{key:0,href:u.route("setlists.edit",[s.band.id,s.setlist.id])},{default:a(()=>[v(i(y),{variant:"secondary",size:"sm"},{default:a(()=>e[13]||(e[13]=[h(" Reorder Songs ")])),_:1})]),_:1},8,["href"])):c("",!0)]),t("div",lt,[(l(!0),m(_,null,S(C.value,(o,r)=>(l(),m("div",{key:o.id,class:"py-4"},[t("div",nt,[t("div",rt,[t("div",it,[t("span",at,n(r+1)+". "+n(o.name),1)]),t("div",dt,n(o.formatted_duration),1),o.pivot.notes?(l(),m("div",ut,n(o.pivot.notes),1)):c("",!0)]),t("div",mt,[o.url?(l(),m("a",{key:0,href:o.url,target:"_blank",class:"text-neutral-400 hover:text-neutral-500"},e[15]||(e[15]=[t("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})],-1)]),8,ct)):c("",!0),o.document_path?(l(),x(i(k),{key:1,href:u.route("songs.document",[s.band.id,o.id]),class:"text-neutral-400 hover:text-neutral-500"},{default:a(()=>e[16]||(e[16]=[t("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1)])),_:2},1032,["href"])):c("",!0),v(i(k),{href:u.route("songs.show",[s.band.id,o.id]),class:"text-neutral-400 hover:text-neutral-500"},{default:a(()=>e[17]||(e[17]=[t("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])),_:2},1032,["href"])])])]))),128))])])]),_:1})])),v(i(A),{ref_key:"deleteModal",ref:f,title:"Delete Setlist",message:"Are you sure you want to delete this setlist? This action cannot be undone.",type:"error","confirm-text":"Delete","show-cancel":!0,onConfirm:g},null,512)]),_:1})),d.value?(l(),m("div",ft,[v(i(M),{"bg-color":"bg-gray-900"},{default:a(()=>{var o;return[t("div",vt,[v(i(y),{variant:d.value?"primary":"secondary",onClick:e[1]||(e[1]=r=>d.value=!d.value),class:"w-full sm:w-auto mb-4"},{default:a(()=>e[18]||(e[18]=[h(" Exit Performance Mode ")])),_:1},8,["variant"]),t("div",ht,[t("div",null,[t("h3",xt,n(s.setlist.name),1),t("p",kt,n(((o=s.setlist.songs)==null?void 0:o.length)||0)+" songs · "+n(b(s.setlist.total_duration)),1)]),t("div",wt,n(b(s.setlist.total_duration)),1)]),t("div",yt,[(l(!0),m(_,null,S(C.value,(r,$)=>(l(),m("div",{key:r.id,class:"rounded-lg border border-neutral-700 bg-neutral-800/50 p-6"},[t("div",pt,[t("div",null,[t("div",bt,[t("span",_t,n($+1)+". "+n(r.name),1)]),t("div",gt,n(r.formatted_duration),1),r.pivot.notes?(l(),m("div",Mt,n(r.pivot.notes),1)):c("",!0)]),t("div",Ct,[r.url?(l(),x(i(k),{key:0,href:r.url,class:"text-sm font-medium text-primary-600 hover:text-primary-700"},{default:a(()=>e[19]||(e[19]=[h(" Spotify ")])),_:2},1032,["href"])):c("",!0),t("span",{onClick:St=>B(r),class:"cursor-pointer text-sm font-medium text-primary-600 hover:text-primary-700"}," Lyrics ",8,jt),r.document_path?(l(),x(i(k),{key:1,href:u.route("songs.document",[s.band.id,r.id]),class:"text-primary-400 hover:text-primary-300"},{default:a(()=>e[20]||(e[20]=[t("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1)])),_:2},1032,["href"])):c("",!0)])])]))),128))])])]}),_:1})])):c("",!0)],64))}};export{Ht as default};
