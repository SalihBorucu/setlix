import{r as C,c as d,o as i,a as o,u as a,m as M,w as l,b as t,h as f,f as m,t as r,F as g,j as w,e as B,P as x,W as _}from"./app-DKsx-kyo.js";import{_ as D}from"./AuthenticatedLayout-CTSxdA5J.js";import{_ as v}from"./DSTooltip.vue_vue_type_style_index_0_lang-DF2aMDVV.js";import{_ as k}from"./Card-Ch4p5OSn.js";import{_ as V}from"./AlertModal-BBcEAN--.js";import{_ as A,v as N}from"./MusicFileButton-CI3TYVT_.js";import"./app-DhUPzRO4.js";import"./Alert-BYzP84Tt.js";import"./Modal-CFGsd1lt.js";import"./transition-CS_llsi5.js";const $={class:"md:flex md:items-center md:justify-between"},L={class:"min-w-0 flex-1"},S={class:"flex items-center"},z={class:"mt-1 text-2xl font-bold leading-7 text-neutral-900 sm:truncate sm:text-3xl sm:tracking-tight"},H={class:"mt-1 text-sm text-neutral-500"},E={key:0,class:"mt-4 flex md:ml-4 md:mt-0 space-x-3"},P={class:"grid gap-6 md:grid-cols-2"},q={class:"p-6"},F={class:"divide-y divide-neutral-200"},T={class:"py-4"},O={class:"mt-1 flex items-center text-sm text-neutral-900"},W={key:0,class:"py-4"},U={class:"mt-1 flex items-center text-sm"},G=["href"],I={class:"grid grid-cols-2 gap-x-4"},J={key:0,class:"py-4"},K={class:"mt-1 flex items-center text-sm text-neutral-900"},Q={key:1,class:"py-4"},R={class:"mt-1 flex items-center text-sm text-neutral-900"},X={key:1,class:"py-4"},Y={class:"mt-2 space-y-2"},Z={class:"flex items-center space-x-2"},tt={class:"text-sm font-medium text-neutral-900"},et={class:"text-xs text-neutral-500"},st={class:"flex items-center space-x-2"},nt={class:"py-4"},ot={class:"mt-1 flex items-center text-sm text-neutral-900"},it={class:"p-6"},lt={class:"prose prose-neutral max-w-none"},rt={key:0,class:"whitespace-pre-line"},dt={key:1,class:"text-neutral-500 italic"},at={class:"p-6"},mt={key:0,class:"divide-y divide-neutral-200"},ut={class:"mt-1 text-xs text-neutral-500"},xt={class:"flex items-center space-x-2"},ct={class:"text-xs text-neutral-500"},ft={key:1,class:"text-center py-6"},ht={class:"mt-6"},_t={__name:"Show",props:{band:{type:Object,required:!0},song:{type:Object,required:!0},isAdmin:{type:Boolean,required:!0}},setup(s){const h=s,y=C(null),b=()=>{y.value.open()},p=()=>{_.delete(route("songs.destroy",[h.band.id,h.song.id]))},j=u=>{N(route("songs.files.download",[h.band.id,h.song.id,u.id]),!0,!0)};return(u,e)=>(i(),d(g,null,[o(a(M),{title:`${s.song.name} - ${s.band.name}`},null,8,["title"]),o(D,null,{header:l(()=>[t("div",$,[t("div",L,[t("div",S,[o(a(x),{href:u.route("bands.show",s.band.id),class:"text-sm font-medium text-primary-600 hover:text-primary-700"},{default:l(()=>[m(r(s.band.name),1)]),_:1},8,["href"]),e[0]||(e[0]=t("svg",{class:"mx-2 h-5 w-5 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))]),t("h2",z,r(s.song.name),1),t("p",H," Added "+r(s.song.formatted_created_at),1)]),s.isAdmin?(i(),d("div",E,[o(a(x),{href:u.route("songs.edit",[s.band.id,s.song.id])},{default:l(()=>[o(a(v),{variant:"secondary"},{default:l(()=>e[1]||(e[1]=[t("svg",{class:"-ml-0.5 mr-1.5 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1),m(" Edit Song ")])),_:1})]),_:1},8,["href"]),o(a(v),{variant:"danger",class:"bg-danger-600 hover:bg-danger-700 focus:ring-danger-500",onClick:b},{default:l(()=>e[2]||(e[2]=[t("svg",{class:"-ml-0.5 mr-1.5 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),m(" Delete Song ")])),_:1})])):f("",!0)])]),default:l(()=>[t("div",P,[o(a(k),null,{default:l(()=>{var c;return[t("div",q,[e[13]||(e[13]=t("div",{class:"flex items-center justify-between mb-4"},[t("h3",{class:"text-lg font-semibold text-neutral-900"},"Details")],-1)),t("dl",F,[t("div",T,[e[4]||(e[4]=t("dt",{class:"text-sm font-medium text-neutral-500"},"Duration",-1)),t("dd",O,[e[3]||(e[3]=t("svg",{class:"mr-1.5 h-5 w-5 flex-shrink-0 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),m(" "+r(s.song.formatted_duration),1)])]),s.song.url?(i(),d("div",W,[e[6]||(e[6]=t("dt",{class:"text-sm font-medium text-neutral-500"},"External Link",-1)),t("dd",U,[e[5]||(e[5]=t("svg",{class:"mr-1.5 h-5 w-5 flex-shrink-0 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})],-1)),t("a",{href:s.song.url,target:"_blank",class:"text-primary-600 hover:text-primary-700"},r(s.song.url),9,G)])])):f("",!0),t("div",I,[s.song.artist?(i(),d("div",J,[e[7]||(e[7]=t("dt",{class:"text-sm font-medium text-neutral-500"},"Artist",-1)),t("dd",K,r(s.song.artist),1)])):f("",!0),s.song.bpm?(i(),d("div",Q,[e[8]||(e[8]=t("dt",{class:"text-sm font-medium text-neutral-500"},"BPM",-1)),t("dd",R,r(s.song.bpm),1)])):f("",!0)]),(c=s.song.files)!=null&&c.length?(i(),d("div",X,[e[10]||(e[10]=t("dt",{class:"text-sm font-medium text-neutral-500"},"Files",-1)),t("dd",Y,[(i(!0),d(g,null,w(s.song.files,n=>(i(),d("div",{key:n.id,class:"flex items-center justify-between rounded-md border border-neutral-200 p-2"},[t("div",Z,[(i(),B(A,{key:n.id,file:n,song:s.song,band:s.band},null,8,["file","song","band"])),t("div",null,[t("span",tt,r(n.type.charAt(0).toUpperCase()+n.type.slice(1)),1),t("p",et,r(n.original_filename),1)])]),t("div",st,[o(a(x),{href:u.route("songs.files.download",[s.band.id,s.song.id,n.id]),class:"text-sm text-primary-600 hover:text-primary-700",onClick:vt=>j(n)},{default:l(()=>e[9]||(e[9]=[m(" Download ")])),_:2},1032,["href","onClick"])])]))),128))])])):f("",!0),t("div",nt,[e[12]||(e[12]=t("dt",{class:"text-sm font-medium text-neutral-500"},"Added",-1)),t("dd",ot,[e[11]||(e[11]=t("svg",{class:"mr-1.5 h-5 w-5 flex-shrink-0 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),m(" "+r(s.song.formatted_created_at),1)])])])])]}),_:1}),o(a(k),null,{default:l(()=>[t("div",it,[e[14]||(e[14]=t("div",{class:"flex items-center justify-between mb-4"},[t("h3",{class:"text-lg font-semibold text-neutral-900"},"Notes")],-1)),t("div",lt,[s.song.notes?(i(),d("p",rt,r(s.song.notes),1)):(i(),d("p",dt,"No notes added yet."))])])]),_:1}),o(a(k),{class:"md:col-span-2"},{default:l(()=>{var c;return[t("div",at,[e[20]||(e[20]=t("div",{class:"flex items-center justify-between mb-4"},[t("h3",{class:"text-lg font-semibold text-neutral-900"},"Setlists")],-1)),(c=s.song.setlists)!=null&&c.length?(i(),d("div",mt,[(i(!0),d(g,null,w(s.song.setlists,n=>(i(),d("div",{key:n.id,class:"flex items-center justify-between py-4"},[t("div",null,[o(a(x),{href:u.route("setlists.show",[s.band.id,n.id]),class:"text-sm font-medium text-neutral-900 hover:text-primary-600"},{default:l(()=>[m(r(n.name),1)]),_:2},1032,["href"]),t("p",ut,r(n.songs_count)+" songs Â· "+r(n.total_duration),1)]),t("div",xt,[t("span",ct," Position "+r(n.pivot.order),1),o(a(x),{href:u.route("setlists.show",[s.band.id,n.id]),class:"text-primary-600 hover:text-primary-700"},{default:l(()=>[o(a(v),{variant:"outline",size:"sm"},{default:l(()=>e[15]||(e[15]=[m("View")])),_:1})]),_:2},1032,["href"])])]))),128))])):(i(),d("div",ft,[e[17]||(e[17]=t("svg",{class:"mx-auto h-12 w-12 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1)),e[18]||(e[18]=t("h3",{class:"mt-2 text-sm font-medium text-neutral-900"},"No setlists",-1)),e[19]||(e[19]=t("p",{class:"mt-1 text-sm text-neutral-500"},"This song isn't part of any setlists yet.",-1)),t("div",ht,[o(a(x),{href:u.route("setlists.create",{band:s.band.id})},{default:l(()=>[o(a(v),{variant:"primary",size:"sm"},{default:l(()=>e[16]||(e[16]=[m(" Create New Setlist ")])),_:1})]),_:1},8,["href"])])]))])]}),_:1})]),o(V,{ref_key:"deleteModal",ref:y,title:"Delete Song",message:"Are you sure you want to delete this song? This action cannot be undone.",type:"error","confirm-text":"Delete","show-cancel":!0,onConfirm:p},null,512)]),_:1})],64))}};export{_t as default};
