import{r as s,p as q,s as m,H as F,c,o as f,h as I,b as i,t as K,i as x,F as M,q as k,n as V}from"./app-DUZOKMQo.js";import"./DSTooltip.vue_vue_type_style_index_0_lang-j5q9rdNZ.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"space-y-1"},h={key:0,class:"block text-sm font-medium text-neutral-700 text-left"},z={class:"flex items-center space-x-2"},j={key:1,class:"mt-2 text-sm text-red-600"},A={__name:"DSDurationInput",props:{modelValue:{type:[String,Number],default:""},label:{type:String,default:null},error:{type:String,default:""},required:{type:Boolean,default:!1},includeHours:{type:Boolean,default:!1}},emits:["update:modelValue","update:seconds"],setup(o,{emit:N}){const n=o,w=N,u=s(""),l=s(""),a=s(""),S=s(null),v=s(null),B=s(null);let y=!1;const d=r=>String(r||"").padStart(2,"0");q(()=>!n.required&&n.label&&n.label.includes("(Optional)")),q(()=>n.label?n.label.replace("(Optional)","").trim():""),m(()=>n.modelValue,r=>{y||(r||"0:0").split(":").map(e=>e||"0")},{immediate:!0}),m([u,l,a],([r,e,t])=>{const C=parseInt(r,10)||0,H=parseInt(e,10)||0,U=parseInt(t,10)||0;let p="",g=0;n.includeHours?(p=`${d(r)}:${d(e)}:${d(t)}`,g=C*3600+H*60+U):(p=`${d(e)}:${d(t)}`,g=H*60+U),p!==n.modelValue&&(y=!0,w("update:modelValue",p),w("update:seconds",g),F(()=>{y=!1}))},{deep:!0}),m(u,r=>{parseInt(r,10)>59&&(u.value="99")}),m(l,r=>{parseInt(r,10)>59&&(l.value="59")}),m(a,r=>{parseInt(r,10)>59&&(a.value="59")});const $=(r,e)=>{r.value.length===2&&(e!=null&&e.value)&&(e.value.focus(),e.value.select())},D=(r,e)=>{r.key==="Backspace"&&r.target.value===""&&(e!=null&&e.value)&&e.value.focus()},b=r=>{r.value&&(r.value=r.value.padStart(2,"0"))};return(r,e)=>(f(),c("div",T,[o.label?(f(),c("label",h,K(o.label),1)):I("",!0),i("div",z,[n.includeHours?(f(),c(M,{key:0},[x(i("input",{ref_key:"hourInputRef",ref:S,"onUpdate:modelValue":e[0]||(e[0]=t=>u.value=t),type:"number",min:"0",max:"59",inputmode:"numeric",maxlength:"2",placeholder:"hh",class:V(["w-12 rounded-lg border-neutral-300 shadow-sm transition-colors duration-200 no-spinner","focus:border-primary-500 focus:ring-primary-500",{"border-error-500 focus:border-error-500 focus:ring-error-500":o.error}]),onInput:e[1]||(e[1]=t=>$(u.value,v.value)),onBlur:e[2]||(e[2]=t=>b(u.value))},null,34),[[k,u.value]]),e[10]||(e[10]=i("span",{class:"text-gray-500 -ml-1"},":",-1))],64)):I("",!0),x(i("input",{ref_key:"minuteInputRef",ref:v,"onUpdate:modelValue":e[3]||(e[3]=t=>l.value=t),type:"number",min:"0",max:"59",inputmode:"numeric",maxlength:"2",placeholder:"mm",class:V(["w-12 rounded-lg border-neutral-300 shadow-sm transition-colors duration-200 no-spinner","focus:border-primary-500 focus:ring-primary-500",{"border-error-500 focus:border-error-500 focus:ring-error-500":o.error}]),onInput:e[4]||(e[4]=t=>$(l.value,B.value)),onKeydown:e[5]||(e[5]=t=>D(t,S.value)),onBlur:e[6]||(e[6]=t=>b(l.value))},null,34),[[k,l.value]]),e[11]||(e[11]=i("span",{class:"text-gray-500 -ml-1"},":",-1)),x(i("input",{ref_key:"secondInputRef",ref:B,"onUpdate:modelValue":e[7]||(e[7]=t=>a.value=t),type:"number",min:"0",max:"59",inputmode:"numeric",maxlength:"2",placeholder:"ss",class:V(["w-12 rounded-lg border-neutral-300 shadow-sm transition-colors duration-200 no-spinner","focus:border-primary-500 focus:ring-primary-500",{"border-error-500 focus:border-error-500 focus:ring-error-500":o.error}]),onKeydown:e[8]||(e[8]=t=>D(t,v.value)),onBlur:e[9]||(e[9]=t=>b(a.value))},null,34),[[k,a.value]])]),o.error?(f(),c("p",j,K(o.error),1)):I("",!0)]))}},P=O(A,[["__scopeId","data-v-87bf84a9"]]);export{P as D};
