import{c as Se,o as oe,k as _e,n as tt,ad as $e,ae as Jt,af as ei,g as We,e as it,w as lt,a as ti,ag as ii,b as re,h as ht,F as si,A as je,y as ni,ah as ri,ai,H as oi,aj as ui}from"./app-BWRtL228.js";const li=["disabled"],hs={__name:"Button",props:{variant:{type:String,default:"primary",validator:i=>["primary","secondary","outline","ghost","danger"].includes(i)},size:{type:String,default:"md",validator:i=>["sm","md","lg"].includes(i)},disabled:{type:Boolean,default:!1}},setup(i){return(e,t)=>(oe(),Se("button",{class:tt(["inline-flex items-center justify-center rounded-lg transition-colors duration-200 font-medium",{"bg-primary-500 text-white hover:bg-primary-600 focus:ring-2 focus:ring-primary-500 focus:ring-offset-2":i.variant==="primary","bg-secondary-500 text-white hover:bg-secondary-600 focus:ring-2 focus:ring-secondary-500 focus:ring-offset-2":i.variant==="secondary","bg-danger-600 text-white hover:bg-danger-700 focus:ring-2 focus:ring-danger-500 focus:ring-offset-2":i.variant==="danger","border-2 border-primary-500 text-primary-500 hover:bg-primary-50":i.variant==="outline","text-primary-500 hover:bg-primary-50":i.variant==="ghost"},{"px-2 py-1 text-xs":i.size==="sm","px-3 py-1.5 text-sm sm:px-4 sm:py-2 sm:text-base":i.size==="md","px-4 py-2 text-base sm:px-6 sm:py-3 sm:text-lg":i.size==="lg"},{"opacity-50 cursor-not-allowed":i.disabled}]),disabled:i.disabled},[_e(e.$slots,"default")],10,li))}};function J(i){return typeof i=="string"||i instanceof String}function dt(i){var e;return typeof i=="object"&&i!=null&&(i==null||(e=i.constructor)==null?void 0:e.name)==="Object"}function Bt(i,e){return Array.isArray(e)?Bt(i,(t,s)=>e.includes(s)):Object.entries(i).reduce((t,s)=>{let[n,r]=s;return e(r,n)&&(t[n]=r),t},{})}const f={NONE:"NONE",LEFT:"LEFT",FORCE_LEFT:"FORCE_LEFT",RIGHT:"RIGHT",FORCE_RIGHT:"FORCE_RIGHT"};function hi(i){switch(i){case f.LEFT:return f.FORCE_LEFT;case f.RIGHT:return f.FORCE_RIGHT;default:return i}}function Ue(i){return i.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}function Fe(i,e){if(e===i)return!0;const t=Array.isArray(e),s=Array.isArray(i);let n;if(t&&s){if(e.length!=i.length)return!1;for(n=0;n<e.length;n++)if(!Fe(e[n],i[n]))return!1;return!0}if(t!=s)return!1;if(e&&i&&typeof e=="object"&&typeof i=="object"){const r=e instanceof Date,a=i instanceof Date;if(r&&a)return e.getTime()==i.getTime();if(r!=a)return!1;const o=e instanceof RegExp,u=i instanceof RegExp;if(o&&u)return e.toString()==i.toString();if(o!=u)return!1;const l=Object.keys(e);for(n=0;n<l.length;n++)if(!Object.prototype.hasOwnProperty.call(i,l[n]))return!1;for(n=0;n<l.length;n++)if(!Fe(i[l[n]],e[l[n]]))return!1;return!0}else if(e&&i&&typeof e=="function"&&typeof i=="function")return e.toString()===i.toString();return!1}class di{constructor(e){for(Object.assign(this,e);this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start;if(this.insertedCount)for(;this.value.slice(this.cursorPos)!==this.oldValue.slice(this.oldSelection.end);)this.value.length-this.cursorPos<this.oldValue.length-this.oldSelection.end?++this.oldSelection.end:++this.cursorPos}get startChangePos(){return Math.min(this.cursorPos,this.oldSelection.start)}get insertedCount(){return this.cursorPos-this.startChangePos}get inserted(){return this.value.substr(this.startChangePos,this.insertedCount)}get removedCount(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}get removed(){return this.oldValue.substr(this.startChangePos,this.removedCount)}get head(){return this.value.substring(0,this.startChangePos)}get tail(){return this.value.substring(this.startChangePos+this.insertedCount)}get removeDirection(){return!this.removedCount||this.insertedCount?f.NONE:(this.oldSelection.end===this.cursorPos||this.oldSelection.start===this.cursorPos)&&this.oldSelection.end===this.oldSelection.start?f.RIGHT:f.LEFT}}function g(i,e){return new g.InputMask(i,e)}function Dt(i){if(i==null)throw new Error("mask property should be defined");return i instanceof RegExp?g.MaskedRegExp:J(i)?g.MaskedPattern:i===Date?g.MaskedDate:i===Number?g.MaskedNumber:Array.isArray(i)||i===Array?g.MaskedDynamic:g.Masked&&i.prototype instanceof g.Masked?i:g.Masked&&i instanceof g.Masked?i.constructor:i instanceof Function?g.MaskedFunction:(console.warn("Mask not found for mask",i),g.Masked)}function ke(i){if(!i)throw new Error("Options in not defined");if(g.Masked){if(i.prototype instanceof g.Masked)return{mask:i};const{mask:e=void 0,...t}=i instanceof g.Masked?{mask:i}:dt(i)&&i.mask instanceof g.Masked?i:{};if(e){const s=e.mask;return{...Bt(e,(n,r)=>!r.startsWith("_")),mask:e.constructor,_mask:s,...t}}}return dt(i)?{...i}:{mask:i}}function Y(i){if(g.Masked&&i instanceof g.Masked)return i;const e=ke(i),t=Dt(e.mask);if(!t)throw new Error("Masked class is not found for provided mask "+e.mask+", appropriate module needs to be imported manually before creating mask.");return e.mask===t&&delete e.mask,e._mask&&(e.mask=e._mask,delete e._mask),new t(e)}g.createMask=Y;class st{get selectionStart(){let e;try{e=this._unsafeSelectionStart}catch{}return e??this.value.length}get selectionEnd(){let e;try{e=this._unsafeSelectionEnd}catch{}return e??this.value.length}select(e,t){if(!(e==null||t==null||e===this.selectionStart&&t===this.selectionEnd))try{this._unsafeSelect(e,t)}catch{}}get isActive(){return!1}}g.MaskElement=st;const pt=90,pi=89;class Ve extends st{constructor(e){super(),this.input=e,this._onKeydown=this._onKeydown.bind(this),this._onInput=this._onInput.bind(this),this._onBeforeinput=this._onBeforeinput.bind(this),this._onCompositionEnd=this._onCompositionEnd.bind(this)}get rootElement(){var e,t,s;return(e=(t=(s=this.input).getRootNode)==null?void 0:t.call(s))!=null?e:document}get isActive(){return this.input===this.rootElement.activeElement}bindEvents(e){this.input.addEventListener("keydown",this._onKeydown),this.input.addEventListener("input",this._onInput),this.input.addEventListener("beforeinput",this._onBeforeinput),this.input.addEventListener("compositionend",this._onCompositionEnd),this.input.addEventListener("drop",e.drop),this.input.addEventListener("click",e.click),this.input.addEventListener("focus",e.focus),this.input.addEventListener("blur",e.commit),this._handlers=e}_onKeydown(e){if(this._handlers.redo&&(e.keyCode===pt&&e.shiftKey&&(e.metaKey||e.ctrlKey)||e.keyCode===pi&&e.ctrlKey))return e.preventDefault(),this._handlers.redo(e);if(this._handlers.undo&&e.keyCode===pt&&(e.metaKey||e.ctrlKey))return e.preventDefault(),this._handlers.undo(e);e.isComposing||this._handlers.selectionChange(e)}_onBeforeinput(e){if(e.inputType==="historyUndo"&&this._handlers.undo)return e.preventDefault(),this._handlers.undo(e);if(e.inputType==="historyRedo"&&this._handlers.redo)return e.preventDefault(),this._handlers.redo(e)}_onCompositionEnd(e){this._handlers.input(e)}_onInput(e){e.isComposing||this._handlers.input(e)}unbindEvents(){this.input.removeEventListener("keydown",this._onKeydown),this.input.removeEventListener("input",this._onInput),this.input.removeEventListener("beforeinput",this._onBeforeinput),this.input.removeEventListener("compositionend",this._onCompositionEnd),this.input.removeEventListener("drop",this._handlers.drop),this.input.removeEventListener("click",this._handlers.click),this.input.removeEventListener("focus",this._handlers.focus),this.input.removeEventListener("blur",this._handlers.commit),this._handlers={}}}g.HTMLMaskElement=Ve;class ci extends Ve{constructor(e){super(e),this.input=e}get _unsafeSelectionStart(){return this.input.selectionStart!=null?this.input.selectionStart:this.value.length}get _unsafeSelectionEnd(){return this.input.selectionEnd}_unsafeSelect(e,t){this.input.setSelectionRange(e,t)}get value(){return this.input.value}set value(e){this.input.value=e}}g.HTMLMaskElement=Ve;class It extends Ve{get _unsafeSelectionStart(){const e=this.rootElement,t=e.getSelection&&e.getSelection(),s=t&&t.anchorOffset,n=t&&t.focusOffset;return n==null||s==null||s<n?s:n}get _unsafeSelectionEnd(){const e=this.rootElement,t=e.getSelection&&e.getSelection(),s=t&&t.anchorOffset,n=t&&t.focusOffset;return n==null||s==null||s>n?s:n}_unsafeSelect(e,t){if(!this.rootElement.createRange)return;const s=this.rootElement.createRange();s.setStart(this.input.firstChild||this.input,e),s.setEnd(this.input.lastChild||this.input,t);const n=this.rootElement,r=n.getSelection&&n.getSelection();r&&(r.removeAllRanges(),r.addRange(s))}get value(){return this.input.textContent||""}set value(e){this.input.textContent=e}}g.HTMLContenteditableMaskElement=It;class Re{constructor(){this.states=[],this.currentIndex=0}get currentState(){return this.states[this.currentIndex]}get isEmpty(){return this.states.length===0}push(e){this.currentIndex<this.states.length-1&&(this.states.length=this.currentIndex+1),this.states.push(e),this.states.length>Re.MAX_LENGTH&&this.states.shift(),this.currentIndex=this.states.length-1}go(e){return this.currentIndex=Math.min(Math.max(this.currentIndex+e,0),this.states.length-1),this.currentState}undo(){return this.go(-1)}redo(){return this.go(1)}clear(){this.states.length=0,this.currentIndex=0}}Re.MAX_LENGTH=100;class fi{constructor(e,t){this.el=e instanceof st?e:e.isContentEditable&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"?new It(e):new ci(e),this.masked=Y(t),this._listeners={},this._value="",this._unmaskedValue="",this._rawInputValue="",this.history=new Re,this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this._onClick=this._onClick.bind(this),this._onUndo=this._onUndo.bind(this),this._onRedo=this._onRedo.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}maskEquals(e){var t;return e==null||((t=this.masked)==null?void 0:t.maskEquals(e))}get mask(){return this.masked.mask}set mask(e){if(this.maskEquals(e))return;if(!(e instanceof g.Masked)&&this.masked.constructor===Dt(e)){this.masked.updateOptions({mask:e});return}const t=e instanceof g.Masked?e:Y({mask:e});t.unmaskedValue=this.masked.unmaskedValue,this.masked=t}get value(){return this._value}set value(e){this.value!==e&&(this.masked.value=e,this.updateControl("auto"))}get unmaskedValue(){return this._unmaskedValue}set unmaskedValue(e){this.unmaskedValue!==e&&(this.masked.unmaskedValue=e,this.updateControl("auto"))}get rawInputValue(){return this._rawInputValue}set rawInputValue(e){this.rawInputValue!==e&&(this.masked.rawInputValue=e,this.updateControl(),this.alignCursor())}get typedValue(){return this.masked.typedValue}set typedValue(e){this.masked.typedValueEquals(e)||(this.masked.typedValue=e,this.updateControl("auto"))}get displayValue(){return this.masked.displayValue}_bindEvents(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange,undo:this._onUndo,redo:this._onRedo})}_unbindEvents(){this.el&&this.el.unbindEvents()}_fireEvent(e,t){const s=this._listeners[e];s&&s.forEach(n=>n(t))}get selectionStart(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}get cursorPos(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd}set cursorPos(e){!this.el||!this.el.isActive||(this.el.select(e,e),this._saveSelection())}_saveSelection(){this.displayValue!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}updateValue(){this.masked.value=this.el.value,this._value=this.masked.value,this._unmaskedValue=this.masked.unmaskedValue,this._rawInputValue=this.masked.rawInputValue}updateControl(e){const t=this.masked.unmaskedValue,s=this.masked.value,n=this.masked.rawInputValue,r=this.displayValue,a=this.unmaskedValue!==t||this.value!==s||this._rawInputValue!==n;this._unmaskedValue=t,this._value=s,this._rawInputValue=n,this.el.value!==r&&(this.el.value=r),e==="auto"?this.alignCursor():e!=null&&(this.cursorPos=e),a&&this._fireChangeEvents(),!this._historyChanging&&(a||this.history.isEmpty)&&this.history.push({unmaskedValue:t,selection:{start:this.selectionStart,end:this.cursorPos}})}updateOptions(e){const{mask:t,...s}=e,n=!this.maskEquals(t),r=this.masked.optionsIsChanged(s);n&&(this.mask=t),r&&this.masked.updateOptions(s),(n||r)&&this.updateControl()}updateCursor(e){e!=null&&(this.cursorPos=e,this._delayUpdateCursor(e))}_delayUpdateCursor(e){this._abortUpdateCursor(),this._changingCursorPos=e,this._cursorChanging=setTimeout(()=>{this.el&&(this.cursorPos=this._changingCursorPos,this._abortUpdateCursor())},10)}_fireChangeEvents(){this._fireEvent("accept",this._inputEvent),this.masked.isComplete&&this._fireEvent("complete",this._inputEvent)}_abortUpdateCursor(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}alignCursor(){this.cursorPos=this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos,f.LEFT))}alignCursorFriendly(){this.selectionStart===this.cursorPos&&this.alignCursor()}on(e,t){return this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t),this}off(e,t){if(!this._listeners[e])return this;if(!t)return delete this._listeners[e],this;const s=this._listeners[e].indexOf(t);return s>=0&&this._listeners[e].splice(s,1),this}_onInput(e){this._inputEvent=e,this._abortUpdateCursor();const t=new di({value:this.el.value,cursorPos:this.cursorPos,oldValue:this.displayValue,oldSelection:this._selection}),s=this.masked.rawInputValue,n=this.masked.splice(t.startChangePos,t.removed.length,t.inserted,t.removeDirection,{input:!0,raw:!0}).offset,r=s===this.masked.rawInputValue?t.removeDirection:f.NONE;let a=this.masked.nearestInputPos(t.startChangePos+n,r);r!==f.NONE&&(a=this.masked.nearestInputPos(a,f.NONE)),this.updateControl(a),delete this._inputEvent}_onChange(){this.displayValue!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}_onDrop(e){e.preventDefault(),e.stopPropagation()}_onFocus(e){this.alignCursorFriendly()}_onClick(e){this.alignCursorFriendly()}_onUndo(){this._applyHistoryState(this.history.undo())}_onRedo(){this._applyHistoryState(this.history.redo())}_applyHistoryState(e){e&&(this._historyChanging=!0,this.unmaskedValue=e.unmaskedValue,this.el.select(e.selection.start,e.selection.end),this._saveSelection(),this._historyChanging=!1)}destroy(){this._unbindEvents(),this._listeners.length=0,delete this.el}}g.InputMask=fi;class w{static normalize(e){return Array.isArray(e)?e:[e,new w]}constructor(e){Object.assign(this,{inserted:"",rawInserted:"",tailShift:0,skip:!1},e)}aggregate(e){return this.inserted+=e.inserted,this.rawInserted+=e.rawInserted,this.tailShift+=e.tailShift,this.skip=this.skip||e.skip,this}get offset(){return this.tailShift+this.inserted.length}get consumed(){return!!this.rawInserted||this.skip}equals(e){return this.inserted===e.inserted&&this.tailShift===e.tailShift&&this.rawInserted===e.rawInserted&&this.skip===e.skip}}g.ChangeDetails=w;class H{constructor(e,t,s){e===void 0&&(e=""),t===void 0&&(t=0),this.value=e,this.from=t,this.stop=s}toString(){return this.value}extend(e){this.value+=String(e)}appendTo(e){return e.append(this.toString(),{tail:!0}).aggregate(e._appendPlaceholder())}get state(){return{value:this.value,from:this.from,stop:this.stop}}set state(e){Object.assign(this,e)}unshift(e){if(!this.value.length||e!=null&&this.from>=e)return"";const t=this.value[0];return this.value=this.value.slice(1),t}shift(){if(!this.value.length)return"";const e=this.value[this.value.length-1];return this.value=this.value.slice(0,-1),e}}class S{constructor(e){this._value="",this._update({...S.DEFAULTS,...e}),this._initialized=!0}updateOptions(e){this.optionsIsChanged(e)&&this.withValueRefresh(this._update.bind(this,e))}_update(e){Object.assign(this,e)}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue}}set state(e){this._value=e._value}reset(){this._value=""}get value(){return this._value}set value(e){this.resolve(e,{input:!0})}resolve(e,t){t===void 0&&(t={input:!0}),this.reset(),this.append(e,t,""),this.doCommit()}get unmaskedValue(){return this.value}set unmaskedValue(e){this.resolve(e,{})}get typedValue(){return this.parse?this.parse(this.value,this):this.unmaskedValue}set typedValue(e){this.format?this.value=this.format(e,this):this.unmaskedValue=String(e)}get rawInputValue(){return this.extractInput(0,this.displayValue.length,{raw:!0})}set rawInputValue(e){this.resolve(e,{raw:!0})}get displayValue(){return this.value}get isComplete(){return!0}get isFilled(){return this.isComplete}nearestInputPos(e,t){return e}totalInputPositions(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),Math.min(this.displayValue.length,t-e)}extractInput(e,t,s){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),this.displayValue.slice(e,t)}extractTail(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),new H(this.extractInput(e,t),e)}appendTail(e){return J(e)&&(e=new H(String(e))),e.appendTo(this)}_appendCharRaw(e,t){return e?(this._value+=e,new w({inserted:e,rawInserted:e})):new w}_appendChar(e,t,s){t===void 0&&(t={});const n=this.state;let r;if([e,r]=this.doPrepareChar(e,t),e&&(r=r.aggregate(this._appendCharRaw(e,t)),!r.rawInserted&&this.autofix==="pad")){const a=this.state;this.state=n;let o=this.pad(t);const u=this._appendCharRaw(e,t);o=o.aggregate(u),u.rawInserted||o.equals(r)?r=o:this.state=a}if(r.inserted){let a,o=this.doValidate(t)!==!1;if(o&&s!=null){const u=this.state;if(this.overwrite===!0){a=s.state;for(let h=0;h<r.rawInserted.length;++h)s.unshift(this.displayValue.length-r.tailShift)}let l=this.appendTail(s);if(o=l.rawInserted.length===s.toString().length,!(o&&l.inserted)&&this.overwrite==="shift"){this.state=u,a=s.state;for(let h=0;h<r.rawInserted.length;++h)s.shift();l=this.appendTail(s),o=l.rawInserted.length===s.toString().length}o&&l.inserted&&(this.state=u)}o||(r=new w,this.state=n,s&&a&&(s.state=a))}return r}_appendPlaceholder(){return new w}_appendEager(){return new w}append(e,t,s){if(!J(e))throw new Error("value should be string");const n=J(s)?new H(String(s)):s;t!=null&&t.tail&&(t._beforeTailState=this.state);let r;[e,r]=this.doPrepare(e,t);for(let a=0;a<e.length;++a){const o=this._appendChar(e[a],t,n);if(!o.rawInserted&&!this.doSkipInvalid(e[a],t,n))break;r.aggregate(o)}return(this.eager===!0||this.eager==="append")&&t!=null&&t.input&&e&&r.aggregate(this._appendEager()),n!=null&&(r.tailShift+=this.appendTail(n).tailShift),r}remove(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),this._value=this.displayValue.slice(0,e)+this.displayValue.slice(t),new w}withValueRefresh(e){if(this._refreshing||!this._initialized)return e();this._refreshing=!0;const t=this.rawInputValue,s=this.value,n=e();return this.rawInputValue=t,this.value&&this.value!==s&&s.indexOf(this.value)===0&&(this.append(s.slice(this.displayValue.length),{},""),this.doCommit()),delete this._refreshing,n}runIsolated(e){if(this._isolated||!this._initialized)return e(this);this._isolated=!0;const t=this.state,s=e(this);return this.state=t,delete this._isolated,s}doSkipInvalid(e,t,s){return!!this.skipInvalid}doPrepare(e,t){return t===void 0&&(t={}),w.normalize(this.prepare?this.prepare(e,this,t):e)}doPrepareChar(e,t){return t===void 0&&(t={}),w.normalize(this.prepareChar?this.prepareChar(e,this,t):e)}doValidate(e){return(!this.validate||this.validate(this.value,this,e))&&(!this.parent||this.parent.doValidate(e))}doCommit(){this.commit&&this.commit(this.value,this)}splice(e,t,s,n,r){s===void 0&&(s=""),n===void 0&&(n=f.NONE),r===void 0&&(r={input:!0});const a=e+t,o=this.extractTail(a),u=this.eager===!0||this.eager==="remove";let l;u&&(n=hi(n),l=this.extractInput(0,a,{raw:!0}));let h=e;const d=new w;if(n!==f.NONE&&(h=this.nearestInputPos(e,t>1&&e!==0&&!u?f.NONE:n),d.tailShift=h-e),d.aggregate(this.remove(h)),u&&n!==f.NONE&&l===this.rawInputValue)if(n===f.FORCE_LEFT){let p;for(;l===this.rawInputValue&&(p=this.displayValue.length);)d.aggregate(new w({tailShift:-1})).aggregate(this.remove(p-1))}else n===f.FORCE_RIGHT&&o.unshift();return d.aggregate(this.append(s,r,o))}maskEquals(e){return this.mask===e}optionsIsChanged(e){return!Fe(this,e)}typedValueEquals(e){const t=this.typedValue;return e===t||S.EMPTY_VALUES.includes(e)&&S.EMPTY_VALUES.includes(t)||(this.format?this.format(e,this)===this.format(this.typedValue,this):!1)}pad(e){return new w}}S.DEFAULTS={skipInvalid:!0};S.EMPTY_VALUES=[void 0,null,""];g.Masked=S;class ae{constructor(e,t){e===void 0&&(e=[]),t===void 0&&(t=0),this.chunks=e,this.from=t}toString(){return this.chunks.map(String).join("")}extend(e){if(!String(e))return;e=J(e)?new H(String(e)):e;const t=this.chunks[this.chunks.length-1],s=t&&(t.stop===e.stop||e.stop==null)&&e.from===t.from+t.toString().length;if(e instanceof H)s?t.extend(e.toString()):this.chunks.push(e);else if(e instanceof ae){if(e.stop==null){let n;for(;e.chunks.length&&e.chunks[0].stop==null;)n=e.chunks.shift(),n.from+=e.from,this.extend(n)}e.toString()&&(e.stop=e.blockIndex,this.chunks.push(e))}}appendTo(e){if(!(e instanceof g.MaskedPattern))return new H(this.toString()).appendTo(e);const t=new w;for(let s=0;s<this.chunks.length;++s){const n=this.chunks[s],r=e._mapPosToBlock(e.displayValue.length),a=n.stop;let o;if(a!=null&&(!r||r.index<=a)&&((n instanceof ae||e._stops.indexOf(a)>=0)&&t.aggregate(e._appendPlaceholder(a)),o=n instanceof ae&&e._blocks[a]),o){const u=o.appendTail(n);t.aggregate(u);const l=n.toString().slice(u.rawInserted.length);l&&t.aggregate(e.append(l,{tail:!0}))}else t.aggregate(e.append(n.toString(),{tail:!0}))}return t}get state(){return{chunks:this.chunks.map(e=>e.state),from:this.from,stop:this.stop,blockIndex:this.blockIndex}}set state(e){const{chunks:t,...s}=e;Object.assign(this,s),this.chunks=t.map(n=>{const r="chunks"in n?new ae:new H;return r.state=n,r})}unshift(e){if(!this.chunks.length||e!=null&&this.from>=e)return"";const t=e!=null?e-this.from:e;let s=0;for(;s<this.chunks.length;){const n=this.chunks[s],r=n.unshift(t);if(n.toString()){if(!r)break;++s}else this.chunks.splice(s,1);if(r)return r}return""}shift(){if(!this.chunks.length)return"";let e=this.chunks.length-1;for(;0<=e;){const t=this.chunks[e],s=t.shift();if(t.toString()){if(!s)break;--e}else this.chunks.splice(e,1);if(s)return s}return""}}class mi{constructor(e,t){this.masked=e,this._log=[];const{offset:s,index:n}=e._mapPosToBlock(t)||(t<0?{index:0,offset:0}:{index:this.masked._blocks.length,offset:0});this.offset=s,this.index=n,this.ok=!1}get block(){return this.masked._blocks[this.index]}get pos(){return this.masked._blockStartPos(this.index)+this.offset}get state(){return{index:this.index,offset:this.offset,ok:this.ok}}set state(e){Object.assign(this,e)}pushState(){this._log.push(this.state)}popState(){const e=this._log.pop();return e&&(this.state=e),e}bindBlock(){this.block||(this.index<0&&(this.index=0,this.offset=0),this.index>=this.masked._blocks.length&&(this.index=this.masked._blocks.length-1,this.offset=this.block.displayValue.length))}_pushLeft(e){for(this.pushState(),this.bindBlock();0<=this.index;--this.index,this.offset=((t=this.block)==null?void 0:t.displayValue.length)||0){var t;if(e())return this.ok=!0}return this.ok=!1}_pushRight(e){for(this.pushState(),this.bindBlock();this.index<this.masked._blocks.length;++this.index,this.offset=0)if(e())return this.ok=!0;return this.ok=!1}pushLeftBeforeFilled(){return this._pushLeft(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,f.FORCE_LEFT),this.offset!==0))return!0})}pushLeftBeforeInput(){return this._pushLeft(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,f.LEFT),!0})}pushLeftBeforeRequired(){return this._pushLeft(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,f.LEFT),!0})}pushRightBeforeFilled(){return this._pushRight(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,f.FORCE_RIGHT),this.offset!==this.block.value.length))return!0})}pushRightBeforeInput(){return this._pushRight(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,f.NONE),!0})}pushRightBeforeRequired(){return this._pushRight(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,f.NONE),!0})}}class Mt{constructor(e){Object.assign(this,e),this._value="",this.isFixed=!0}get value(){return this._value}get unmaskedValue(){return this.isUnmasking?this.value:""}get rawInputValue(){return this._isRawInput?this.value:""}get displayValue(){return this.value}reset(){this._isRawInput=!1,this._value=""}remove(e,t){return e===void 0&&(e=0),t===void 0&&(t=this._value.length),this._value=this._value.slice(0,e)+this._value.slice(t),this._value||(this._isRawInput=!1),new w}nearestInputPos(e,t){t===void 0&&(t=f.NONE);const s=0,n=this._value.length;switch(t){case f.LEFT:case f.FORCE_LEFT:return s;case f.NONE:case f.RIGHT:case f.FORCE_RIGHT:default:return n}}totalInputPositions(e,t){return e===void 0&&(e=0),t===void 0&&(t=this._value.length),this._isRawInput?t-e:0}extractInput(e,t,s){return e===void 0&&(e=0),t===void 0&&(t=this._value.length),s===void 0&&(s={}),s.raw&&this._isRawInput&&this._value.slice(e,t)||""}get isComplete(){return!0}get isFilled(){return!!this._value}_appendChar(e,t){if(t===void 0&&(t={}),this.isFilled)return new w;const s=this.eager===!0||this.eager==="append",r=this.char===e&&(this.isUnmasking||t.input||t.raw)&&(!t.raw||!s)&&!t.tail,a=new w({inserted:this.char,rawInserted:r?this.char:""});return this._value=this.char,this._isRawInput=r&&(t.raw||t.input),a}_appendEager(){return this._appendChar(this.char,{tail:!0})}_appendPlaceholder(){const e=new w;return this.isFilled||(this._value=e.inserted=this.char),e}extractTail(){return new H("")}appendTail(e){return J(e)&&(e=new H(String(e))),e.appendTo(this)}append(e,t,s){const n=this._appendChar(e[0],t);return s!=null&&(n.tailShift+=this.appendTail(s).tailShift),n}doCommit(){}get state(){return{_value:this._value,_rawInputValue:this.rawInputValue}}set state(e){this._value=e._value,this._isRawInput=!!e._rawInputValue}pad(e){return this._appendPlaceholder()}}class Te{constructor(e){const{parent:t,isOptional:s,placeholderChar:n,displayChar:r,lazy:a,eager:o,...u}=e;this.masked=Y(u),Object.assign(this,{parent:t,isOptional:s,placeholderChar:n,displayChar:r,lazy:a,eager:o})}reset(){this.isFilled=!1,this.masked.reset()}remove(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.value.length),e===0&&t>=1?(this.isFilled=!1,this.masked.remove(e,t)):new w}get value(){return this.masked.value||(this.isFilled&&!this.isOptional?this.placeholderChar:"")}get unmaskedValue(){return this.masked.unmaskedValue}get rawInputValue(){return this.masked.rawInputValue}get displayValue(){return this.masked.value&&this.displayChar||this.value}get isComplete(){return!!this.masked.value||this.isOptional}_appendChar(e,t){if(t===void 0&&(t={}),this.isFilled)return new w;const s=this.masked.state;let n=this.masked._appendChar(e,this.currentMaskFlags(t));return n.inserted&&this.doValidate(t)===!1&&(n=new w,this.masked.state=s),!n.inserted&&!this.isOptional&&!this.lazy&&!t.input&&(n.inserted=this.placeholderChar),n.skip=!n.inserted&&!this.isOptional,this.isFilled=!!n.inserted,n}append(e,t,s){return this.masked.append(e,this.currentMaskFlags(t),s)}_appendPlaceholder(){return this.isFilled||this.isOptional?new w:(this.isFilled=!0,new w({inserted:this.placeholderChar}))}_appendEager(){return new w}extractTail(e,t){return this.masked.extractTail(e,t)}appendTail(e){return this.masked.appendTail(e)}extractInput(e,t,s){return e===void 0&&(e=0),t===void 0&&(t=this.value.length),this.masked.extractInput(e,t,s)}nearestInputPos(e,t){t===void 0&&(t=f.NONE);const s=0,n=this.value.length,r=Math.min(Math.max(e,s),n);switch(t){case f.LEFT:case f.FORCE_LEFT:return this.isComplete?r:s;case f.RIGHT:case f.FORCE_RIGHT:return this.isComplete?r:n;case f.NONE:default:return r}}totalInputPositions(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.value.length),this.value.slice(e,t).length}doValidate(e){return this.masked.doValidate(this.currentMaskFlags(e))&&(!this.parent||this.parent.doValidate(this.currentMaskFlags(e)))}doCommit(){this.masked.doCommit()}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue,masked:this.masked.state,isFilled:this.isFilled}}set state(e){this.masked.state=e.masked,this.isFilled=e.isFilled}currentMaskFlags(e){var t;return{...e,_beforeTailState:(e==null||(t=e._beforeTailState)==null?void 0:t.masked)||(e==null?void 0:e._beforeTailState)}}pad(e){return new w}}Te.DEFAULT_DEFINITIONS={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./};class gi extends S{updateOptions(e){super.updateOptions(e)}_update(e){const t=e.mask;t&&(e.validate=s=>s.search(t)>=0),super._update(e)}}g.MaskedRegExp=gi;class F extends S{constructor(e){super({...F.DEFAULTS,...e,definitions:Object.assign({},Te.DEFAULT_DEFINITIONS,e==null?void 0:e.definitions)})}updateOptions(e){super.updateOptions(e)}_update(e){e.definitions=Object.assign({},this.definitions,e.definitions),super._update(e),this._rebuildMask()}_rebuildMask(){const e=this.definitions;this._blocks=[],this.exposeBlock=void 0,this._stops=[],this._maskedBlocks={};const t=this.mask;if(!t||!e)return;let s=!1,n=!1;for(let r=0;r<t.length;++r){if(this.blocks){const l=t.slice(r),h=Object.keys(this.blocks).filter(p=>l.indexOf(p)===0);h.sort((p,c)=>c.length-p.length);const d=h[0];if(d){const{expose:p,repeat:c,...m}=ke(this.blocks[d]),_={lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,overwrite:this.overwrite,autofix:this.autofix,...m,repeat:c,parent:this},k=c!=null?new g.RepeatBlock(_):Y(_);k&&(this._blocks.push(k),p&&(this.exposeBlock=k),this._maskedBlocks[d]||(this._maskedBlocks[d]=[]),this._maskedBlocks[d].push(this._blocks.length-1)),r+=d.length-1;continue}}let a=t[r],o=a in e;if(a===F.STOP_CHAR){this._stops.push(this._blocks.length);continue}if(a==="{"||a==="}"){s=!s;continue}if(a==="["||a==="]"){n=!n;continue}if(a===F.ESCAPE_CHAR){if(++r,a=t[r],!a)break;o=!1}const u=o?new Te({isOptional:n,lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,...ke(e[a]),parent:this}):new Mt({char:a,eager:this.eager,isUnmasking:s});this._blocks.push(u)}}get state(){return{...super.state,_blocks:this._blocks.map(e=>e.state)}}set state(e){if(!e){this.reset();return}const{_blocks:t,...s}=e;this._blocks.forEach((n,r)=>n.state=t[r]),super.state=s}reset(){super.reset(),this._blocks.forEach(e=>e.reset())}get isComplete(){return this.exposeBlock?this.exposeBlock.isComplete:this._blocks.every(e=>e.isComplete)}get isFilled(){return this._blocks.every(e=>e.isFilled)}get isFixed(){return this._blocks.every(e=>e.isFixed)}get isOptional(){return this._blocks.every(e=>e.isOptional)}doCommit(){this._blocks.forEach(e=>e.doCommit()),super.doCommit()}get unmaskedValue(){return this.exposeBlock?this.exposeBlock.unmaskedValue:this._blocks.reduce((e,t)=>e+=t.unmaskedValue,"")}set unmaskedValue(e){if(this.exposeBlock){const t=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.unmaskedValue=e,this.appendTail(t),this.doCommit()}else super.unmaskedValue=e}get value(){return this.exposeBlock?this.exposeBlock.value:this._blocks.reduce((e,t)=>e+=t.value,"")}set value(e){if(this.exposeBlock){const t=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.value=e,this.appendTail(t),this.doCommit()}else super.value=e}get typedValue(){return this.exposeBlock?this.exposeBlock.typedValue:super.typedValue}set typedValue(e){if(this.exposeBlock){const t=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.typedValue=e,this.appendTail(t),this.doCommit()}else super.typedValue=e}get displayValue(){return this._blocks.reduce((e,t)=>e+=t.displayValue,"")}appendTail(e){return super.appendTail(e).aggregate(this._appendPlaceholder())}_appendEager(){var e;const t=new w;let s=(e=this._mapPosToBlock(this.displayValue.length))==null?void 0:e.index;if(s==null)return t;this._blocks[s].isFilled&&++s;for(let n=s;n<this._blocks.length;++n){const r=this._blocks[n]._appendEager();if(!r.inserted)break;t.aggregate(r)}return t}_appendCharRaw(e,t){t===void 0&&(t={});const s=this._mapPosToBlock(this.displayValue.length),n=new w;if(!s)return n;for(let a=s.index,o;o=this._blocks[a];++a){var r;const u=o._appendChar(e,{...t,_beforeTailState:(r=t._beforeTailState)==null||(r=r._blocks)==null?void 0:r[a]});if(n.aggregate(u),u.consumed)break}return n}extractTail(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length);const s=new ae;return e===t||this._forEachBlocksInRange(e,t,(n,r,a,o)=>{const u=n.extractTail(a,o);u.stop=this._findStopBefore(r),u.from=this._blockStartPos(r),u instanceof ae&&(u.blockIndex=r),s.extend(u)}),s}extractInput(e,t,s){if(e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),s===void 0&&(s={}),e===t)return"";let n="";return this._forEachBlocksInRange(e,t,(r,a,o,u)=>{n+=r.extractInput(o,u,s)}),n}_findStopBefore(e){let t;for(let s=0;s<this._stops.length;++s){const n=this._stops[s];if(n<=e)t=n;else break}return t}_appendPlaceholder(e){const t=new w;if(this.lazy&&e==null)return t;const s=this._mapPosToBlock(this.displayValue.length);if(!s)return t;const n=s.index,r=e??this._blocks.length;return this._blocks.slice(n,r).forEach(a=>{if(!a.lazy||e!=null){var o;t.aggregate(a._appendPlaceholder((o=a._blocks)==null?void 0:o.length))}}),t}_mapPosToBlock(e){let t="";for(let s=0;s<this._blocks.length;++s){const n=this._blocks[s],r=t.length;if(t+=n.displayValue,e<=t.length)return{index:s,offset:e-r}}}_blockStartPos(e){return this._blocks.slice(0,e).reduce((t,s)=>t+=s.displayValue.length,0)}_forEachBlocksInRange(e,t,s){t===void 0&&(t=this.displayValue.length);const n=this._mapPosToBlock(e);if(n){const r=this._mapPosToBlock(t),a=r&&n.index===r.index,o=n.offset,u=r&&a?r.offset:this._blocks[n.index].displayValue.length;if(s(this._blocks[n.index],n.index,o,u),r&&!a){for(let l=n.index+1;l<r.index;++l)s(this._blocks[l],l,0,this._blocks[l].displayValue.length);s(this._blocks[r.index],r.index,0,r.offset)}}}remove(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length);const s=super.remove(e,t);return this._forEachBlocksInRange(e,t,(n,r,a,o)=>{s.aggregate(n.remove(a,o))}),s}nearestInputPos(e,t){if(t===void 0&&(t=f.NONE),!this._blocks.length)return 0;const s=new mi(this,e);if(t===f.NONE)return s.pushRightBeforeInput()||(s.popState(),s.pushLeftBeforeInput())?s.pos:this.displayValue.length;if(t===f.LEFT||t===f.FORCE_LEFT){if(t===f.LEFT){if(s.pushRightBeforeFilled(),s.ok&&s.pos===e)return e;s.popState()}if(s.pushLeftBeforeInput(),s.pushLeftBeforeRequired(),s.pushLeftBeforeFilled(),t===f.LEFT){if(s.pushRightBeforeInput(),s.pushRightBeforeRequired(),s.ok&&s.pos<=e||(s.popState(),s.ok&&s.pos<=e))return s.pos;s.popState()}return s.ok?s.pos:t===f.FORCE_LEFT?0:(s.popState(),s.ok||(s.popState(),s.ok)?s.pos:0)}return t===f.RIGHT||t===f.FORCE_RIGHT?(s.pushRightBeforeInput(),s.pushRightBeforeRequired(),s.pushRightBeforeFilled()?s.pos:t===f.FORCE_RIGHT?this.displayValue.length:(s.popState(),s.ok||(s.popState(),s.ok)?s.pos:this.nearestInputPos(e,f.LEFT))):e}totalInputPositions(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length);let s=0;return this._forEachBlocksInRange(e,t,(n,r,a,o)=>{s+=n.totalInputPositions(a,o)}),s}maskedBlock(e){return this.maskedBlocks(e)[0]}maskedBlocks(e){const t=this._maskedBlocks[e];return t?t.map(s=>this._blocks[s]):[]}pad(e){const t=new w;return this._forEachBlocksInRange(0,this.displayValue.length,s=>t.aggregate(s.pad(e))),t}}F.DEFAULTS={...S.DEFAULTS,lazy:!0,placeholderChar:"_"};F.STOP_CHAR="`";F.ESCAPE_CHAR="\\";F.InputDefinition=Te;F.FixedDefinition=Mt;g.MaskedPattern=F;class Ee extends F{get _matchFrom(){return this.maxLength-String(this.from).length}constructor(e){super(e)}updateOptions(e){super.updateOptions(e)}_update(e){const{to:t=this.to||0,from:s=this.from||0,maxLength:n=this.maxLength||0,autofix:r=this.autofix,...a}=e;this.to=t,this.from=s,this.maxLength=Math.max(String(t).length,n),this.autofix=r;const o=String(this.from).padStart(this.maxLength,"0"),u=String(this.to).padStart(this.maxLength,"0");let l=0;for(;l<u.length&&u[l]===o[l];)++l;a.mask=u.slice(0,l).replace(/0/g,"\\0")+"0".repeat(this.maxLength-l),super._update(a)}get isComplete(){return super.isComplete&&!!this.value}boundaries(e){let t="",s="";const[,n,r]=e.match(/^(\D*)(\d*)(\D*)/)||[];return r&&(t="0".repeat(n.length)+r,s="9".repeat(n.length)+r),t=t.padEnd(this.maxLength,"0"),s=s.padEnd(this.maxLength,"9"),[t,s]}doPrepareChar(e,t){t===void 0&&(t={});let s;return[e,s]=super.doPrepareChar(e.replace(/\D/g,""),t),e||(s.skip=!this.isComplete),[e,s]}_appendCharRaw(e,t){if(t===void 0&&(t={}),!this.autofix||this.value.length+1>this.maxLength)return super._appendCharRaw(e,t);const s=String(this.from).padStart(this.maxLength,"0"),n=String(this.to).padStart(this.maxLength,"0"),[r,a]=this.boundaries(this.value+e);return Number(a)<this.from?super._appendCharRaw(s[this.value.length],t):Number(r)>this.to?!t.tail&&this.autofix==="pad"&&this.value.length+1<this.maxLength?super._appendCharRaw(s[this.value.length],t).aggregate(this._appendCharRaw(e,t)):super._appendCharRaw(n[this.value.length],t):super._appendCharRaw(e,t)}doValidate(e){const t=this.value;if(t.search(/[^0]/)===-1&&t.length<=this._matchFrom)return!0;const[n,r]=this.boundaries(t);return this.from<=Number(r)&&Number(n)<=this.to&&super.doValidate(e)}pad(e){const t=new w;if(this.value.length===this.maxLength)return t;const s=this.value,n=this.maxLength-this.value.length;if(n){this.reset();for(let r=0;r<n;++r)t.aggregate(super._appendCharRaw("0",e));s.split("").forEach(r=>this._appendCharRaw(r))}return t}}g.MaskedRange=Ee;const _i="d{.}`m{.}`Y";class W extends F{static extractPatternOptions(e){const{mask:t,pattern:s,...n}=e;return{...n,mask:J(t)?t:s}}constructor(e){super(W.extractPatternOptions({...W.DEFAULTS,...e}))}updateOptions(e){super.updateOptions(e)}_update(e){const{mask:t,pattern:s,blocks:n,...r}={...W.DEFAULTS,...e},a=Object.assign({},W.GET_DEFAULT_BLOCKS());e.min&&(a.Y.from=e.min.getFullYear()),e.max&&(a.Y.to=e.max.getFullYear()),e.min&&e.max&&a.Y.from===a.Y.to&&(a.m.from=e.min.getMonth()+1,a.m.to=e.max.getMonth()+1,a.m.from===a.m.to&&(a.d.from=e.min.getDate(),a.d.to=e.max.getDate())),Object.assign(a,this.blocks,n),super._update({...r,mask:J(t)?t:s,blocks:a})}doValidate(e){const t=this.date;return super.doValidate(e)&&(!this.isComplete||this.isDateExist(this.value)&&t!=null&&(this.min==null||this.min<=t)&&(this.max==null||t<=this.max))}isDateExist(e){return this.format(this.parse(e,this),this).indexOf(e)>=0}get date(){return this.typedValue}set date(e){this.typedValue=e}get typedValue(){return this.isComplete?super.typedValue:null}set typedValue(e){super.typedValue=e}maskEquals(e){return e===Date||super.maskEquals(e)}optionsIsChanged(e){return super.optionsIsChanged(W.extractPatternOptions(e))}}W.GET_DEFAULT_BLOCKS=()=>({d:{mask:Ee,from:1,to:31,maxLength:2},m:{mask:Ee,from:1,to:12,maxLength:2},Y:{mask:Ee,from:1900,to:9999}});W.DEFAULTS={...F.DEFAULTS,mask:Date,pattern:_i,format:(i,e)=>{if(!i)return"";const t=String(i.getDate()).padStart(2,"0"),s=String(i.getMonth()+1).padStart(2,"0"),n=i.getFullYear();return[t,s,n].join(".")},parse:(i,e)=>{const[t,s,n]=i.split(".").map(Number);return new Date(n,s-1,t)}};g.MaskedDate=W;class Oe extends S{constructor(e){super({...Oe.DEFAULTS,...e}),this.currentMask=void 0}updateOptions(e){super.updateOptions(e)}_update(e){super._update(e),"mask"in e&&(this.exposeMask=void 0,this.compiledMasks=Array.isArray(e.mask)?e.mask.map(t=>{const{expose:s,...n}=ke(t),r=Y({overwrite:this._overwrite,eager:this._eager,skipInvalid:this._skipInvalid,...n});return s&&(this.exposeMask=r),r}):[])}_appendCharRaw(e,t){t===void 0&&(t={});const s=this._applyDispatch(e,t);return this.currentMask&&s.aggregate(this.currentMask._appendChar(e,this.currentMaskFlags(t))),s}_applyDispatch(e,t,s){e===void 0&&(e=""),t===void 0&&(t={}),s===void 0&&(s="");const n=t.tail&&t._beforeTailState!=null?t._beforeTailState._value:this.value,r=this.rawInputValue,a=t.tail&&t._beforeTailState!=null?t._beforeTailState._rawInputValue:r,o=r.slice(a.length),u=this.currentMask,l=new w,h=u==null?void 0:u.state;return this.currentMask=this.doDispatch(e,{...t},s),this.currentMask&&(this.currentMask!==u?(this.currentMask.reset(),a&&(this.currentMask.append(a,{raw:!0}),l.tailShift=this.currentMask.value.length-n.length),o&&(l.tailShift+=this.currentMask.append(o,{raw:!0,tail:!0}).tailShift)):h&&(this.currentMask.state=h)),l}_appendPlaceholder(){const e=this._applyDispatch();return this.currentMask&&e.aggregate(this.currentMask._appendPlaceholder()),e}_appendEager(){const e=this._applyDispatch();return this.currentMask&&e.aggregate(this.currentMask._appendEager()),e}appendTail(e){const t=new w;return e&&t.aggregate(this._applyDispatch("",{},e)),t.aggregate(this.currentMask?this.currentMask.appendTail(e):super.appendTail(e))}currentMaskFlags(e){var t,s;return{...e,_beforeTailState:((t=e._beforeTailState)==null?void 0:t.currentMaskRef)===this.currentMask&&((s=e._beforeTailState)==null?void 0:s.currentMask)||e._beforeTailState}}doDispatch(e,t,s){return t===void 0&&(t={}),s===void 0&&(s=""),this.dispatch(e,this,t,s)}doValidate(e){return super.doValidate(e)&&(!this.currentMask||this.currentMask.doValidate(this.currentMaskFlags(e)))}doPrepare(e,t){t===void 0&&(t={});let[s,n]=super.doPrepare(e,t);if(this.currentMask){let r;[s,r]=super.doPrepare(s,this.currentMaskFlags(t)),n=n.aggregate(r)}return[s,n]}doPrepareChar(e,t){t===void 0&&(t={});let[s,n]=super.doPrepareChar(e,t);if(this.currentMask){let r;[s,r]=super.doPrepareChar(s,this.currentMaskFlags(t)),n=n.aggregate(r)}return[s,n]}reset(){var e;(e=this.currentMask)==null||e.reset(),this.compiledMasks.forEach(t=>t.reset())}get value(){return this.exposeMask?this.exposeMask.value:this.currentMask?this.currentMask.value:""}set value(e){this.exposeMask?(this.exposeMask.value=e,this.currentMask=this.exposeMask,this._applyDispatch()):super.value=e}get unmaskedValue(){return this.exposeMask?this.exposeMask.unmaskedValue:this.currentMask?this.currentMask.unmaskedValue:""}set unmaskedValue(e){this.exposeMask?(this.exposeMask.unmaskedValue=e,this.currentMask=this.exposeMask,this._applyDispatch()):super.unmaskedValue=e}get typedValue(){return this.exposeMask?this.exposeMask.typedValue:this.currentMask?this.currentMask.typedValue:""}set typedValue(e){if(this.exposeMask){this.exposeMask.typedValue=e,this.currentMask=this.exposeMask,this._applyDispatch();return}let t=String(e);this.currentMask&&(this.currentMask.typedValue=e,t=this.currentMask.unmaskedValue),this.unmaskedValue=t}get displayValue(){return this.currentMask?this.currentMask.displayValue:""}get isComplete(){var e;return!!((e=this.currentMask)!=null&&e.isComplete)}get isFilled(){var e;return!!((e=this.currentMask)!=null&&e.isFilled)}remove(e,t){const s=new w;return this.currentMask&&s.aggregate(this.currentMask.remove(e,t)).aggregate(this._applyDispatch()),s}get state(){var e;return{...super.state,_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map(t=>t.state),currentMaskRef:this.currentMask,currentMask:(e=this.currentMask)==null?void 0:e.state}}set state(e){const{compiledMasks:t,currentMaskRef:s,currentMask:n,...r}=e;t&&this.compiledMasks.forEach((a,o)=>a.state=t[o]),s!=null&&(this.currentMask=s,this.currentMask.state=n),super.state=r}extractInput(e,t,s){return this.currentMask?this.currentMask.extractInput(e,t,s):""}extractTail(e,t){return this.currentMask?this.currentMask.extractTail(e,t):super.extractTail(e,t)}doCommit(){this.currentMask&&this.currentMask.doCommit(),super.doCommit()}nearestInputPos(e,t){return this.currentMask?this.currentMask.nearestInputPos(e,t):super.nearestInputPos(e,t)}get overwrite(){return this.currentMask?this.currentMask.overwrite:this._overwrite}set overwrite(e){this._overwrite=e}get eager(){return this.currentMask?this.currentMask.eager:this._eager}set eager(e){this._eager=e}get skipInvalid(){return this.currentMask?this.currentMask.skipInvalid:this._skipInvalid}set skipInvalid(e){this._skipInvalid=e}get autofix(){return this.currentMask?this.currentMask.autofix:this._autofix}set autofix(e){this._autofix=e}maskEquals(e){return Array.isArray(e)?this.compiledMasks.every((t,s)=>{if(!e[s])return;const{mask:n,...r}=e[s];return Fe(t,r)&&t.maskEquals(n)}):super.maskEquals(e)}typedValueEquals(e){var t;return!!((t=this.currentMask)!=null&&t.typedValueEquals(e))}}Oe.DEFAULTS={...S.DEFAULTS,dispatch:(i,e,t,s)=>{if(!e.compiledMasks.length)return;const n=e.rawInputValue,r=e.compiledMasks.map((a,o)=>{const u=e.currentMask===a,l=u?a.displayValue.length:a.nearestInputPos(a.displayValue.length,f.FORCE_LEFT);return a.rawInputValue!==n?(a.reset(),a.append(n,{raw:!0})):u||a.remove(l),a.append(i,e.currentMaskFlags(t)),a.appendTail(s),{index:o,weight:a.rawInputValue.length,totalInputPositions:a.totalInputPositions(0,Math.max(l,a.nearestInputPos(a.displayValue.length,f.FORCE_LEFT)))}});return r.sort((a,o)=>o.weight-a.weight||o.totalInputPositions-a.totalInputPositions),e.compiledMasks[r[0].index]}};g.MaskedDynamic=Oe;class Le extends F{constructor(e){super({...Le.DEFAULTS,...e})}updateOptions(e){super.updateOptions(e)}_update(e){const{enum:t,...s}=e;if(t){const n=t.map(o=>o.length),r=Math.min(...n),a=Math.max(...n)-r;s.mask="*".repeat(r),a&&(s.mask+="["+"*".repeat(a)+"]"),this.enum=t}super._update(s)}_appendCharRaw(e,t){t===void 0&&(t={});const s=Math.min(this.nearestInputPos(0,f.FORCE_RIGHT),this.value.length),n=this.enum.filter(r=>this.matchValue(r,this.unmaskedValue+e,s));if(n.length){n.length===1&&this._forEachBlocksInRange(0,this.value.length,(a,o)=>{const u=n[0][o];o>=this.value.length||u===a.value||(a.reset(),a._appendChar(u,t))});const r=super._appendCharRaw(n[0][this.value.length],t);return n.length===1&&n[0].slice(this.unmaskedValue.length).split("").forEach(a=>r.aggregate(super._appendCharRaw(a))),r}return new w({skip:!this.isComplete})}extractTail(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),new H("",e)}remove(e,t){if(e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),e===t)return new w;const s=Math.min(super.nearestInputPos(0,f.FORCE_RIGHT),this.value.length);let n;for(n=e;n>=0&&!(this.enum.filter(o=>this.matchValue(o,this.value.slice(s,n),s)).length>1);--n);const r=super.remove(n,t);return r.tailShift+=n-e,r}get isComplete(){return this.enum.indexOf(this.value)>=0}}Le.DEFAULTS={...F.DEFAULTS,matchValue:(i,e,t)=>i.indexOf(e,t)===t};g.MaskedEnum=Le;class ki extends S{updateOptions(e){super.updateOptions(e)}_update(e){super._update({...e,validate:e.mask})}}g.MaskedFunction=ki;var $t;class M extends S{constructor(e){super({...M.DEFAULTS,...e})}updateOptions(e){super.updateOptions(e)}_update(e){super._update(e),this._updateRegExps()}_updateRegExps(){const e="^"+(this.allowNegative?"[+|\\-]?":""),t="\\d*",s=(this.scale?"("+Ue(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExp=new RegExp(e+t+s),this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map(Ue).join("")+"]","g"),this._thousandsSeparatorRegExp=new RegExp(Ue(this.thousandsSeparator),"g")}_removeThousandsSeparators(e){return e.replace(this._thousandsSeparatorRegExp,"")}_insertThousandsSeparators(e){const t=e.split(this.radix);return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),t.join(this.radix)}doPrepareChar(e,t){t===void 0&&(t={});const[s,n]=super.doPrepareChar(this._removeThousandsSeparators(this.scale&&this.mapToRadix.length&&(t.input&&t.raw||!t.input&&!t.raw)?e.replace(this._mapToRadixRegExp,this.radix):e),t);return e&&!s&&(n.skip=!0),s&&!this.allowPositive&&!this.value&&s!=="-"&&n.aggregate(this._appendChar("-")),[s,n]}_separatorsCount(e,t){t===void 0&&(t=!1);let s=0;for(let n=0;n<e;++n)this._value.indexOf(this.thousandsSeparator,n)===n&&(++s,t&&(e+=this.thousandsSeparator.length));return s}_separatorsCountFromSlice(e){return e===void 0&&(e=this._value),this._separatorsCount(this._removeThousandsSeparators(e).length,!0)}extractInput(e,t,s){return e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),[e,t]=this._adjustRangeWithSeparators(e,t),this._removeThousandsSeparators(super.extractInput(e,t,s))}_appendCharRaw(e,t){t===void 0&&(t={});const s=t.tail&&t._beforeTailState?t._beforeTailState._value:this._value,n=this._separatorsCountFromSlice(s);this._value=this._removeThousandsSeparators(this.value);const r=this._value;this._value+=e;const a=this.number;let o=!isNaN(a),u=!1;if(o){let p;this.min!=null&&this.min<0&&this.number<this.min&&(p=this.min),this.max!=null&&this.max>0&&this.number>this.max&&(p=this.max),p!=null&&(this.autofix?(this._value=this.format(p,this).replace(M.UNMASKED_RADIX,this.radix),u||(u=r===this._value&&!t.tail)):o=!1),o&&(o=!!this._value.match(this._numberRegExp))}let l;o?l=new w({inserted:this._value.slice(r.length),rawInserted:u?"":e,skip:u}):(this._value=r,l=new w),this._value=this._insertThousandsSeparators(this._value);const h=t.tail&&t._beforeTailState?t._beforeTailState._value:this._value,d=this._separatorsCountFromSlice(h);return l.tailShift+=(d-n)*this.thousandsSeparator.length,l}_findSeparatorAround(e){if(this.thousandsSeparator){const t=e-this.thousandsSeparator.length+1,s=this.value.indexOf(this.thousandsSeparator,t);if(s<=e)return s}return-1}_adjustRangeWithSeparators(e,t){const s=this._findSeparatorAround(e);s>=0&&(e=s);const n=this._findSeparatorAround(t);return n>=0&&(t=n+this.thousandsSeparator.length),[e,t]}remove(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length),[e,t]=this._adjustRangeWithSeparators(e,t);const s=this.value.slice(0,e),n=this.value.slice(t),r=this._separatorsCount(s.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(s+n));const a=this._separatorsCountFromSlice(s);return new w({tailShift:(a-r)*this.thousandsSeparator.length})}nearestInputPos(e,t){if(!this.thousandsSeparator)return e;switch(t){case f.NONE:case f.LEFT:case f.FORCE_LEFT:{const s=this._findSeparatorAround(e-1);if(s>=0){const n=s+this.thousandsSeparator.length;if(e<n||this.value.length<=n||t===f.FORCE_LEFT)return s}break}case f.RIGHT:case f.FORCE_RIGHT:{const s=this._findSeparatorAround(e);if(s>=0)return s+this.thousandsSeparator.length}}return e}doCommit(){if(this.value){const e=this.number;let t=e;this.min!=null&&(t=Math.max(t,this.min)),this.max!=null&&(t=Math.min(t,this.max)),t!==e&&(this.unmaskedValue=this.format(t,this));let s=this.value;this.normalizeZeros&&(s=this._normalizeZeros(s)),this.padFractionalZeros&&this.scale>0&&(s=this._padFractionalZeros(s)),this._value=s}super.doCommit()}_normalizeZeros(e){const t=this._removeThousandsSeparators(e).split(this.radix);return t[0]=t[0].replace(/^(\D*)(0*)(\d*)/,(s,n,r,a)=>n+a),e.length&&!/\d$/.test(t[0])&&(t[0]=t[0]+"0"),t.length>1&&(t[1]=t[1].replace(/0*$/,""),t[1].length||(t.length=1)),this._insertThousandsSeparators(t.join(this.radix))}_padFractionalZeros(e){if(!e)return e;const t=e.split(this.radix);return t.length<2&&t.push(""),t[1]=t[1].padEnd(this.scale,"0"),t.join(this.radix)}doSkipInvalid(e,t,s){t===void 0&&(t={});const n=this.scale===0&&e!==this.thousandsSeparator&&(e===this.radix||e===M.UNMASKED_RADIX||this.mapToRadix.includes(e));return super.doSkipInvalid(e,t,s)&&!n}get unmaskedValue(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,M.UNMASKED_RADIX)}set unmaskedValue(e){super.unmaskedValue=e}get typedValue(){return this.parse(this.unmaskedValue,this)}set typedValue(e){this.rawInputValue=this.format(e,this).replace(M.UNMASKED_RADIX,this.radix)}get number(){return this.typedValue}set number(e){this.typedValue=e}get allowNegative(){return this.min!=null&&this.min<0||this.max!=null&&this.max<0}get allowPositive(){return this.min!=null&&this.min>0||this.max!=null&&this.max>0}typedValueEquals(e){return(super.typedValueEquals(e)||M.EMPTY_VALUES.includes(e)&&M.EMPTY_VALUES.includes(this.typedValue))&&!(e===0&&this.value==="")}}$t=M;M.UNMASKED_RADIX=".";M.EMPTY_VALUES=[...S.EMPTY_VALUES,0];M.DEFAULTS={...S.DEFAULTS,mask:Number,radix:",",thousandsSeparator:"",mapToRadix:[$t.UNMASKED_RADIX],min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,scale:2,normalizeZeros:!0,padFractionalZeros:!1,parse:Number,format:i=>i.toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20})};g.MaskedNumber=M;const Ye={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function Vt(i,e,t){e===void 0&&(e=Ye.MASKED),t===void 0&&(t=Ye.MASKED);const s=Y(i);return n=>s.runIsolated(r=>(r[e]=n,r[t]))}function wi(i,e,t,s){return Vt(e,t,s)(i)}g.PIPE_TYPE=Ye;g.createPipe=Vt;g.pipe=wi;class yi extends F{get repeatFrom(){var e;return(e=Array.isArray(this.repeat)?this.repeat[0]:this.repeat===1/0?0:this.repeat)!=null?e:0}get repeatTo(){var e;return(e=Array.isArray(this.repeat)?this.repeat[1]:this.repeat)!=null?e:1/0}constructor(e){super(e)}updateOptions(e){super.updateOptions(e)}_update(e){var t,s,n;const{repeat:r,...a}=ke(e);this._blockOpts=Object.assign({},this._blockOpts,a);const o=Y(this._blockOpts);this.repeat=(t=(s=r??o.repeat)!=null?s:this.repeat)!=null?t:1/0,super._update({mask:"m".repeat(Math.max(this.repeatTo===1/0&&((n=this._blocks)==null?void 0:n.length)||0,this.repeatFrom)),blocks:{m:o},eager:o.eager,overwrite:o.overwrite,skipInvalid:o.skipInvalid,lazy:o.lazy,placeholderChar:o.placeholderChar,displayChar:o.displayChar})}_allocateBlock(e){if(e<this._blocks.length)return this._blocks[e];if(this.repeatTo===1/0||this._blocks.length<this.repeatTo)return this._blocks.push(Y(this._blockOpts)),this.mask+="m",this._blocks[this._blocks.length-1]}_appendCharRaw(e,t){t===void 0&&(t={});const s=new w;for(let u=(n=(r=this._mapPosToBlock(this.displayValue.length))==null?void 0:r.index)!=null?n:Math.max(this._blocks.length-1,0),l,h;l=(a=this._blocks[u])!=null?a:h=!h&&this._allocateBlock(u);++u){var n,r,a,o;const d=l._appendChar(e,{...t,_beforeTailState:(o=t._beforeTailState)==null||(o=o._blocks)==null?void 0:o[u]});if(d.skip&&h){this._blocks.pop(),this.mask=this.mask.slice(1);break}if(s.aggregate(d),d.consumed)break}return s}_trimEmptyTail(e,t){var s,n;e===void 0&&(e=0);const r=Math.max(((s=this._mapPosToBlock(e))==null?void 0:s.index)||0,this.repeatFrom,0);let a;t!=null&&(a=(n=this._mapPosToBlock(t))==null?void 0:n.index),a==null&&(a=this._blocks.length-1);let o=0;for(let u=a;r<=u&&!this._blocks[u].unmaskedValue;--u,++o);o&&(this._blocks.splice(a-o+1,o),this.mask=this.mask.slice(o))}reset(){super.reset(),this._trimEmptyTail()}remove(e,t){e===void 0&&(e=0),t===void 0&&(t=this.displayValue.length);const s=super.remove(e,t);return this._trimEmptyTail(e,t),s}totalInputPositions(e,t){return e===void 0&&(e=0),t==null&&this.repeatTo===1/0?1/0:super.totalInputPositions(e,t)}get state(){return super.state}set state(e){this._blocks.length=e._blocks.length,this.mask=this.mask.slice(0,this._blocks.length),super.state=e}}g.RepeatBlock=yi;try{globalThis.IMask=g}catch{}const vi=["top","right","bottom","left"],ct=["start","end"],ft=vi.reduce((i,e)=>i.concat(e,e+"-"+ct[0],e+"-"+ct[1]),[]),we=Math.min,ne=Math.max,xi={left:"right",right:"left",bottom:"top",top:"bottom"},Ci={start:"end",end:"start"};function Ke(i,e,t){return ne(i,we(e,t))}function he(i,e){return typeof i=="function"?i(e):i}function G(i){return i.split("-")[0]}function L(i){return i.split("-")[1]}function Rt(i){return i==="x"?"y":"x"}function nt(i){return i==="y"?"height":"width"}function le(i){return["top","bottom"].includes(G(i))?"y":"x"}function rt(i){return Rt(le(i))}function Ot(i,e,t){t===void 0&&(t=!1);const s=L(i),n=rt(i),r=nt(n);let a=n==="x"?s===(t?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(a=De(a)),[a,De(a)]}function Ai(i){const e=De(i);return[Be(i),e,Be(e)]}function Be(i){return i.replace(/start|end/g,e=>Ci[e])}function Ei(i,e,t){const s=["left","right"],n=["right","left"],r=["top","bottom"],a=["bottom","top"];switch(i){case"top":case"bottom":return t?e?n:s:e?s:n;case"left":case"right":return e?r:a;default:return[]}}function bi(i,e,t,s){const n=L(i);let r=Ei(G(i),t==="start",s);return n&&(r=r.map(a=>a+"-"+n),e&&(r=r.concat(r.map(Be)))),r}function De(i){return i.replace(/left|right|bottom|top/g,e=>xi[e])}function Si(i){return{top:0,right:0,bottom:0,left:0,...i}}function Lt(i){return typeof i!="number"?Si(i):{top:i,right:i,bottom:i,left:i}}function ce(i){const{x:e,y:t,width:s,height:n}=i;return{width:s,height:n,top:t,left:e,right:e+s,bottom:t+n,x:e,y:t}}function mt(i,e,t){let{reference:s,floating:n}=i;const r=le(e),a=rt(e),o=nt(a),u=G(e),l=r==="y",h=s.x+s.width/2-n.width/2,d=s.y+s.height/2-n.height/2,p=s[o]/2-n[o]/2;let c;switch(u){case"top":c={x:h,y:s.y-n.height};break;case"bottom":c={x:h,y:s.y+s.height};break;case"right":c={x:s.x+s.width,y:d};break;case"left":c={x:s.x-n.width,y:d};break;default:c={x:s.x,y:s.y}}switch(L(e)){case"start":c[a]-=p*(t&&l?-1:1);break;case"end":c[a]+=p*(t&&l?-1:1);break}return c}const Fi=async(i,e,t)=>{const{placement:s="bottom",strategy:n="absolute",middleware:r=[],platform:a}=t,o=r.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(e));let l=await a.getElementRects({reference:i,floating:e,strategy:n}),{x:h,y:d}=mt(l,s,u),p=s,c={},m=0;for(let _=0;_<o.length;_++){const{name:k,fn:y}=o[_],{x:v,y:C,data:b,reset:A}=await y({x:h,y:d,initialPlacement:s,placement:p,strategy:n,middlewareData:c,rects:l,platform:a,elements:{reference:i,floating:e}});h=v??h,d=C??d,c={...c,[k]:{...c[k],...b}},A&&m<=50&&(m++,typeof A=="object"&&(A.placement&&(p=A.placement),A.rects&&(l=A.rects===!0?await a.getElementRects({reference:i,floating:e,strategy:n}):A.rects),{x:h,y:d}=mt(l,p,u)),_=-1)}return{x:h,y:d,placement:p,strategy:n,middlewareData:c}};async function Pe(i,e){var t;e===void 0&&(e={});const{x:s,y:n,platform:r,rects:a,elements:o,strategy:u}=i,{boundary:l="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:p=!1,padding:c=0}=he(e,i),m=Lt(c),k=o[p?d==="floating"?"reference":"floating":d],y=ce(await r.getClippingRect({element:(t=await(r.isElement==null?void 0:r.isElement(k)))==null||t?k:k.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(o.floating)),boundary:l,rootBoundary:h,strategy:u})),v=d==="floating"?{x:s,y:n,width:a.floating.width,height:a.floating.height}:a.reference,C=await(r.getOffsetParent==null?void 0:r.getOffsetParent(o.floating)),b=await(r.isElement==null?void 0:r.isElement(C))?await(r.getScale==null?void 0:r.getScale(C))||{x:1,y:1}:{x:1,y:1},A=ce(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:v,offsetParent:C,strategy:u}):v);return{top:(y.top-A.top+m.top)/b.y,bottom:(A.bottom-y.bottom+m.bottom)/b.y,left:(y.left-A.left+m.left)/b.x,right:(A.right-y.right+m.right)/b.x}}const Ti=i=>({name:"arrow",options:i,async fn(e){const{x:t,y:s,placement:n,rects:r,platform:a,elements:o,middlewareData:u}=e,{element:l,padding:h=0}=he(i,e)||{};if(l==null)return{};const d=Lt(h),p={x:t,y:s},c=rt(n),m=nt(c),_=await a.getDimensions(l),k=c==="y",y=k?"top":"left",v=k?"bottom":"right",C=k?"clientHeight":"clientWidth",b=r.reference[m]+r.reference[c]-p[c]-r.floating[m],A=p[c]-r.reference[c],R=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l));let B=R?R[C]:0;(!B||!await(a.isElement==null?void 0:a.isElement(R)))&&(B=o.floating[C]||r.floating[m]);const P=b/2-A/2,I=B/2-_[m]/2-1,E=we(d[y],I),D=we(d[v],I),$=E,N=B-_[m]-D,T=B/2-_[m]/2+P,de=Ke($,T,N),q=!u.arrow&&L(n)!=null&&T!==de&&r.reference[m]/2-(T<$?E:D)-_[m]/2<0,z=q?T<$?T-$:T-N:0;return{[c]:p[c]+z,data:{[c]:de,centerOffset:T-de-z,...q&&{alignmentOffset:z}},reset:q}}});function Bi(i,e,t){return(i?[...t.filter(n=>L(n)===i),...t.filter(n=>L(n)!==i)]:t.filter(n=>G(n)===n)).filter(n=>i?L(n)===i||(e?Be(n)!==n:!1):!0)}const Di=function(i){return i===void 0&&(i={}),{name:"autoPlacement",options:i,async fn(e){var t,s,n;const{rects:r,middlewareData:a,placement:o,platform:u,elements:l}=e,{crossAxis:h=!1,alignment:d,allowedPlacements:p=ft,autoAlignment:c=!0,...m}=he(i,e),_=d!==void 0||p===ft?Bi(d||null,c,p):p,k=await Pe(e,m),y=((t=a.autoPlacement)==null?void 0:t.index)||0,v=_[y];if(v==null)return{};const C=Ot(v,r,await(u.isRTL==null?void 0:u.isRTL(l.floating)));if(o!==v)return{reset:{placement:_[0]}};const b=[k[G(v)],k[C[0]],k[C[1]]],A=[...((s=a.autoPlacement)==null?void 0:s.overflows)||[],{placement:v,overflows:b}],R=_[y+1];if(R)return{data:{index:y+1,overflows:A},reset:{placement:R}};const B=A.map(E=>{const D=L(E.placement);return[E.placement,D&&h?E.overflows.slice(0,2).reduce(($,N)=>$+N,0):E.overflows[0],E.overflows]}).sort((E,D)=>E[1]-D[1]),I=((n=B.filter(E=>E[2].slice(0,L(E[0])?2:3).every(D=>D<=0))[0])==null?void 0:n[0])||B[0][0];return I!==o?{data:{index:y+1,overflows:A},reset:{placement:I}}:{}}}},Ii=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(e){var t,s;const{placement:n,middlewareData:r,rects:a,initialPlacement:o,platform:u,elements:l}=e,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:c="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:_=!0,...k}=he(i,e);if((t=r.arrow)!=null&&t.alignmentOffset)return{};const y=G(n),v=le(o),C=G(o)===o,b=await(u.isRTL==null?void 0:u.isRTL(l.floating)),A=p||(C||!_?[De(o)]:Ai(o)),R=m!=="none";!p&&R&&A.push(...bi(o,_,m,b));const B=[o,...A],P=await Pe(e,k),I=[];let E=((s=r.flip)==null?void 0:s.overflows)||[];if(h&&I.push(P[y]),d){const T=Ot(n,a,b);I.push(P[T[0]],P[T[1]])}if(E=[...E,{placement:n,overflows:I}],!I.every(T=>T<=0)){var D,$;const T=(((D=r.flip)==null?void 0:D.index)||0)+1,de=B[T];if(de)return{data:{index:T,overflows:E},reset:{placement:de}};let q=($=E.filter(z=>z.overflows[0]<=0).sort((z,K)=>z.overflows[1]-K.overflows[1])[0])==null?void 0:$.placement;if(!q)switch(c){case"bestFit":{var N;const z=(N=E.filter(K=>{if(R){const X=le(K.placement);return X===v||X==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(X=>X>0).reduce((X,Qt)=>X+Qt,0)]).sort((K,X)=>K[1]-X[1])[0])==null?void 0:N[0];z&&(q=z);break}case"initialPlacement":q=o;break}if(n!==q)return{reset:{placement:q}}}return{}}}};async function Mi(i,e){const{placement:t,platform:s,elements:n}=i,r=await(s.isRTL==null?void 0:s.isRTL(n.floating)),a=G(t),o=L(t),u=le(t)==="y",l=["left","top"].includes(a)?-1:1,h=r&&u?-1:1,d=he(e,i);let{mainAxis:p,crossAxis:c,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&typeof m=="number"&&(c=o==="end"?m*-1:m),u?{x:c*h,y:p*l}:{x:p*l,y:c*h}}const $i=function(i){return i===void 0&&(i=0),{name:"offset",options:i,async fn(e){var t,s;const{x:n,y:r,placement:a,middlewareData:o}=e,u=await Mi(e,i);return a===((t=o.offset)==null?void 0:t.placement)&&(s=o.arrow)!=null&&s.alignmentOffset?{}:{x:n+u.x,y:r+u.y,data:{...u,placement:a}}}}},Vi=function(i){return i===void 0&&(i={}),{name:"shift",options:i,async fn(e){const{x:t,y:s,placement:n}=e,{mainAxis:r=!0,crossAxis:a=!1,limiter:o={fn:k=>{let{x:y,y:v}=k;return{x:y,y:v}}},...u}=he(i,e),l={x:t,y:s},h=await Pe(e,u),d=le(G(n)),p=Rt(d);let c=l[p],m=l[d];if(r){const k=p==="y"?"top":"left",y=p==="y"?"bottom":"right",v=c+h[k],C=c-h[y];c=Ke(v,c,C)}if(a){const k=d==="y"?"top":"left",y=d==="y"?"bottom":"right",v=m+h[k],C=m-h[y];m=Ke(v,m,C)}const _=o.fn({...e,[p]:c,[d]:m});return{..._,data:{x:_.x-t,y:_.y-s,enabled:{[p]:r,[d]:a}}}}}},Ri=function(i){return i===void 0&&(i={}),{name:"size",options:i,async fn(e){var t,s;const{placement:n,rects:r,platform:a,elements:o}=e,{apply:u=()=>{},...l}=he(i,e),h=await Pe(e,l),d=G(n),p=L(n),c=le(n)==="y",{width:m,height:_}=r.floating;let k,y;d==="top"||d==="bottom"?(k=d,y=p===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(y=d,k=p==="end"?"top":"bottom");const v=_-h.top-h.bottom,C=m-h.left-h.right,b=we(_-h[k],v),A=we(m-h[y],C),R=!e.middlewareData.shift;let B=b,P=A;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(P=C),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(B=v),R&&!p){const E=ne(h.left,0),D=ne(h.right,0),$=ne(h.top,0),N=ne(h.bottom,0);c?P=m-2*(E!==0||D!==0?E+D:ne(h.left,h.right)):B=_-2*($!==0||N!==0?$+N:ne(h.top,h.bottom))}await u({...e,availableWidth:P,availableHeight:B});const I=await a.getDimensions(o.floating);return m!==I.width||_!==I.height?{reset:{rects:!0}}:{}}}};function V(i){var e;return((e=i.ownerDocument)==null?void 0:e.defaultView)||window}function j(i){return V(i).getComputedStyle(i)}const gt=Math.min,fe=Math.max,Ie=Math.round;function Pt(i){const e=j(i);let t=parseFloat(e.width),s=parseFloat(e.height);const n=i.offsetWidth,r=i.offsetHeight,a=Ie(t)!==n||Ie(s)!==r;return a&&(t=n,s=r),{width:t,height:s,fallback:a}}function ie(i){return zt(i)?(i.nodeName||"").toLowerCase():""}let Ce;function Nt(){if(Ce)return Ce;const i=navigator.userAgentData;return i&&Array.isArray(i.brands)?(Ce=i.brands.map(e=>e.brand+"/"+e.version).join(" "),Ce):navigator.userAgent}function U(i){return i instanceof V(i).HTMLElement}function ee(i){return i instanceof V(i).Element}function zt(i){return i instanceof V(i).Node}function _t(i){return typeof ShadowRoot>"u"?!1:i instanceof V(i).ShadowRoot||i instanceof ShadowRoot}function Ne(i){const{overflow:e,overflowX:t,overflowY:s,display:n}=j(i);return/auto|scroll|overlay|hidden|clip/.test(e+s+t)&&!["inline","contents"].includes(n)}function Oi(i){return["table","td","th"].includes(ie(i))}function Xe(i){const e=/firefox/i.test(Nt()),t=j(i),s=t.backdropFilter||t.WebkitBackdropFilter;return t.transform!=="none"||t.perspective!=="none"||!!s&&s!=="none"||e&&t.willChange==="filter"||e&&!!t.filter&&t.filter!=="none"||["transform","perspective"].some(n=>t.willChange.includes(n))||["paint","layout","strict","content"].some(n=>{const r=t.contain;return r!=null&&r.includes(n)})}function Ht(){return!/^((?!chrome|android).)*safari/i.test(Nt())}function at(i){return["html","body","#document"].includes(ie(i))}function jt(i){return ee(i)?i:i.contextElement}const Ut={x:1,y:1};function pe(i){const e=jt(i);if(!U(e))return Ut;const t=e.getBoundingClientRect(),{width:s,height:n,fallback:r}=Pt(e);let a=(r?Ie(t.width):t.width)/s,o=(r?Ie(t.height):t.height)/n;return a&&Number.isFinite(a)||(a=1),o&&Number.isFinite(o)||(o=1),{x:a,y:o}}function ye(i,e,t,s){var n,r;e===void 0&&(e=!1),t===void 0&&(t=!1);const a=i.getBoundingClientRect(),o=jt(i);let u=Ut;e&&(s?ee(s)&&(u=pe(s)):u=pe(i));const l=o?V(o):window,h=!Ht()&&t;let d=(a.left+(h&&((n=l.visualViewport)==null?void 0:n.offsetLeft)||0))/u.x,p=(a.top+(h&&((r=l.visualViewport)==null?void 0:r.offsetTop)||0))/u.y,c=a.width/u.x,m=a.height/u.y;if(o){const _=V(o),k=s&&ee(s)?V(s):s;let y=_.frameElement;for(;y&&s&&k!==_;){const v=pe(y),C=y.getBoundingClientRect(),b=getComputedStyle(y);C.x+=(y.clientLeft+parseFloat(b.paddingLeft))*v.x,C.y+=(y.clientTop+parseFloat(b.paddingTop))*v.y,d*=v.x,p*=v.y,c*=v.x,m*=v.y,d+=C.x,p+=C.y,y=V(y).frameElement}}return{width:c,height:m,top:p,right:d+c,bottom:p+m,left:d,x:d,y:p}}function te(i){return((zt(i)?i.ownerDocument:i.document)||window.document).documentElement}function ze(i){return ee(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.pageXOffset,scrollTop:i.pageYOffset}}function Gt(i){return ye(te(i)).left+ze(i).scrollLeft}function ve(i){if(ie(i)==="html")return i;const e=i.assignedSlot||i.parentNode||_t(i)&&i.host||te(i);return _t(e)?e.host:e}function qt(i){const e=ve(i);return at(e)?e.ownerDocument.body:U(e)&&Ne(e)?e:qt(e)}function Me(i,e){var t;e===void 0&&(e=[]);const s=qt(i),n=s===((t=i.ownerDocument)==null?void 0:t.body),r=V(s);return n?e.concat(r,r.visualViewport||[],Ne(s)?s:[]):e.concat(s,Me(s))}function kt(i,e,t){return e==="viewport"?ce(function(s,n){const r=V(s),a=te(s),o=r.visualViewport;let u=a.clientWidth,l=a.clientHeight,h=0,d=0;if(o){u=o.width,l=o.height;const p=Ht();(p||!p&&n==="fixed")&&(h=o.offsetLeft,d=o.offsetTop)}return{width:u,height:l,x:h,y:d}}(i,t)):ee(e)?ce(function(s,n){const r=ye(s,!0,n==="fixed"),a=r.top+s.clientTop,o=r.left+s.clientLeft,u=U(s)?pe(s):{x:1,y:1};return{width:s.clientWidth*u.x,height:s.clientHeight*u.y,x:o*u.x,y:a*u.y}}(e,t)):ce(function(s){const n=te(s),r=ze(s),a=s.ownerDocument.body,o=fe(n.scrollWidth,n.clientWidth,a.scrollWidth,a.clientWidth),u=fe(n.scrollHeight,n.clientHeight,a.scrollHeight,a.clientHeight);let l=-r.scrollLeft+Gt(s);const h=-r.scrollTop;return j(a).direction==="rtl"&&(l+=fe(n.clientWidth,a.clientWidth)-o),{width:o,height:u,x:l,y:h}}(te(i)))}function wt(i){return U(i)&&j(i).position!=="fixed"?i.offsetParent:null}function yt(i){const e=V(i);let t=wt(i);for(;t&&Oi(t)&&j(t).position==="static";)t=wt(t);return t&&(ie(t)==="html"||ie(t)==="body"&&j(t).position==="static"&&!Xe(t))?e:t||function(s){let n=ve(s);for(;U(n)&&!at(n);){if(Xe(n))return n;n=ve(n)}return null}(i)||e}function Li(i,e,t){const s=U(e),n=te(e),r=ye(i,!0,t==="fixed",e);let a={scrollLeft:0,scrollTop:0};const o={x:0,y:0};if(s||!s&&t!=="fixed")if((ie(e)!=="body"||Ne(n))&&(a=ze(e)),U(e)){const u=ye(e,!0);o.x=u.x+e.clientLeft,o.y=u.y+e.clientTop}else n&&(o.x=Gt(n));return{x:r.left+a.scrollLeft-o.x,y:r.top+a.scrollTop-o.y,width:r.width,height:r.height}}const Pi={getClippingRect:function(i){let{element:e,boundary:t,rootBoundary:s,strategy:n}=i;const r=t==="clippingAncestors"?function(l,h){const d=h.get(l);if(d)return d;let p=Me(l).filter(k=>ee(k)&&ie(k)!=="body"),c=null;const m=j(l).position==="fixed";let _=m?ve(l):l;for(;ee(_)&&!at(_);){const k=j(_),y=Xe(_);(m?y||c:y||k.position!=="static"||!c||!["absolute","fixed"].includes(c.position))?c=k:p=p.filter(v=>v!==_),_=ve(_)}return h.set(l,p),p}(e,this._c):[].concat(t),a=[...r,s],o=a[0],u=a.reduce((l,h)=>{const d=kt(e,h,n);return l.top=fe(d.top,l.top),l.right=gt(d.right,l.right),l.bottom=gt(d.bottom,l.bottom),l.left=fe(d.left,l.left),l},kt(e,o,n));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(i){let{rect:e,offsetParent:t,strategy:s}=i;const n=U(t),r=te(t);if(t===r)return e;let a={scrollLeft:0,scrollTop:0},o={x:1,y:1};const u={x:0,y:0};if((n||!n&&s!=="fixed")&&((ie(t)!=="body"||Ne(r))&&(a=ze(t)),U(t))){const l=ye(t);o=pe(t),u.x=l.x+t.clientLeft,u.y=l.y+t.clientTop}return{width:e.width*o.x,height:e.height*o.y,x:e.x*o.x-a.scrollLeft*o.x+u.x,y:e.y*o.y-a.scrollTop*o.y+u.y}},isElement:ee,getDimensions:function(i){return U(i)?Pt(i):i.getBoundingClientRect()},getOffsetParent:yt,getDocumentElement:te,getScale:pe,async getElementRects(i){let{reference:e,floating:t,strategy:s}=i;const n=this.getOffsetParent||yt,r=this.getDimensions;return{reference:Li(e,await n(t),s),floating:{x:0,y:0,...await r(t)}}},getClientRects:i=>Array.from(i.getClientRects()),isRTL:i=>j(i).direction==="rtl"},Ni=(i,e,t)=>{const s=new Map,n={platform:Pi,...t},r={...n.platform,_c:s};return Fi(i,e,{...n,platform:r})},ue={disabled:!1,distance:5,skidding:0,container:"body",boundary:void 0,instantMove:!1,disposeTimeout:150,popperTriggers:[],strategy:"absolute",preventOverflow:!0,flip:!0,shift:!0,overflowPadding:0,arrowPadding:0,arrowOverflow:!0,autoHideOnMousedown:!1,themes:{tooltip:{placement:"top",triggers:["hover","focus","touch"],hideTriggers:i=>[...i,"click"],delay:{show:200,hide:0},handleResize:!1,html:!1,loadingContent:"..."},dropdown:{placement:"bottom",triggers:["click"],delay:0,handleResize:!0,autoHide:!0},menu:{$extend:"dropdown",triggers:["hover","focus"],popperTriggers:["hover"],delay:{show:0,hide:400}}}};function Ze(i,e){let t=ue.themes[i]||{},s;do s=t[e],typeof s>"u"?t.$extend?t=ue.themes[t.$extend]||{}:(t=null,s=ue[e]):t=null;while(t);return s}function zi(i){const e=[i];let t=ue.themes[i]||{};do t.$extend&&!t.$resetCss?(e.push(t.$extend),t=ue.themes[t.$extend]||{}):t=null;while(t);return e.map(s=>`v-popper--theme-${s}`)}function vt(i){const e=[i];let t=ue.themes[i]||{};do t.$extend?(e.push(t.$extend),t=ue.themes[t.$extend]||{}):t=null;while(t);return e}let xe=!1;if(typeof window<"u"){xe=!1;try{const i=Object.defineProperty({},"passive",{get(){xe=!0}});window.addEventListener("test",null,i)}catch{}}let Wt=!1;typeof window<"u"&&typeof navigator<"u"&&(Wt=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream);const Hi=["auto","top","bottom","left","right"].reduce((i,e)=>i.concat([e,`${e}-start`,`${e}-end`]),[]),xt={hover:"mouseenter",focus:"focus",click:"click",touch:"touchstart",pointer:"pointerdown"},Ct={hover:"mouseleave",focus:"blur",click:"click",touch:"touchend",pointer:"pointerup"};function At(i,e){const t=i.indexOf(e);t!==-1&&i.splice(t,1)}function Ge(){return new Promise(i=>requestAnimationFrame(()=>{requestAnimationFrame(i)}))}const O=[];let se=null;const Et={};function bt(i){let e=Et[i];return e||(e=Et[i]=[]),e}let Qe=function(){};typeof window<"u"&&(Qe=window.Element);function x(i){return function(e){return Ze(e.theme,i)}}const qe="__floating-vue__popper",Yt=()=>$e({name:"VPopper",provide(){return{[qe]:{parentPopper:this}}},inject:{[qe]:{default:null}},props:{theme:{type:String,required:!0},targetNodes:{type:Function,required:!0},referenceNode:{type:Function,default:null},popperNode:{type:Function,required:!0},shown:{type:Boolean,default:!1},showGroup:{type:String,default:null},ariaId:{default:null},disabled:{type:Boolean,default:x("disabled")},positioningDisabled:{type:Boolean,default:x("positioningDisabled")},placement:{type:String,default:x("placement"),validator:i=>Hi.includes(i)},delay:{type:[String,Number,Object],default:x("delay")},distance:{type:[Number,String],default:x("distance")},skidding:{type:[Number,String],default:x("skidding")},triggers:{type:Array,default:x("triggers")},showTriggers:{type:[Array,Function],default:x("showTriggers")},hideTriggers:{type:[Array,Function],default:x("hideTriggers")},popperTriggers:{type:Array,default:x("popperTriggers")},popperShowTriggers:{type:[Array,Function],default:x("popperShowTriggers")},popperHideTriggers:{type:[Array,Function],default:x("popperHideTriggers")},container:{type:[String,Object,Qe,Boolean],default:x("container")},boundary:{type:[String,Qe],default:x("boundary")},strategy:{type:String,validator:i=>["absolute","fixed"].includes(i),default:x("strategy")},autoHide:{type:[Boolean,Function],default:x("autoHide")},handleResize:{type:Boolean,default:x("handleResize")},instantMove:{type:Boolean,default:x("instantMove")},eagerMount:{type:Boolean,default:x("eagerMount")},popperClass:{type:[String,Array,Object],default:x("popperClass")},computeTransformOrigin:{type:Boolean,default:x("computeTransformOrigin")},autoMinSize:{type:Boolean,default:x("autoMinSize")},autoSize:{type:[Boolean,String],default:x("autoSize")},autoMaxSize:{type:Boolean,default:x("autoMaxSize")},autoBoundaryMaxSize:{type:Boolean,default:x("autoBoundaryMaxSize")},preventOverflow:{type:Boolean,default:x("preventOverflow")},overflowPadding:{type:[Number,String],default:x("overflowPadding")},arrowPadding:{type:[Number,String],default:x("arrowPadding")},arrowOverflow:{type:Boolean,default:x("arrowOverflow")},flip:{type:Boolean,default:x("flip")},shift:{type:Boolean,default:x("shift")},shiftCrossAxis:{type:Boolean,default:x("shiftCrossAxis")},noAutoFocus:{type:Boolean,default:x("noAutoFocus")},disposeTimeout:{type:Number,default:x("disposeTimeout")}},emits:{show:()=>!0,hide:()=>!0,"update:shown":i=>!0,"apply-show":()=>!0,"apply-hide":()=>!0,"close-group":()=>!0,"close-directive":()=>!0,"auto-hide":()=>!0,resize:()=>!0},data(){return{isShown:!1,isMounted:!1,skipTransition:!1,classes:{showFrom:!1,showTo:!1,hideFrom:!1,hideTo:!0},result:{x:0,y:0,placement:"",strategy:this.strategy,arrow:{x:0,y:0,centerOffset:0},transformOrigin:null},randomId:`popper_${[Math.random(),Date.now()].map(i=>i.toString(36).substring(2,10)).join("_")}`,shownChildren:new Set,lastAutoHide:!0,pendingHide:!1,containsGlobalTarget:!1,isDisposed:!0,mouseDownContains:!1}},computed:{popperId(){return this.ariaId!=null?this.ariaId:this.randomId},shouldMountContent(){return this.eagerMount||this.isMounted},slotData(){return{popperId:this.popperId,isShown:this.isShown,shouldMountContent:this.shouldMountContent,skipTransition:this.skipTransition,autoHide:typeof this.autoHide=="function"?this.lastAutoHide:this.autoHide,show:this.show,hide:this.hide,handleResize:this.handleResize,onResize:this.onResize,classes:{...this.classes,popperClass:this.popperClass},result:this.positioningDisabled?null:this.result,attrs:this.$attrs}},parentPopper(){var i;return(i=this[qe])==null?void 0:i.parentPopper},hasPopperShowTriggerHover(){var i,e;return((i=this.popperTriggers)==null?void 0:i.includes("hover"))||((e=this.popperShowTriggers)==null?void 0:e.includes("hover"))}},watch:{shown:"$_autoShowHide",disabled(i){i?this.dispose():this.init()},async container(){this.isShown&&(this.$_ensureTeleport(),await this.$_computePosition())},triggers:{handler:"$_refreshListeners",deep:!0},positioningDisabled:"$_refreshListeners",...["placement","distance","skidding","boundary","strategy","overflowPadding","arrowPadding","preventOverflow","shift","shiftCrossAxis","flip"].reduce((i,e)=>(i[e]="$_computePosition",i),{})},created(){this.autoMinSize&&console.warn('[floating-vue] `autoMinSize` option is deprecated. Use `autoSize="min"` instead.'),this.autoMaxSize&&console.warn("[floating-vue] `autoMaxSize` option is deprecated. Use `autoBoundaryMaxSize` instead.")},mounted(){this.init(),this.$_detachPopperNode()},activated(){this.$_autoShowHide()},deactivated(){this.hide()},beforeUnmount(){this.dispose()},methods:{show({event:i=null,skipDelay:e=!1,force:t=!1}={}){var s,n;(s=this.parentPopper)!=null&&s.lockedChild&&this.parentPopper.lockedChild!==this||(this.pendingHide=!1,(t||!this.disabled)&&(((n=this.parentPopper)==null?void 0:n.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.$_scheduleShow(i,e),this.$emit("show"),this.$_showFrameLocked=!0,requestAnimationFrame(()=>{this.$_showFrameLocked=!1})),this.$emit("update:shown",!0))},hide({event:i=null,skipDelay:e=!1}={}){var t;if(!this.$_hideInProgress){if(this.shownChildren.size>0){this.pendingHide=!0;return}if(this.hasPopperShowTriggerHover&&this.$_isAimingPopper()){this.parentPopper&&(this.parentPopper.lockedChild=this,clearTimeout(this.parentPopper.lockedChildTimer),this.parentPopper.lockedChildTimer=setTimeout(()=>{this.parentPopper.lockedChild===this&&(this.parentPopper.lockedChild.hide({skipDelay:e}),this.parentPopper.lockedChild=null)},1e3));return}((t=this.parentPopper)==null?void 0:t.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.pendingHide=!1,this.$_scheduleHide(i,e),this.$emit("hide"),this.$emit("update:shown",!1)}},init(){var i;this.isDisposed&&(this.isDisposed=!1,this.isMounted=!1,this.$_events=[],this.$_preventShow=!1,this.$_referenceNode=((i=this.referenceNode)==null?void 0:i.call(this))??this.$el,this.$_targetNodes=this.targetNodes().filter(e=>e.nodeType===e.ELEMENT_NODE),this.$_popperNode=this.popperNode(),this.$_innerNode=this.$_popperNode.querySelector(".v-popper__inner"),this.$_arrowNode=this.$_popperNode.querySelector(".v-popper__arrow-container"),this.$_swapTargetAttrs("title","data-original-title"),this.$_detachPopperNode(),this.triggers.length&&this.$_addEventListeners(),this.shown&&this.show())},dispose(){this.isDisposed||(this.isDisposed=!0,this.$_removeEventListeners(),this.hide({skipDelay:!0}),this.$_detachPopperNode(),this.isMounted=!1,this.isShown=!1,this.$_updateParentShownChildren(!1),this.$_swapTargetAttrs("data-original-title","title"))},async onResize(){this.isShown&&(await this.$_computePosition(),this.$emit("resize"))},async $_computePosition(){if(this.isDisposed||this.positioningDisabled)return;const i={strategy:this.strategy,middleware:[]};(this.distance||this.skidding)&&i.middleware.push($i({mainAxis:this.distance,crossAxis:this.skidding}));const e=this.placement.startsWith("auto");if(e?i.middleware.push(Di({alignment:this.placement.split("-")[1]??""})):i.placement=this.placement,this.preventOverflow&&(this.shift&&i.middleware.push(Vi({padding:this.overflowPadding,boundary:this.boundary,crossAxis:this.shiftCrossAxis})),!e&&this.flip&&i.middleware.push(Ii({padding:this.overflowPadding,boundary:this.boundary}))),i.middleware.push(Ti({element:this.$_arrowNode,padding:this.arrowPadding})),this.arrowOverflow&&i.middleware.push({name:"arrowOverflow",fn:({placement:s,rects:n,middlewareData:r})=>{let a;const{centerOffset:o}=r.arrow;return s.startsWith("top")||s.startsWith("bottom")?a=Math.abs(o)>n.reference.width/2:a=Math.abs(o)>n.reference.height/2,{data:{overflow:a}}}}),this.autoMinSize||this.autoSize){const s=this.autoSize?this.autoSize:this.autoMinSize?"min":null;i.middleware.push({name:"autoSize",fn:({rects:n,placement:r,middlewareData:a})=>{var o;if((o=a.autoSize)!=null&&o.skip)return{};let u,l;return r.startsWith("top")||r.startsWith("bottom")?u=n.reference.width:l=n.reference.height,this.$_innerNode.style[s==="min"?"minWidth":s==="max"?"maxWidth":"width"]=u!=null?`${u}px`:null,this.$_innerNode.style[s==="min"?"minHeight":s==="max"?"maxHeight":"height"]=l!=null?`${l}px`:null,{data:{skip:!0},reset:{rects:!0}}}})}(this.autoMaxSize||this.autoBoundaryMaxSize)&&(this.$_innerNode.style.maxWidth=null,this.$_innerNode.style.maxHeight=null,i.middleware.push(Ri({boundary:this.boundary,padding:this.overflowPadding,apply:({availableWidth:s,availableHeight:n})=>{this.$_innerNode.style.maxWidth=s!=null?`${s}px`:null,this.$_innerNode.style.maxHeight=n!=null?`${n}px`:null}})));const t=await Ni(this.$_referenceNode,this.$_popperNode,i);Object.assign(this.result,{x:t.x,y:t.y,placement:t.placement,strategy:t.strategy,arrow:{...t.middlewareData.arrow,...t.middlewareData.arrowOverflow}})},$_scheduleShow(i,e=!1){if(this.$_updateParentShownChildren(!0),this.$_hideInProgress=!1,clearTimeout(this.$_scheduleTimer),se&&this.instantMove&&se.instantMove&&se!==this.parentPopper){se.$_applyHide(!0),this.$_applyShow(!0);return}e?this.$_applyShow():this.$_scheduleTimer=setTimeout(this.$_applyShow.bind(this),this.$_computeDelay("show"))},$_scheduleHide(i,e=!1){if(this.shownChildren.size>0){this.pendingHide=!0;return}this.$_updateParentShownChildren(!1),this.$_hideInProgress=!0,clearTimeout(this.$_scheduleTimer),this.isShown&&(se=this),e?this.$_applyHide():this.$_scheduleTimer=setTimeout(this.$_applyHide.bind(this),this.$_computeDelay("hide"))},$_computeDelay(i){const e=this.delay;return parseInt(e&&e[i]||e||0)},async $_applyShow(i=!1){clearTimeout(this.$_disposeTimer),clearTimeout(this.$_scheduleTimer),this.skipTransition=i,!this.isShown&&(this.$_ensureTeleport(),await Ge(),await this.$_computePosition(),await this.$_applyShowEffect(),this.positioningDisabled||this.$_registerEventListeners([...Me(this.$_referenceNode),...Me(this.$_popperNode)],"scroll",()=>{this.$_computePosition()}))},async $_applyShowEffect(){if(this.$_hideInProgress)return;if(this.computeTransformOrigin){const e=this.$_referenceNode.getBoundingClientRect(),t=this.$_popperNode.querySelector(".v-popper__wrapper"),s=t.parentNode.getBoundingClientRect(),n=e.x+e.width/2-(s.left+t.offsetLeft),r=e.y+e.height/2-(s.top+t.offsetTop);this.result.transformOrigin=`${n}px ${r}px`}this.isShown=!0,this.$_applyAttrsToTarget({"aria-describedby":this.popperId,"data-popper-shown":""});const i=this.showGroup;if(i){let e;for(let t=0;t<O.length;t++)e=O[t],e.showGroup!==i&&(e.hide(),e.$emit("close-group"))}O.push(this),document.body.classList.add("v-popper--some-open");for(const e of vt(this.theme))bt(e).push(this),document.body.classList.add(`v-popper--some-open--${e}`);this.$emit("apply-show"),this.classes.showFrom=!0,this.classes.showTo=!1,this.classes.hideFrom=!1,this.classes.hideTo=!1,await Ge(),this.classes.showFrom=!1,this.classes.showTo=!0,this.noAutoFocus||this.$_popperNode.focus()},async $_applyHide(i=!1){if(this.shownChildren.size>0){this.pendingHide=!0,this.$_hideInProgress=!1;return}if(clearTimeout(this.$_scheduleTimer),!this.isShown)return;this.skipTransition=i,At(O,this),O.length===0&&document.body.classList.remove("v-popper--some-open");for(const t of vt(this.theme)){const s=bt(t);At(s,this),s.length===0&&document.body.classList.remove(`v-popper--some-open--${t}`)}se===this&&(se=null),this.isShown=!1,this.$_applyAttrsToTarget({"aria-describedby":void 0,"data-popper-shown":void 0}),clearTimeout(this.$_disposeTimer);const e=this.disposeTimeout;e!==null&&(this.$_disposeTimer=setTimeout(()=>{this.$_popperNode&&(this.$_detachPopperNode(),this.isMounted=!1)},e)),this.$_removeEventListeners("scroll"),this.$emit("apply-hide"),this.classes.showFrom=!1,this.classes.showTo=!1,this.classes.hideFrom=!0,this.classes.hideTo=!1,await Ge(),this.classes.hideFrom=!1,this.classes.hideTo=!0},$_autoShowHide(){this.shown?this.show():this.hide()},$_ensureTeleport(){if(this.isDisposed)return;let i=this.container;if(typeof i=="string"?i=window.document.querySelector(i):i===!1&&(i=this.$_targetNodes[0].parentNode),!i)throw new Error("No container for popover: "+this.container);i.appendChild(this.$_popperNode),this.isMounted=!0},$_addEventListeners(){const i=t=>{this.isShown&&!this.$_hideInProgress||(t.usedByTooltip=!0,!this.$_preventShow&&this.show({event:t}))};this.$_registerTriggerListeners(this.$_targetNodes,xt,this.triggers,this.showTriggers,i),this.$_registerTriggerListeners([this.$_popperNode],xt,this.popperTriggers,this.popperShowTriggers,i);const e=t=>{t.usedByTooltip||this.hide({event:t})};this.$_registerTriggerListeners(this.$_targetNodes,Ct,this.triggers,this.hideTriggers,e),this.$_registerTriggerListeners([this.$_popperNode],Ct,this.popperTriggers,this.popperHideTriggers,e)},$_registerEventListeners(i,e,t){this.$_events.push({targetNodes:i,eventType:e,handler:t}),i.forEach(s=>s.addEventListener(e,t,xe?{passive:!0}:void 0))},$_registerTriggerListeners(i,e,t,s,n){let r=t;s!=null&&(r=typeof s=="function"?s(r):s),r.forEach(a=>{const o=e[a];o&&this.$_registerEventListeners(i,o,n)})},$_removeEventListeners(i){const e=[];this.$_events.forEach(t=>{const{targetNodes:s,eventType:n,handler:r}=t;!i||i===n?s.forEach(a=>a.removeEventListener(n,r)):e.push(t)}),this.$_events=e},$_refreshListeners(){this.isDisposed||(this.$_removeEventListeners(),this.$_addEventListeners())},$_handleGlobalClose(i,e=!1){this.$_showFrameLocked||(this.hide({event:i}),i.closePopover?this.$emit("close-directive"):this.$emit("auto-hide"),e&&(this.$_preventShow=!0,setTimeout(()=>{this.$_preventShow=!1},300)))},$_detachPopperNode(){this.$_popperNode.parentNode&&this.$_popperNode.parentNode.removeChild(this.$_popperNode)},$_swapTargetAttrs(i,e){for(const t of this.$_targetNodes){const s=t.getAttribute(i);s&&(t.removeAttribute(i),t.setAttribute(e,s))}},$_applyAttrsToTarget(i){for(const e of this.$_targetNodes)for(const t in i){const s=i[t];s==null?e.removeAttribute(t):e.setAttribute(t,s)}},$_updateParentShownChildren(i){let e=this.parentPopper;for(;e;)i?e.shownChildren.add(this.randomId):(e.shownChildren.delete(this.randomId),e.pendingHide&&e.hide()),e=e.parentPopper},$_isAimingPopper(){const i=this.$_referenceNode.getBoundingClientRect();if(me>=i.left&&me<=i.right&&ge>=i.top&&ge<=i.bottom){const e=this.$_popperNode.getBoundingClientRect(),t=me-Z,s=ge-Q,n=e.left+e.width/2-Z+(e.top+e.height/2)-Q+e.width+e.height,r=Z+t*n,a=Q+s*n;return Ae(Z,Q,r,a,e.left,e.top,e.left,e.bottom)||Ae(Z,Q,r,a,e.left,e.top,e.right,e.top)||Ae(Z,Q,r,a,e.right,e.top,e.right,e.bottom)||Ae(Z,Q,r,a,e.left,e.bottom,e.right,e.bottom)}return!1}},render(){return this.$slots.default(this.slotData)}});if(typeof document<"u"&&typeof window<"u"){if(Wt){const i=xe?{passive:!0,capture:!0}:!0;document.addEventListener("touchstart",e=>St(e),i),document.addEventListener("touchend",e=>Ft(e,!0),i)}else window.addEventListener("mousedown",i=>St(i),!0),window.addEventListener("click",i=>Ft(i,!1),!0);window.addEventListener("resize",Gi)}function St(i,e){for(let t=0;t<O.length;t++){const s=O[t];try{s.mouseDownContains=s.popperNode().contains(i.target)}catch{}}}function Ft(i,e){ji(i,e)}function ji(i,e){const t={};for(let s=O.length-1;s>=0;s--){const n=O[s];try{const r=n.containsGlobalTarget=n.mouseDownContains||n.popperNode().contains(i.target);n.pendingHide=!1,requestAnimationFrame(()=>{if(n.pendingHide=!1,!t[n.randomId]&&Tt(n,r,i)){if(n.$_handleGlobalClose(i,e),!i.closeAllPopover&&i.closePopover&&r){let o=n.parentPopper;for(;o;)t[o.randomId]=!0,o=o.parentPopper;return}let a=n.parentPopper;for(;a&&Tt(a,a.containsGlobalTarget,i);)a.$_handleGlobalClose(i,e),a=a.parentPopper}})}catch{}}}function Tt(i,e,t){return t.closeAllPopover||t.closePopover&&e||Ui(i,t)&&!e}function Ui(i,e){if(typeof i.autoHide=="function"){const t=i.autoHide(e);return i.lastAutoHide=t,t}return i.autoHide}function Gi(){for(let i=0;i<O.length;i++)O[i].$_computePosition()}let Z=0,Q=0,me=0,ge=0;typeof window<"u"&&window.addEventListener("mousemove",i=>{Z=me,Q=ge,me=i.clientX,ge=i.clientY},xe?{passive:!0}:void 0);function Ae(i,e,t,s,n,r,a,o){const u=((a-n)*(e-r)-(o-r)*(i-n))/((o-r)*(t-i)-(a-n)*(s-e)),l=((t-i)*(e-r)-(s-e)*(i-n))/((o-r)*(t-i)-(a-n)*(s-e));return u>=0&&u<=1&&l>=0&&l<=1}const qi={extends:Yt()},ot=(i,e)=>{const t=i.__vccOpts||i;for(const[s,n]of e)t[s]=n;return t};function Wi(i,e,t,s,n,r){return oe(),Se("div",{ref:"reference",class:tt(["v-popper",{"v-popper--shown":i.slotData.isShown}])},[_e(i.$slots,"default",ri(ai(i.slotData)))],2)}const Yi=ot(qi,[["render",Wi]]);function Ki(){var i=window.navigator.userAgent,e=i.indexOf("MSIE ");if(e>0)return parseInt(i.substring(e+5,i.indexOf(".",e)),10);var t=i.indexOf("Trident/");if(t>0){var s=i.indexOf("rv:");return parseInt(i.substring(s+3,i.indexOf(".",s)),10)}var n=i.indexOf("Edge/");return n>0?parseInt(i.substring(n+5,i.indexOf(".",n)),10):-1}let be;function Je(){Je.init||(Je.init=!0,be=Ki()!==-1)}var He={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},emits:["notify"],mounted(){Je(),oi(()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitOnMount&&this.emitSize()});const i=document.createElement("object");this._resizeObject=i,i.setAttribute("aria-hidden","true"),i.setAttribute("tabindex",-1),i.onload=this.addResizeHandlers,i.type="text/html",be&&this.$el.appendChild(i),i.data="about:blank",be||this.$el.appendChild(i)},beforeUnmount(){this.removeResizeHandlers()},methods:{compareAndNotify(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!be&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};const Xi=ui();Jt("data-v-b329ee4c");const Zi={class:"resize-observer",tabindex:"-1"};ei();const Qi=Xi((i,e,t,s,n,r)=>(oe(),it("div",Zi)));He.render=Qi;He.__scopeId="data-v-b329ee4c";He.__file="src/components/ResizeObserver.vue";const Kt=(i="theme")=>({computed:{themeClass(){return zi(this[i])}}}),Ji=$e({name:"VPopperContent",components:{ResizeObserver:He},mixins:[Kt()],props:{popperId:String,theme:String,shown:Boolean,mounted:Boolean,skipTransition:Boolean,autoHide:Boolean,handleResize:Boolean,classes:Object,result:Object},emits:["hide","resize"],methods:{toPx(i){return i!=null&&!isNaN(i)?`${i}px`:null}}}),es=["id","aria-hidden","tabindex","data-popper-placement"],ts={ref:"inner",class:"v-popper__inner"},is=re("div",{class:"v-popper__arrow-outer"},null,-1),ss=re("div",{class:"v-popper__arrow-inner"},null,-1),ns=[is,ss];function rs(i,e,t,s,n,r){const a=We("ResizeObserver");return oe(),Se("div",{id:i.popperId,ref:"popover",class:tt(["v-popper__popper",[i.themeClass,i.classes.popperClass,{"v-popper__popper--shown":i.shown,"v-popper__popper--hidden":!i.shown,"v-popper__popper--show-from":i.classes.showFrom,"v-popper__popper--show-to":i.classes.showTo,"v-popper__popper--hide-from":i.classes.hideFrom,"v-popper__popper--hide-to":i.classes.hideTo,"v-popper__popper--skip-transition":i.skipTransition,"v-popper__popper--arrow-overflow":i.result&&i.result.arrow.overflow,"v-popper__popper--no-positioning":!i.result}]]),style:je(i.result?{position:i.result.strategy,transform:`translate3d(${Math.round(i.result.x)}px,${Math.round(i.result.y)}px,0)`}:void 0),"aria-hidden":i.shown?"false":"true",tabindex:i.autoHide?0:void 0,"data-popper-placement":i.result?i.result.placement:void 0,onKeyup:e[2]||(e[2]=ni(o=>i.autoHide&&i.$emit("hide"),["esc"]))},[re("div",{class:"v-popper__backdrop",onClick:e[0]||(e[0]=o=>i.autoHide&&i.$emit("hide"))}),re("div",{class:"v-popper__wrapper",style:je(i.result?{transformOrigin:i.result.transformOrigin}:void 0)},[re("div",ts,[i.mounted?(oe(),Se(si,{key:0},[re("div",null,[_e(i.$slots,"default")]),i.handleResize?(oe(),it(a,{key:0,onNotify:e[1]||(e[1]=o=>i.$emit("resize",o))})):ht("",!0)],64)):ht("",!0)],512),re("div",{ref:"arrow",class:"v-popper__arrow-container",style:je(i.result?{left:i.toPx(i.result.arrow.x),top:i.toPx(i.result.arrow.y)}:void 0)},ns,4)],4)],46,es)}const Xt=ot(Ji,[["render",rs]]),Zt={methods:{show(...i){return this.$refs.popper.show(...i)},hide(...i){return this.$refs.popper.hide(...i)},dispose(...i){return this.$refs.popper.dispose(...i)},onResize(...i){return this.$refs.popper.onResize(...i)}}};let et=function(){};typeof window<"u"&&(et=window.Element);const as=$e({name:"VPopperWrapper",components:{Popper:Yi,PopperContent:Xt},mixins:[Zt,Kt("finalTheme")],props:{theme:{type:String,default:null},referenceNode:{type:Function,default:null},shown:{type:Boolean,default:!1},showGroup:{type:String,default:null},ariaId:{default:null},disabled:{type:Boolean,default:void 0},positioningDisabled:{type:Boolean,default:void 0},placement:{type:String,default:void 0},delay:{type:[String,Number,Object],default:void 0},distance:{type:[Number,String],default:void 0},skidding:{type:[Number,String],default:void 0},triggers:{type:Array,default:void 0},showTriggers:{type:[Array,Function],default:void 0},hideTriggers:{type:[Array,Function],default:void 0},popperTriggers:{type:Array,default:void 0},popperShowTriggers:{type:[Array,Function],default:void 0},popperHideTriggers:{type:[Array,Function],default:void 0},container:{type:[String,Object,et,Boolean],default:void 0},boundary:{type:[String,et],default:void 0},strategy:{type:String,default:void 0},autoHide:{type:[Boolean,Function],default:void 0},handleResize:{type:Boolean,default:void 0},instantMove:{type:Boolean,default:void 0},eagerMount:{type:Boolean,default:void 0},popperClass:{type:[String,Array,Object],default:void 0},computeTransformOrigin:{type:Boolean,default:void 0},autoMinSize:{type:Boolean,default:void 0},autoSize:{type:[Boolean,String],default:void 0},autoMaxSize:{type:Boolean,default:void 0},autoBoundaryMaxSize:{type:Boolean,default:void 0},preventOverflow:{type:Boolean,default:void 0},overflowPadding:{type:[Number,String],default:void 0},arrowPadding:{type:[Number,String],default:void 0},arrowOverflow:{type:Boolean,default:void 0},flip:{type:Boolean,default:void 0},shift:{type:Boolean,default:void 0},shiftCrossAxis:{type:Boolean,default:void 0},noAutoFocus:{type:Boolean,default:void 0},disposeTimeout:{type:Number,default:void 0}},emits:{show:()=>!0,hide:()=>!0,"update:shown":i=>!0,"apply-show":()=>!0,"apply-hide":()=>!0,"close-group":()=>!0,"close-directive":()=>!0,"auto-hide":()=>!0,resize:()=>!0},computed:{finalTheme(){return this.theme??this.$options.vPopperTheme}},methods:{getTargetNodes(){return Array.from(this.$el.children).filter(i=>i!==this.$refs.popperContent.$el)}}});function os(i,e,t,s,n,r){const a=We("PopperContent"),o=We("Popper");return oe(),it(o,ii({ref:"popper"},i.$props,{theme:i.finalTheme,"target-nodes":i.getTargetNodes,"popper-node":()=>i.$refs.popperContent.$el,class:[i.themeClass],onShow:e[0]||(e[0]=()=>i.$emit("show")),onHide:e[1]||(e[1]=()=>i.$emit("hide")),"onUpdate:shown":e[2]||(e[2]=u=>i.$emit("update:shown",u)),onApplyShow:e[3]||(e[3]=()=>i.$emit("apply-show")),onApplyHide:e[4]||(e[4]=()=>i.$emit("apply-hide")),onCloseGroup:e[5]||(e[5]=()=>i.$emit("close-group")),onCloseDirective:e[6]||(e[6]=()=>i.$emit("close-directive")),onAutoHide:e[7]||(e[7]=()=>i.$emit("auto-hide")),onResize:e[8]||(e[8]=()=>i.$emit("resize"))}),{default:lt(({popperId:u,isShown:l,shouldMountContent:h,skipTransition:d,autoHide:p,show:c,hide:m,handleResize:_,onResize:k,classes:y,result:v})=>[_e(i.$slots,"default",{shown:l,show:c,hide:m}),ti(a,{ref:"popperContent","popper-id":u,theme:i.finalTheme,shown:l,mounted:h,"skip-transition":d,"auto-hide":p,"handle-resize":_,classes:y,result:v,onHide:m,onResize:k},{default:lt(()=>[_e(i.$slots,"popper",{shown:l,hide:m})]),_:2},1032,["popper-id","theme","shown","mounted","skip-transition","auto-hide","handle-resize","classes","result","onHide","onResize"])]),_:3},16,["theme","target-nodes","popper-node","class"])}const ut=ot(as,[["render",os]]);({...ut});({...ut});const us={...ut,name:"VTooltip",vPopperTheme:"tooltip"};$e({name:"VTooltipDirective",components:{Popper:Yt(),PopperContent:Xt},mixins:[Zt],inheritAttrs:!1,props:{theme:{type:String,default:"tooltip"},html:{type:Boolean,default:i=>Ze(i.theme,"html")},content:{type:[String,Number,Function],default:null},loadingContent:{type:String,default:i=>Ze(i.theme,"loadingContent")},targetNodes:{type:Function,required:!0}},data(){return{asyncContent:null}},computed:{isContentAsync(){return typeof this.content=="function"},loading(){return this.isContentAsync&&this.asyncContent==null},finalContent(){return this.isContentAsync?this.loading?this.loadingContent:this.asyncContent:this.content}},watch:{content:{handler(){this.fetchContent(!0)},immediate:!0},async finalContent(){await this.$nextTick(),this.$refs.popper.onResize()}},created(){this.$_fetchId=0},methods:{fetchContent(i){if(typeof this.content=="function"&&this.$_isShown&&(i||!this.$_loading&&this.asyncContent==null)){this.asyncContent=null,this.$_loading=!0;const e=++this.$_fetchId,t=this.content(this);t.then?t.then(s=>this.onResult(e,s)):this.onResult(e,t)}},onResult(i,e){i===this.$_fetchId&&(this.$_loading=!1,this.asyncContent=e)},onShow(){this.$_isShown=!0,this.fetchContent()},onHide(){this.$_isShown=!1}}});const ds=us;export{g as I,ds as V,hs as _};
