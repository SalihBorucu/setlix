import{r as A,A as z,x as h,c as m,o as i,a,u as l,m as L,w as s,b as e,h as f,t as c,e as b,P as v,f as r,F as x,j as $,W as j}from"./app-Dc_Fn3fE.js";import{_ as U}from"./AuthenticatedLayout-tG6DgGV4.js";import{_ as u}from"./DSTooltip.vue_vue_type_style_index_0_lang-B9_KI25U.js";import{_ as p}from"./Card-D-rXPIZf.js";import{_}from"./DSTooltip-B2bV6-Uj.js";import{_ as B}from"./ConfirmModal-MjpHPQGd.js";/* empty css            */import"./Alert-Bnj6zwPT.js";import"./Modal-ed41U4j-.js";import"./transition-Bm63RUDT.js";const D={class:"md:flex md:items-center md:justify-between"},F={class:"min-w-0 flex-1"},H={class:"text-2xl font-bold leading-7 text-neutral-900 sm:truncate sm:text-3xl sm:tracking-tight"},P={class:"mt-1 text-sm text-neutral-500"},q={class:"mt-4 flex md:ml-4 md:mt-0 space-x-3"},R={class:"grid gap-6 md:grid-cols-2"},E={class:"p-6"},T={class:"space-y-4"},W={key:0,class:"aspect-video w-full overflow-hidden rounded-lg"},I=["src","alt"],O={class:"text-neutral-600"},Q={class:"p-6"},Y={class:"flex items-center justify-between mb-4"},G={class:"divide-y divide-neutral-200"},J={class:"flex items-center"},K=["src","alt"],X={class:"ml-3"},Z={class:"text-sm font-medium text-neutral-900"},ee={class:"text-xs text-neutral-500"},te={key:0,class:"inline-flex items-center rounded-full bg-primary-50 px-2 py-1 text-xs font-medium text-primary-700"},se={class:"p-6"},ne={class:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4"},le={class:"relative group"},ae={class:"h-full rounded-lg border border-neutral-200 p-6"},ie={class:"flex items-center justify-between"},de={class:"text-2xl font-semibold text-neutral-900"},oe={class:"mt-4 flex justify-between items-center"},re={class:"relative group"},ue={class:"h-full rounded-lg border border-neutral-200 p-6"},me={class:"flex items-center justify-between"},fe={class:"text-2xl font-semibold text-neutral-900"},ce={class:"mt-4 flex justify-between items-center"},je={__name:"Show",props:{band:{type:Object,required:!0},isAdmin:{type:Boolean,required:!0},currentUserRole:{type:String,required:!0}},setup(n){const g=n,y=A(!1),w=A(!1),S=z(),k=h(()=>S.props.trial||{}),C=h(()=>{var o;return(o=k.value)!=null&&o.isSubscribed?!0:(g.band.songs_count||0)<10}),V=h(()=>{var o;return(o=k.value)!=null&&o.isSubscribed?!0:(g.band.setlists_count||0)<3}),M=()=>{j.delete(route("bands.destroy",g.band.id))},N=()=>{j.delete(route("bands.leave",g.band.id))};return(o,t)=>(i(),m(x,null,[a(l(L),{title:n.band.name},null,8,["title"]),a(U,null,{header:s(()=>[e("div",D,[e("div",F,[e("h2",H,c(n.band.name),1),e("p",P,c(n.band.members_count)+" members ",1)]),e("div",q,[!n.isAdmin&&n.currentUserRole==="member"?(i(),b(l(u),{key:0,variant:"danger",onClick:t[0]||(t[0]=d=>w.value=!0)},{default:s(()=>t[4]||(t[4]=[e("svg",{class:"-ml-0.5 mr-1.5 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),r(" Leave Band ")])),_:1})):f("",!0),n.isAdmin?(i(),m(x,{key:1},[a(l(v),{href:o.route("bands.edit",n.band.id)},{default:s(()=>[a(l(u),{variant:"secondary"},{default:s(()=>t[5]||(t[5]=[e("svg",{class:"-ml-0.5 mr-1.5 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1),r(" Edit Band ")])),_:1})]),_:1},8,["href"]),a(l(u),{variant:"danger",onClick:t[1]||(t[1]=d=>y.value=!0)},{default:s(()=>t[6]||(t[6]=[e("svg",{class:"-ml-0.5 mr-1.5 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),r(" Delete Band ")])),_:1})],64)):f("",!0)])])]),default:s(()=>[e("div",R,[a(l(p),null,{default:s(()=>[e("div",E,[t[7]||(t[7]=e("div",{class:"flex items-center justify-between mb-4"},[e("h3",{class:"text-lg font-semibold text-neutral-900"},"About")],-1)),e("div",T,[n.band.cover_image?(i(),m("div",W,[e("img",{src:n.band.cover_image,alt:n.band.name,class:"h-full w-full object-cover"},null,8,I)])):f("",!0),e("p",O,c(n.band.description||"No description provided."),1)])])]),_:1}),a(l(p),null,{default:s(()=>[e("div",Q,[e("div",Y,[t[9]||(t[9]=e("h3",{class:"text-lg font-semibold text-neutral-900"},"Members",-1)),n.isAdmin?(i(),b(l(v),{key:0,href:o.route("bands.members.index",n.band.id)},{default:s(()=>[a(l(u),{variant:"secondary",size:"sm"},{default:s(()=>t[8]||(t[8]=[r(" Manage Members ")])),_:1})]),_:1},8,["href"])):f("",!0)]),e("div",G,[(i(!0),m(x,null,$(n.band.members,d=>(i(),m("div",{key:d.id,class:"flex items-center justify-between py-3"},[e("div",J,[e("img",{src:d.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(d.name)}`,alt:d.name,class:"h-8 w-8 rounded-full"},null,8,K),e("div",X,[e("p",Z,c(d.name),1),e("p",ee,c(d.email),1)])]),d.pivot.role==="admin"?(i(),m("span",te," Admin ")):f("",!0)]))),128))])])]),_:1}),a(l(p),{class:"md:col-span-2"},{default:s(()=>[e("div",se,[t[22]||(t[22]=e("div",{class:"flex items-center justify-between mb-4"},[e("h3",{class:"text-lg font-semibold text-neutral-900"},"Quick Actions")],-1)),e("div",ne,[e("div",le,[e("div",ae,[e("div",ie,[t[10]||(t[10]=e("h4",{class:"text-base font-medium text-neutral-900"},"Songs",-1)),e("span",de,c(n.band.songs_count||0),1)]),e("div",oe,[a(l(v),{href:o.route("songs.index",{band:n.band.id})},{default:s(()=>[a(l(u),{variant:"outline",size:"sm"},{default:s(()=>t[11]||(t[11]=[r(" View All ")])),_:1})]),_:1},8,["href"]),n.isAdmin?(i(),m(x,{key:0},[C.value?(i(),b(l(v),{key:1,href:o.route("songs.create",{band:n.band.id})},{default:s(()=>[a(l(u),{variant:"primary",size:"sm"},{default:s(()=>t[14]||(t[14]=[r(" Add New Song ")])),_:1})]),_:1},8,["href"])):(i(),b(l(_),{key:0},{content:s(()=>t[13]||(t[13]=[r(" Free trial allows maximum 10 songs. Please subscribe to add more. ")])),default:s(()=>[a(l(u),{variant:"primary",size:"sm",disabled:""},{default:s(()=>t[12]||(t[12]=[r(" Add New Song ")])),_:1})]),_:1}))],64)):f("",!0)])])]),e("div",re,[e("div",ue,[e("div",me,[t[15]||(t[15]=e("h4",{class:"text-base font-medium text-neutral-900"},"Setlists",-1)),e("span",fe,c(n.band.setlists_count||0),1)]),e("div",ce,[a(l(v),{href:o.route("setlists.index",{band:n.band.id})},{default:s(()=>[a(l(u),{variant:"outline",size:"sm"},{default:s(()=>t[16]||(t[16]=[r(" View All ")])),_:1})]),_:1},8,["href"]),n.isAdmin?(i(),m(x,{key:0},[V.value?(i(),b(l(v),{key:1,href:o.route("setlists.create",{band:n.band.id})},{default:s(()=>[a(l(u),{variant:"primary",size:"sm"},{default:s(()=>t[19]||(t[19]=[r(" Create New Setlist ")])),_:1})]),_:1},8,["href"])):(i(),b(l(_),{key:0},{content:s(()=>t[18]||(t[18]=[r(" Free trial allows maximum 3 setlists. Please subscribe to add more. ")])),default:s(()=>[a(l(u),{variant:"primary",size:"sm",disabled:""},{default:s(()=>t[17]||(t[17]=[r(" Create New Setlist ")])),_:1})]),_:1}))],64)):f("",!0)])])]),t[20]||(t[20]=e("div",{class:"h-full rounded-lg border border-neutral-200 p-6"},[e("div",{class:"flex items-center justify-between"},[e("h4",{class:"text-base font-medium text-neutral-900"},"Upcoming Shows"),e("span",{class:"text-2xl font-semibold text-neutral-900"},"0")]),e("p",{class:"mt-1 text-sm text-neutral-500"},"Coming soon")],-1)),t[21]||(t[21]=e("div",{class:"h-full rounded-lg border border-neutral-200 p-6"},[e("div",{class:"flex items-center justify-between"},[e("h4",{class:"text-base font-medium text-neutral-900"},"Statistics"),e("span",{class:"text-2xl font-semibold text-neutral-900"},"-")]),e("p",{class:"mt-1 text-sm text-neutral-500"},"Coming soon")],-1))])])]),_:1})]),a(B,{modelValue:y.value,"onUpdate:modelValue":t[2]||(t[2]=d=>y.value=d),title:"Delete Band",description:"Are you sure you want to delete this band? This action cannot be undone and all associated data will be permanently deleted.","confirm-text":"Delete Band",onConfirm:M},null,8,["modelValue"]),a(B,{modelValue:w.value,"onUpdate:modelValue":t[3]||(t[3]=d=>w.value=d),title:"Leave Band",description:"Are you sure you want to leave this band? You will lose access to all band content and will need to be invited back to rejoin.","confirm-text":"Leave Band",onConfirm:N},null,8,["modelValue"])]),_:1})],64))}};export{je as default};
