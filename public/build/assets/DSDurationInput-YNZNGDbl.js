import{_ as M}from"./Input-CEi9gFeA.js";import{I as l}from"./DSTooltip.vue_vue_type_style_index_0_lang-DHx0qBNX.js";import{r as h,s as g,l as H,E as b,e as V,o as x,u as $,H as I}from"./app-BWRtL228.js";const B={__name:"DSDurationInput",props:{modelValue:{type:[String,Number],default:""},label:{type:String,default:null},error:{type:String,default:""},required:{type:Boolean,default:!1},includeHours:{type:Boolean,default:!1}},emits:["update:modelValue","update:seconds"],setup(o,{emit:k}){const r=o,f=k,i=h(null);let n=null,d=!1;const c=e=>{if(typeof e=="number")return e;if(!e||typeof e!="string"||e.indexOf(":")===-1)return 0;const t=e.split(":").map(Number);return t.length===3?t[0]*3600+t[1]*60+(t[2]||0):t[0]*60+(t[1]||0)},m=e=>{if(typeof e!="number"||isNaN(e))return"";if(r.includeHours){const t=Math.floor(e/3600).toString().padStart(2,"0"),a=Math.floor(e%3600/60).toString().padStart(2,"0"),s=(e%60).toString().padStart(2,"0");return`${t}:${a}:${s}`}else{const t=Math.floor(e/60).toString().padStart(2,"0"),a=(e%60).toString().padStart(2,"0");return`${t}:${a}`}},p=()=>{var s,S;n&&n.destroy();const e=((S=(s=i.value)==null?void 0:s.$el)==null?void 0:S.querySelector("input"))||i.value;if(!e)return;const t=r.modelValue!=null&&r.modelValue!=="",a={mask:r.includeHours?"HH:MM:SS":"MM:SS",lazy:!t,blocks:{HH:{mask:l.MaskedRange,from:0,to:99,minLength:2,autofix:"pad"},MM:{mask:l.MaskedRange,from:0,to:r.includeHours?59:99,minLength:2,autofix:"pad"},SS:{mask:l.MaskedRange,from:0,to:59,minLength:2,autofix:"pad"}}};if(n=l(e,a),t){const u=c(r.modelValue);n.value=m(u)}n.on("accept",()=>{d=!0;const u=n.value,y=c(u);f("update:modelValue",u),f("update:seconds",y),I(()=>{d=!1})})};return g(()=>r.modelValue,e=>{if(d||!n)return;const t=c(e||0);n.value=m(t)},{deep:!0}),g(()=>r.includeHours,p),H(p),b(()=>{n&&n.destroy()}),(e,t)=>(x(),V($(M),{ref_key:"inputComponentRef",ref:i,label:o.label,error:o.error,required:o.required,placeholder:r.includeHours?"00:00:00":"00:00",inputmode:"numeric"},null,8,["label","error","required","placeholder"]))}};export{B as _};
