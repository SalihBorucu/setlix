import{C as h,r as C,c as i,o as d,a as l,u as t,m as _,w as n,b as r,d as S,e as N,h as y,F as g,j,t as f,i as B,n as M,q as O,P as x,f as b}from"./app-RtlUSPMi.js";import{_ as U}from"./AuthenticatedLayout-CDZD8L8b.js";import{_ as v}from"./Button-D2tZ0rOX.js";import{_ as m}from"./Input-ByC62vXA.js";import{_ as A}from"./Card-ucR7er3D.js";import{_ as D}from"./Alert-BLEPqtun.js";const T={class:"md:flex md:items-center md:justify-between"},$={class:"min-w-0 flex-1"},q={class:"flex items-center"},F={class:"list-disc list-inside"},P={class:"grid grid-cols-2 gap-4"},L={class:"mt-1"},z={class:"mt-1 flex justify-center rounded-lg border border-dashed border-neutral-300 px-6 py-10"},E={class:"text-center"},H={class:"mt-4 flex text-sm text-neutral-600"},I={for:"document",class:"relative cursor-pointer rounded-md font-medium text-primary-600 hover:text-primary-500"},X={key:0,class:"mt-1 text-sm text-error-500"},Y={class:"flex items-center justify-end space-x-4"},G={key:0},J={key:1},te={__name:"Create",props:{band:{type:Object,required:!0}},setup(u){const c=u,s=h({band_id:c.band.id,name:"",duration_seconds:"",notes:"",url:"",bpm:"",artist:"",document:null}),k=a=>{const[e,o]=a.split(":").map(Number);return e*60+o},p=C(""),V=()=>{s.duration_seconds=k(p.value),s.post(route("songs.store",c.band.id))},w=a=>{s.document=a.target.files[0]};return(a,e)=>(d(),i(g,null,[l(t(_),{title:"Add New Song"}),l(U,null,{header:n(()=>[r("div",T,[r("div",$,[r("div",q,[l(t(x),{href:a.route("bands.show",u.band.id),class:"text-sm font-medium text-primary-600 hover:text-primary-700"},{default:n(()=>[b(f(u.band.name),1)]),_:1},8,["href"]),e[7]||(e[7]=r("svg",{class:"mx-2 h-5 w-5 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)),l(t(x),{href:a.route("songs.index",u.band.id),class:"text-sm font-medium text-primary-600 hover:text-primary-700"},{default:n(()=>e[6]||(e[6]=[b(" Songs ")])),_:1},8,["href"])]),e[8]||(e[8]=r("h2",{class:"mt-1 text-2xl font-bold leading-7 text-neutral-900 sm:truncate sm:text-3xl sm:tracking-tight"}," Add New Song ",-1)),e[9]||(e[9]=r("p",{class:"mt-1 text-sm text-neutral-500"}," Add a new song to your band's library ",-1))])])]),default:n(()=>[l(t(A),{class:"max-w-2xl"},{default:n(()=>[r("form",{onSubmit:S(V,["prevent"]),class:"space-y-6 p-6"},[Object.keys(t(s).errors).length>0?(d(),N(t(D),{key:0,type:"error"},{default:n(()=>[r("ul",F,[(d(!0),i(g,null,j(t(s).errors,o=>(d(),i("li",{key:o},f(o),1))),128))])]),_:1})):y("",!0),r("div",P,[r("div",null,[l(t(m),{modelValue:t(s).name,"onUpdate:modelValue":e[0]||(e[0]=o=>t(s).name=o),type:"text",label:"Song Name",error:t(s).errors.name,required:""},null,8,["modelValue","error"])]),r("div",null,[l(t(m),{modelValue:t(s).artist,"onUpdate:modelValue":e[1]||(e[1]=o=>t(s).artist=o),type:"text",label:"Artist (Optional)",error:t(s).errors.artist,placeholder:""},null,8,["modelValue","error"])]),r("div",null,[l(t(m),{modelValue:p.value,"onUpdate:modelValue":e[2]||(e[2]=o=>p.value=o),type:"text",label:"Duration (MM:SS)",error:t(s).errors.duration_seconds,required:"",pattern:"[0-9]{1,2}:[0-9]{2}",placeholder:"03:30"},null,8,["modelValue","error"])]),r("div",null,[l(t(m),{modelValue:t(s).bpm,"onUpdate:modelValue":e[3]||(e[3]=o=>t(s).bpm=o),type:"number",label:"BPM (Optional)",error:t(s).errors.bpm},null,8,["modelValue","error"])])]),r("div",null,[e[10]||(e[10]=r("label",{class:"block text-sm font-medium text-neutral-700"}," Notes (Optional) ",-1)),r("div",L,[B(r("textarea",{"onUpdate:modelValue":e[4]||(e[4]=o=>t(s).notes=o),rows:"4",class:M(["block w-full rounded-lg shadow-sm transition-colors duration-200","border-neutral-300 focus:border-primary-500 focus:ring-primary-500",{"border-error-500 focus:border-error-500 focus:ring-error-500":t(s).errors.notes}])},null,2),[[O,t(s).notes]])]),e[11]||(e[11]=r("p",{class:"mt-1 text-sm text-neutral-500"}," Add any notes about the song, such as key changes or special instructions ",-1))]),r("div",null,[l(t(m),{modelValue:t(s).url,"onUpdate:modelValue":e[5]||(e[5]=o=>t(s).url=o),type:"url",label:"External Link (Optional)",error:t(s).errors.url,placeholder:"https://"},null,8,["modelValue","error"]),e[12]||(e[12]=r("p",{class:"mt-1 text-sm text-neutral-500"}," Link to an external resource (YouTube, Spotify, etc.) ",-1))]),r("div",null,[e[17]||(e[17]=r("label",{class:"block text-sm font-medium text-neutral-700"}," Document (Optional) ",-1)),r("div",z,[r("div",E,[e[15]||(e[15]=r("svg",{class:"mx-auto h-12 w-12 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1)),r("div",H,[r("label",I,[e[13]||(e[13]=r("span",null,"Upload a file",-1)),r("input",{id:"document",type:"file",class:"sr-only",accept:".pdf,.txt",onChange:w},null,32)]),e[14]||(e[14]=r("p",{class:"pl-1"},"or drag and drop",-1))]),e[16]||(e[16]=r("p",{class:"text-xs text-neutral-500"},"PDF or TXT up to 10MB",-1))])]),t(s).errors.document?(d(),i("p",X,f(t(s).errors.document),1)):y("",!0)]),r("div",Y,[l(t(x),{href:a.route("songs.index",u.band.id)},{default:n(()=>[l(t(v),{type:"button",variant:"outline"},{default:n(()=>e[18]||(e[18]=[b(" Cancel ")])),_:1})]),_:1},8,["href"]),l(t(v),{type:"submit",variant:"primary",disabled:t(s).processing},{default:n(()=>[t(s).processing?(d(),i("span",G,"Creating...")):(d(),i("span",J,"Create Song"))]),_:1},8,["disabled"])])],32)]),_:1})]),_:1})],64))}};export{te as default};
