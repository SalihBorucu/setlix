import{x as H,p as M,r as C,c as u,o as a,a as n,u as r,m as N,w as s,b as e,h as k,F as w,e as v,f as d,P as m,k as z,t as x,W as F}from"./app-BGeLth5s.js";import{_}from"./AuthenticatedLayout-IfBCWSCS.js";import{_ as f}from"./DSTooltip.vue_vue_type_style_index_0_lang-DwNk_lrM.js";import{_ as S}from"./Card-ClFlZ11u.js";import{_ as L}from"./AlertModal-C2P7-Hnl.js";import{_ as B}from"./DSTooltip-BKZs9EeA.js";import"./app-BxuWAwOE.js";import"./Alert-Be2L7Mas.js";import"./Modal-Cd9k5lXq.js";import"./transition-C_xONS22.js";const P={class:"md:flex md:items-center md:justify-between"},q={class:"min-w-0 flex-1"},T={class:"flex items-center"},W={class:"mt-4 flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-3 md:ml-4 md:mt-0"},Y={class:"p-6"},E={key:0,class:"text-center py-12"},G={class:"mt-6"},I={key:1,class:"grid gap-6 md:grid-cols-2 lg:grid-cols-3"},O={class:"p-6 flex flex-col justify-between h-full"},J={class:"flex items-start justify-between"},K={class:"min-w-0 flex-1"},Q={key:0,class:"mt-1 text-sm text-neutral-500 line-clamp-2"},R={key:0,class:"ml-4 flex items-center space-x-2"},U=["onClick"],X={class:"mt-4 flex items-center justify-between border-t border-neutral-200 pt-4"},Z={class:"flex items-center space-x-4 text-sm text-neutral-500"},tt={class:"flex items-center"},et={class:"flex items-center"},ct={__name:"Index",props:{band:{type:Object,required:!0},setlists:{type:Array,required:!0},isAdmin:{type:Boolean,required:!0}},setup(l){const p=l,j=H(),$=M(()=>j.props.trial||{}),y=M(()=>{var o;return(o=$.value)!=null&&o.isSubscribed?!0:p.setlists.length<3}),b=C(null),h=C(null),V=o=>{var t;h.value=o,(t=b.value)==null||t.open()},A=()=>{h.value&&F.delete(route("setlists.destroy",[p.band.id,h.value.id]))},D=o=>{const t=Math.floor(o/3600),c=Math.floor(o%3600/60),i=o%60;return t>0?`${t}:${c.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`:`${c}:${i.toString().padStart(2,"0")}`};return(o,t)=>(a(),u(w,null,[n(r(N),{title:`${l.band.name} - Setlists`},null,8,["title"]),n(_,null,{header:s(()=>[e("div",P,[e("div",q,[e("div",T,[n(r(m),{href:o.route("bands.show",l.band.id),class:"text-sm font-medium text-primary-600 hover:text-primary-700"},{default:s(()=>[d(x(l.band.name),1)]),_:1},8,["href"]),t[0]||(t[0]=e("svg",{class:"mx-2 h-5 w-5 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))]),t[1]||(t[1]=e("h2",{class:"mt-1 text-2xl font-bold leading-7 text-neutral-900 sm:truncate sm:text-3xl sm:tracking-tight"}," Setlists ",-1)),t[2]||(t[2]=e("p",{class:"mt-1 text-sm text-neutral-500"}," Manage your band's setlists ",-1))]),e("div",W,[n(r(m),{href:o.route("bands.show",l.band.id)},{default:s(()=>[n(r(f),{variant:"secondary",class:"w-full sm:w-auto"},{default:s(()=>t[3]||(t[3]=[e("svg",{class:"-ml-0.5 mr-1.5 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),d(" Back to Band ")])),_:1})]),_:1},8,["href"]),l.isAdmin?(a(),u(w,{key:0},[y.value?(a(),v(r(m),{key:1,href:o.route("setlists.create",l.band.id)},{default:s(()=>[n(r(f),{variant:"primary",class:"w-full sm:w-auto"},{default:s(()=>t[6]||(t[6]=[e("svg",{class:"-ml-0.5 mr-1.5 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),d(" Create New Setlist ")])),_:1})]),_:1},8,["href"])):(a(),v(r(B),{key:0},{content:s(()=>t[5]||(t[5]=[d(" Free trial allows maximum 3 setlists. Please subscribe to add more. ")])),default:s(()=>[n(r(f),{variant:"primary",class:"w-full sm:w-auto",disabled:""},{default:s(()=>t[4]||(t[4]=[e("svg",{class:"-ml-0.5 mr-1.5 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),d(" Create New Setlist ")])),_:1})]),_:1}))],64)):k("",!0)])])]),default:s(()=>{var c;return[n(r(S),null,{default:s(()=>[e("div",Y,[l.setlists.length===0?(a(),u("div",E,[t[10]||(t[10]=e("svg",{class:"mx-auto h-12 w-12 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})],-1)),t[11]||(t[11]=e("h3",{class:"mt-2 text-sm font-medium text-neutral-900"},"No setlists",-1)),t[12]||(t[12]=e("p",{class:"mt-1 text-sm text-neutral-500"},"Get started by creating your first setlist.",-1)),e("div",G,[l.isAdmin?(a(),u(w,{key:0},[y.value?(a(),v(r(m),{key:1,href:o.route("setlists.create",l.band.id)},{default:s(()=>[n(r(f),{variant:"primary"},{default:s(()=>t[9]||(t[9]=[d(" Create Your First Setlist ")])),_:1})]),_:1},8,["href"])):(a(),v(r(B),{key:0},{content:s(()=>t[8]||(t[8]=[d(" Free trial allows maximum 3 setlists. Please subscribe to add more. ")])),default:s(()=>[n(r(f),{variant:"primary",disabled:""},{default:s(()=>t[7]||(t[7]=[d(" Create Your First Setlist ")])),_:1})]),_:1}))],64)):k("",!0)])])):(a(),u("div",I,[(a(!0),u(w,null,z(l.setlists,i=>(a(),v(r(S),{key:i.id,class:"hover:shadow-lg transition-shadow duration-200"},{default:s(()=>{var g;return[e("div",O,[e("div",J,[e("div",K,[n(r(m),{href:o.route("setlists.show",[l.band.id,i.id]),class:"block text-lg font-semibold text-neutral-900 hover:text-primary-600"},{default:s(()=>[d(x(i.name),1)]),_:2},1032,["href"]),i.description?(a(),u("p",Q,x(i.description),1)):k("",!0)]),l.isAdmin?(a(),u("div",R,[n(r(m),{href:o.route("setlists.edit",[l.band.id,i.id]),class:"text-neutral-400 hover:text-neutral-500"},{default:s(()=>t[13]||(t[13]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1)])),_:2},1032,["href"]),e("button",{onClick:st=>V(i),class:"text-danger-400 hover:text-danger-500"},t[14]||(t[14]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,U)])):k("",!0)]),e("div",X,[e("div",Z,[e("div",tt,[t[15]||(t[15]=e("svg",{class:"mr-1.5 h-4 w-4 flex-shrink-0 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})],-1)),d(" "+x(((g=i.items)==null?void 0:g.length)||0)+" songs ",1)]),e("div",et,[t[16]||(t[16]=e("svg",{class:"mr-1.5 h-4 w-4 flex-shrink-0 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),d(" "+x(D(i.total_duration)),1)])]),e("div",null,[n(r(m),{href:o.route("setlists.show",[l.band.id,i.id]),class:"text-primary-600 hover:text-primary-700"},{default:s(()=>[n(r(f),{variant:"outline",size:"sm"},{default:s(()=>t[17]||(t[17]=[d(" View ")])),_:1})]),_:2},1032,["href"])])])])]}),_:2},1024))),128))]))])]),_:1}),n(r(L),{ref_key:"deleteModal",ref:b,title:`Delete ${((c=h.value)==null?void 0:c.name)||"Setlist"}`,message:"Are you sure you want to delete this setlist? This action cannot be undone.",type:"error","confirm-text":"Delete","show-cancel":!0,onConfirm:A},null,8,["title"])]}),_:1})],64))}};export{ct as default};
