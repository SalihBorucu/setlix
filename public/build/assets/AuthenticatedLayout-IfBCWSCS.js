import{x as C,p as f,c as l,h as m,o as a,b as e,e as S,t as u,w as d,a as p,u as s,f as w,P as g,r as B,H as T,T as j,j as N,W as D,E as I,F as y,k as M,n as k,i as V,z as P,l as z,D as E}from"./app-BGeLth5s.js";import{_ as F}from"./DSTooltip.vue_vue_type_style_index_0_lang-DwNk_lrM.js";import{_ as H}from"./Alert-Be2L7Mas.js";const A={key:0,class:"bg-blue-50 border-b border-blue-200"},O={class:"max-w-7xl mx-auto p-3"},R={class:"flex items-center justify-between"},W={class:"flex items-center space-x-2"},U={key:0,class:"text-sm text-blue-700"},Y={key:1,class:"text-sm text-red-700"},q={key:0,class:"text-sm text-red-600"},G={__name:"TrialStatusBanner",setup(L){const r=C(),o=f(()=>r.props.trial||{}),v=f(()=>{var n;return((n=o.value)==null?void 0:n.isSubscribed)??!1}),_=f(()=>{var n;return((n=o.value)==null?void 0:n.remainingDays)??0}),x=f(()=>{var n;return((n=o.value)==null?void 0:n.limitReached)??!1}),$=f(()=>{var n;return((n=o.value)==null?void 0:n.limitMessage)??""}),c=f(()=>{var n;return(n=o.value)==null?void 0:n.bandId}),h=f(()=>{const n=route().current("subscription.checkout");return o.value&&!v.value&&!n&&c.value});return(n,i)=>h.value?(a(),l("div",A,[e("div",O,[e("div",R,[e("div",W,[_.value>0?(a(),l("span",U,u(_.value)+" days remaining in your free trial ",1)):(a(),l("span",Y," Trial expired "))]),x.value?(a(),l("div",q,u($.value),1)):m("",!0),!v.value&&c.value?(a(),S(s(g),{key:1,href:n.route("subscription.checkout",c.value)},{default:d(()=>[p(s(F),{variant:"primary",size:"sm"},{default:d(()=>i[0]||(i[0]=[w(" Subscribe Now ")])),_:1})]),_:1},8,["href"])):m("",!0)])])])):m("",!0)}},J={key:0,class:"fixed sm:top-4 sm:right-4 z-50 max-w-sm px-4"},K={class:"flex items-center gap-3"},Q={key:0,class:"flex-shrink-0"},X={key:1,class:"flex-shrink-0"},Z={key:2,class:"flex-shrink-0"},ee={class:"flex-1 text-sm font-medium"},te={__name:"FlashMessage",setup(L){const r=C(),o=B(!1);let v=null;const _=f(()=>(o.value=!!(r.props.flash.success||r.props.flash.error||r.props.flash.info||r.props.flash.message),r.props.flash.success||r.props.flash.error||r.props.flash.info||r.props.flash.message)),x=f(()=>r.props.flash.success?"success":r.props.flash.error?"error":(r.props.flash.info,"info")),$=f(()=>!!_.value);return T(()=>{v&&(clearTimeout(v),v=null),$.value?(o.value=!0,v=setTimeout(()=>{o.value=!1},7e3)):o.value=!1}),(c,h)=>o.value?(a(),l("div",J,[p(j,{"enter-active-class":"transform ease-out duration-300 transition","enter-from-class":"translate-y-2 opacity-0 scale-95","enter-to-class":"translate-y-0 opacity-100 scale-100","leave-active-class":"transform ease-in duration-200 transition","leave-from-class":"translate-y-0 opacity-100 scale-100","leave-to-class":"translate-y-2 opacity-0 scale-95"},{default:d(()=>[p(s(H),{type:x.value,class:"shadow-xl rounded-lg border bg-white p-4"},{default:d(()=>[e("div",K,[x.value==="success"?(a(),l("div",Q,h[0]||(h[0]=[e("svg",{class:"h-5 w-5 text-green-700",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)]))):m("",!0),x.value==="error"?(a(),l("div",X,h[1]||(h[1]=[e("svg",{class:"h-5 w-5 text-red-700",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)]))):m("",!0),x.value==="info"?(a(),l("div",Z,h[2]||(h[2]=[e("svg",{class:"h-5 w-5 text-blue-700",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})],-1)]))):m("",!0),e("div",ee,u(_.value),1)])]),_:1},8,["type"])]),_:1})])):m("",!0)}},se={class:"min-h-screen bg-neutral-50 test"},re={class:"bg-white border-b border-neutral-200"},ae={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},oe={class:"flex justify-between h-16"},ne={class:"flex"},le={class:"flex-shrink-0 flex items-center"},ie={class:"hidden space-x-8 sm:ml-10 sm:flex"},ue={class:"hidden sm:ml-6 sm:flex sm:items-center space-x-4"},ce={class:"relative"},de=["src","alt"],he={class:"absolute right-0 mt-2 w-48 rounded-lg shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 z-10",role:"menu"},fe={class:"px-4 py-2 border-b border-neutral-200"},pe={class:"text-sm font-medium text-neutral-900"},me={class:"text-xs text-neutral-500 truncate"},ve={class:"py-1"},xe=["onClick"],_e={class:"-mr-2 flex items-center sm:hidden"},be={class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},ye={class:"pt-2 pb-3 space-y-1"},ge={class:"pt-4 pb-1 border-t border-neutral-200"},ke={class:"flex items-center px-4"},we={class:"flex-shrink-0"},$e=["src","alt"],Me={class:"ml-3"},Se={class:"text-base font-medium text-neutral-800"},Ce={class:"text-sm font-medium text-neutral-500"},Le={class:"mt-3 space-y-1"},ze=["onClick"],Be={class:"py-10"},Te={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},je={key:0,class:"mb-8"},Ne={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},De={class:"px-4 sm:px-6 lg:px-8"},Ee={__name:"AuthenticatedLayout",setup(L){const r=B(!1),{auth:o}=C().props,v=async()=>{try{await E.post(route("logout")),window.location.href="/"}catch(i){console.error("Logout failed:",i)}},_=[{name:"Dashboard",href:route("dashboard"),icon:"HomeIcon"}],x=[{name:"Songs",href:i=>route("songs.index",{band:i}),icon:"MusicNoteIcon"},{name:"Setlists",href:i=>route("setlists.index",{band:i}),icon:"ListBulletIcon"}],$=[{name:"Your Profile",href:route("profile.edit")},{name:"Subscriptions",href:route("subscription.index")},{name:"Sign out",action:v}],c=route().params.band,h=()=>{window.scrollTo({top:0,behavior:"smooth"})};let n;return N(()=>{n=D.on("error",i=>{Object.keys(i).length>0&&h()})}),I(()=>{n&&n()}),(i,b)=>(a(),l("div",se,[p(s(te)),e("nav",re,[e("div",ae,[e("div",oe,[e("div",ne,[e("div",le,[p(s(g),{href:i.route("dashboard"),class:"flex"},{default:d(()=>b[2]||(b[2]=[e("img",{class:"h-12 w-auto",src:"/images/text_logo.svg",alt:"AI Setlist"},null,-1)])),_:1},8,["href"])]),e("div",ie,[(a(),l(y,null,M(_,t=>p(s(g),{key:t.name,href:t.href,class:k([i.route().current(t.href)?"border-primary-500 text-neutral-900":"border-transparent text-neutral-500 hover:border-neutral-300 hover:text-neutral-700","inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors duration-200"])},{default:d(()=>[w(u(t.name),1)]),_:2},1032,["href","class"])),64)),s(c)?(a(),l(y,{key:0},M(x,t=>p(s(g),{key:t.name,href:t.href(s(c)),class:k([i.route().current(t.href(s(c)))?"border-primary-500 text-neutral-900":"border-transparent text-neutral-500 hover:border-neutral-300 hover:text-neutral-700","inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors duration-200"])},{default:d(()=>[w(u(t.name),1)]),_:2},1032,["href","class"])),64)):m("",!0)])]),e("div",ue,[e("div",ce,[e("button",{onClick:b[0]||(b[0]=t=>r.value=!r.value),class:"flex text-sm border-2 border-transparent rounded-full focus:outline-none focus:border-neutral-300 transition duration-200"},[b[3]||(b[3]=e("span",{class:"sr-only"},"Open user menu",-1)),e("img",{class:"h-8 w-8 rounded-full object-cover",src:s(o).user.avatar||"https://ui-avatars.com/api/?name="+s(o).user.name,alt:s(o).user.name},null,8,de)]),V(e("div",he,[e("div",fe,[e("p",pe,u(s(o).user.name),1),e("p",me,u(s(o).user.email),1)]),e("div",ve,[(a(),l(y,null,M($,t=>(a(),l(y,{key:t.name},[t.action?(a(),l("button",{key:0,onClick:t.action,class:"block w-full text-left px-4 py-2 text-sm text-neutral-700 hover:bg-neutral-50",role:"menuitem"},u(t.name),9,xe)):(a(),S(s(g),{key:1,href:t.href,class:"block w-full text-left px-4 py-2 text-sm text-neutral-700 hover:bg-neutral-50",role:"menuitem"},{default:d(()=>[w(u(t.name),1)]),_:2},1032,["href"]))],64))),64))])],512),[[P,r.value]])])]),e("div",_e,[e("button",{onClick:b[1]||(b[1]=t=>r.value=!r.value),class:"inline-flex items-center justify-center p-2 rounded-lg text-neutral-400 hover:text-neutral-500 hover:bg-neutral-100 focus:outline-none focus:bg-neutral-100 focus:text-neutral-500 transition duration-200"},[(a(),l("svg",be,[e("path",{class:k({hidden:r.value,"inline-flex":!r.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,2),e("path",{class:k({hidden:!r.value,"inline-flex":r.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,2)]))])])])]),e("div",{class:k([{block:r.value,hidden:!r.value},"sm:hidden"])},[e("div",ye,[(a(),l(y,null,M(_,t=>p(s(g),{key:t.name,href:t.href,class:k([i.route().current(t.href)?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-neutral-600 hover:bg-neutral-50 hover:border-neutral-300 hover:text-neutral-800","block pl-3 pr-4 py-2 border-l-4 text-base font-medium transition-colors duration-200"])},{default:d(()=>[w(u(t.name),1)]),_:2},1032,["href","class"])),64)),s(c)?(a(),l(y,{key:0},M(x,t=>p(s(g),{key:t.name,href:t.href(s(c)),class:k([i.route().current(t.href(s(c)))?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-neutral-600 hover:bg-neutral-50 hover:border-neutral-300 hover:text-neutral-800","block pl-3 pr-4 py-2 border-l-4 text-base font-medium transition-colors duration-200"])},{default:d(()=>[w(u(t.name),1)]),_:2},1032,["href","class"])),64)):m("",!0)]),e("div",ge,[e("div",ke,[e("div",we,[e("img",{class:"h-10 w-10 rounded-full object-cover",src:s(o).user.avatar||"https://ui-avatars.com/api/?name="+s(o).user.name,alt:s(o).user.name},null,8,$e)]),e("div",Me,[e("div",Se,u(s(o).user.name),1),e("div",Ce,u(s(o).user.email),1)])]),e("div",Le,[(a(),l(y,null,M($,t=>(a(),l(y,{key:t.name},[t.action?(a(),l("button",{key:0,onClick:t.action,class:"block w-full text-left px-4 py-2 text-base font-medium text-neutral-500 hover:text-neutral-800 hover:bg-neutral-100"},u(t.name),9,ze)):(a(),S(s(g),{key:1,href:t.href,class:"block w-full text-left px-4 py-2 text-base font-medium text-neutral-500 hover:text-neutral-800 hover:bg-neutral-100"},{default:d(()=>[w(u(t.name),1)]),_:2},1032,["href"]))],64))),64))])])],2)]),p(G,{"band-id":s(c)},null,8,["band-id"]),e("main",Be,[e("div",Te,[i.$slots.header?(a(),l("header",je,[e("div",Ne,[z(i.$slots,"header")])])):m("",!0),e("div",De,[z(i.$slots,"default")])])])]))}};export{Ee as _};
