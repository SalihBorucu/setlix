import{r as _,x as M,p as w,c as m,o,a,u as l,m as L,w as n,b as e,h as f,t as c,e as b,P as v,f as r,F as h,j as N,W as B}from"./app-DUZOKMQo.js";import{_ as $}from"./AuthenticatedLayout-DJtxYX4s.js";import{_ as u}from"./DSTooltip.vue_vue_type_style_index_0_lang-j5q9rdNZ.js";import{_ as k}from"./Card-DOa1_8fi.js";import{_ as z}from"./DSTooltip-BcJyMxwE.js";import{_ as j}from"./ConfirmModal-BB0kY1gI.js";import"./app-DDkZEAQt.js";import"./Modal-ByvK4H71.js";import"./transition-DbxInGEU.js";const D={class:"md:flex md:items-center md:justify-between"},U={class:"min-w-0 flex-1"},H={class:"text-2xl font-bold leading-7 text-neutral-900 sm:truncate sm:text-3xl sm:tracking-tight"},q={class:"mt-1 text-sm text-neutral-500"},F={class:"mt-4 flex md:ml-4 md:mt-0 space-x-3"},P={class:"grid gap-6 md:grid-cols-2"},R={class:"p-6"},E={class:"space-y-4"},T={key:0,class:"aspect-video w-full overflow-hidden rounded-lg"},W=["src","alt"],I={class:"text-neutral-600"},O={class:"p-6"},Q={class:"flex items-center justify-between mb-4"},Y={class:"divide-y divide-neutral-200"},G={class:"flex items-center"},J=["src","alt"],K={class:"ml-3"},X={class:"text-sm font-medium text-neutral-900"},Z={class:"text-xs text-neutral-500"},ee={key:0,class:"inline-flex items-center rounded-full bg-primary-50 px-2 py-1 text-xs font-medium text-primary-700"},te={class:"p-6"},se={class:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4"},ne={class:"relative group"},le={class:"h-full rounded-lg border border-neutral-200 p-6"},ae={class:"flex items-center justify-between"},ie={class:"text-2xl font-semibold text-neutral-900"},de={class:"mt-4 flex justify-between items-center"},oe={class:"relative group"},re={class:"h-full rounded-lg border border-neutral-200 p-6"},ue={class:"flex items-center justify-between"},me={class:"text-2xl font-semibold text-neutral-900"},fe={class:"mt-4 flex justify-between items-center"},pe={__name:"Show",props:{band:{type:Object,required:!0},isAdmin:{type:Boolean,required:!0},currentUserRole:{type:String,required:!0}},setup(s){const x=s,g=_(!1),y=_(!1),A=M(),p=w(()=>A.props.trial||{});w(()=>{var d;return(d=p.value)!=null&&d.isSubscribed?!0:(x.band.songs_count||0)<10});const V=w(()=>{var d;return(d=p.value)!=null&&d.isSubscribed?!0:(x.band.setlists_count||0)<3}),C=()=>{B.delete(route("bands.destroy",x.band.id))},S=()=>{B.delete(route("bands.leave",x.band.id))};return(d,t)=>(o(),m(h,null,[a(l(L),{title:s.band.name},null,8,["title"]),a($,null,{header:n(()=>[e("div",D,[e("div",U,[e("h2",H,c(s.band.name),1),e("p",q,c(s.band.members_count)+" members ",1)]),e("div",F,[!s.isAdmin&&s.currentUserRole==="member"?(o(),b(l(u),{key:0,variant:"danger",onClick:t[0]||(t[0]=i=>y.value=!0)},{default:n(()=>t[4]||(t[4]=[e("svg",{class:"-ml-0.5 mr-1.5 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),r(" Leave Band ")])),_:1})):f("",!0),s.isAdmin?(o(),m(h,{key:1},[a(l(v),{href:d.route("bands.edit",s.band.id)},{default:n(()=>[a(l(u),{variant:"secondary"},{default:n(()=>t[5]||(t[5]=[e("svg",{class:"-ml-0.5 mr-1.5 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1),r(" Edit Band ")])),_:1})]),_:1},8,["href"]),a(l(u),{variant:"danger",onClick:t[1]||(t[1]=i=>g.value=!0)},{default:n(()=>t[6]||(t[6]=[e("svg",{class:"-ml-0.5 mr-1.5 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),r(" Delete Band ")])),_:1})],64)):f("",!0)])])]),default:n(()=>[e("div",P,[a(l(k),null,{default:n(()=>[e("div",R,[t[7]||(t[7]=e("div",{class:"flex items-center justify-between mb-4"},[e("h3",{class:"text-lg font-semibold text-neutral-900"},"About")],-1)),e("div",E,[s.band.cover_image?(o(),m("div",T,[e("img",{src:s.band.cover_image,alt:s.band.name,class:"h-full w-full object-cover"},null,8,W)])):f("",!0),e("p",I,c(s.band.description||"No description provided."),1)])])]),_:1}),a(l(k),null,{default:n(()=>[e("div",O,[e("div",Q,[t[9]||(t[9]=e("h3",{class:"text-lg font-semibold text-neutral-900"},"Members",-1)),s.isAdmin?(o(),b(l(v),{key:0,href:d.route("bands.members.index",s.band.id)},{default:n(()=>[a(l(u),{variant:"secondary",size:"sm"},{default:n(()=>t[8]||(t[8]=[r(" Manage Members ")])),_:1})]),_:1},8,["href"])):f("",!0)]),e("div",Y,[(o(!0),m(h,null,N(s.band.members,i=>(o(),m("div",{key:i.id,class:"flex items-center justify-between py-3"},[e("div",G,[e("img",{src:i.avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(i.name)}`,alt:i.name,class:"h-8 w-8 rounded-full"},null,8,J),e("div",K,[e("p",X,c(i.name),1),e("p",Z,c(i.email),1)])]),i.pivot.role==="admin"?(o(),m("span",ee," Admin ")):f("",!0)]))),128))])])]),_:1}),a(l(k),{class:"md:col-span-2"},{default:n(()=>[e("div",te,[t[18]||(t[18]=e("div",{class:"flex items-center justify-between mb-4"},[e("h3",{class:"text-lg font-semibold text-neutral-900"},"Quick Actions")],-1)),e("div",se,[e("div",ne,[e("div",le,[e("div",ae,[t[10]||(t[10]=e("h4",{class:"text-base font-medium text-neutral-900"},"Songs",-1)),e("span",ie,c(s.band.songs_count||0),1)]),e("div",de,[a(l(v),{href:d.route("songs.index",{band:s.band.id})},{default:n(()=>[a(l(u),{variant:"outline",size:"sm"},{default:n(()=>t[11]||(t[11]=[r(" View All ")])),_:1})]),_:1},8,["href"]),s.isAdmin?(o(),b(l(v),{key:0,href:d.route("songs.create",{band:s.band.id})},{default:n(()=>[a(l(u),{variant:"primary",size:"sm"},{default:n(()=>t[12]||(t[12]=[r(" Add New Song ")])),_:1})]),_:1},8,["href"])):f("",!0)])])]),e("div",oe,[e("div",re,[e("div",ue,[t[13]||(t[13]=e("h4",{class:"text-base font-medium text-neutral-900"},"Setlists",-1)),e("span",me,c(s.band.setlists_count||0),1)]),e("div",fe,[a(l(v),{href:d.route("setlists.index",{band:s.band.id})},{default:n(()=>[a(l(u),{variant:"outline",size:"sm"},{default:n(()=>t[14]||(t[14]=[r(" View All ")])),_:1})]),_:1},8,["href"]),s.isAdmin?(o(),m(h,{key:0},[V.value?(o(),b(l(v),{key:1,href:d.route("setlists.create",{band:s.band.id})},{default:n(()=>[a(l(u),{variant:"primary",size:"sm"},{default:n(()=>t[17]||(t[17]=[r(" Create New Setlist ")])),_:1})]),_:1},8,["href"])):(o(),b(l(z),{key:0},{content:n(()=>t[16]||(t[16]=[r(" Free trial allows maximum 3 setlists. Please subscribe to add more. ")])),default:n(()=>[a(l(u),{variant:"primary",size:"sm",disabled:""},{default:n(()=>t[15]||(t[15]=[r(" Create New Setlist ")])),_:1})]),_:1}))],64)):f("",!0)])])])])])]),_:1})]),a(j,{modelValue:g.value,"onUpdate:modelValue":t[2]||(t[2]=i=>g.value=i),title:"Delete Band",description:"Are you sure you want to delete this band? This action cannot be undone and all associated data will be permanently deleted.","confirm-text":"Delete Band",onConfirm:C},null,8,["modelValue"]),a(j,{modelValue:y.value,"onUpdate:modelValue":t[3]||(t[3]=i=>y.value=i),title:"Leave Band",description:"Are you sure you want to leave this band? You will lose access to all band content and will need to be invited back to rejoin.","confirm-text":"Leave Band",onConfirm:S},null,8,["modelValue"])]),_:1})],64))}};export{pe as default};
