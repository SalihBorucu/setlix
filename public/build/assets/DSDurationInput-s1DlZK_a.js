import{r as s,p as q,s as p,H as F,c,o as f,h as I,b as d,t as K,i as x,F as M,q as k,n as V}from"./app-DKsx-kyo.js";const O={key:0,class:"block text-sm font-medium text-neutral-700 text-left"},T={class:"mt-1 flex items-center space-x-2"},z={key:1,class:"mt-2 text-sm text-red-600"},j={__name:"DSDurationInput",props:{modelValue:{type:[String,Number],default:""},label:{type:String,default:null},error:{type:String,default:""},required:{type:Boolean,default:!1},includeHours:{type:Boolean,default:!1}},emits:["update:modelValue","update:seconds"],setup(n,{emit:N}){const l=n,w=N,a=s(""),u=s(""),o=s(""),B=s(null),v=s(null),S=s(null);let y=!1;const i=r=>String(r||"").padStart(2,"0");q(()=>!l.required&&l.label&&l.label.includes("(Optional)")),q(()=>l.label?l.label.replace("(Optional)","").trim():""),p(()=>l.modelValue,r=>{if(y)return;const e=(r||"0:0").split(":").map(t=>t||"0");l.includeHours?(a.value=e[0]||"",u.value=e[1]||"",o.value=e[2]||""):(a.value="",u.value=e[0]||"",o.value=e[1]||"")},{immediate:!0}),p([a,u,o],([r,e,t])=>{const C=parseInt(r,10)||0,D=parseInt(e,10)||0,U=parseInt(t,10)||0;let m="",g=0;l.includeHours?(m=`${i(r)}:${i(e)}:${i(t)}`,g=C*3600+D*60+U):(m=`${i(e)}:${i(t)}`,g=D*60+U),m!==l.modelValue&&(y=!0,w("update:modelValue",m),w("update:seconds",g),F(()=>{y=!1}))},{deep:!0}),p(u,r=>{parseInt(r,10)>59&&(u.value="59")}),p(o,r=>{parseInt(r,10)>59&&(o.value="59")});const $=(r,e)=>{r.value.length===2&&(e!=null&&e.value)&&(e.value.focus(),e.value.select())},H=(r,e)=>{r.key==="Backspace"&&r.target.value===""&&(e!=null&&e.value)&&e.value.focus()},b=r=>{r.value&&(r.value=r.value.padStart(2,"0"))};return(r,e)=>(f(),c("div",null,[n.label?(f(),c("label",O,K(n.label),1)):I("",!0),d("div",T,[l.includeHours?(f(),c(M,{key:0},[x(d("input",{ref_key:"hourInputRef",ref:B,"onUpdate:modelValue":e[0]||(e[0]=t=>a.value=t),type:"text",inputmode:"numeric",maxlength:"2",placeholder:"hh",class:V(["w-12 rounded-lg border-neutral-300 shadow-sm transition-colors duration-200","focus:border-primary-500 focus:ring-primary-500",{"border-error-500 focus:border-error-500 focus:ring-error-500":n.error}]),onInput:e[1]||(e[1]=t=>$(a.value,v.value)),onBlur:e[2]||(e[2]=t=>b(a.value))},null,34),[[k,a.value]]),e[10]||(e[10]=d("span",{class:"text-gray-500 -ml-1"},":",-1))],64)):I("",!0),x(d("input",{ref_key:"minuteInputRef",ref:v,"onUpdate:modelValue":e[3]||(e[3]=t=>u.value=t),type:"text",inputmode:"numeric",maxlength:"2",placeholder:"mm",class:V(["w-12 rounded-lg border-neutral-300 shadow-sm transition-colors duration-200","focus:border-primary-500 focus:ring-primary-500",{"border-error-500 focus:border-error-500 focus:ring-error-500":n.error}]),onInput:e[4]||(e[4]=t=>$(u.value,S.value)),onKeydown:e[5]||(e[5]=t=>H(t,B.value)),onBlur:e[6]||(e[6]=t=>b(u.value))},null,34),[[k,u.value]]),e[11]||(e[11]=d("span",{class:"text-gray-500 -ml-1"},":",-1)),x(d("input",{ref_key:"secondInputRef",ref:S,"onUpdate:modelValue":e[7]||(e[7]=t=>o.value=t),type:"text",inputmode:"numeric",maxlength:"2",placeholder:"ss",class:V(["w-12 rounded-lg border-neutral-300 shadow-sm transition-colors duration-200","focus:border-primary-500 focus:ring-primary-500",{"border-error-500 focus:border-error-500 focus:ring-error-500":n.error}]),onKeydown:e[8]||(e[8]=t=>H(t,v.value)),onBlur:e[9]||(e[9]=t=>b(o.value))},null,34),[[k,o.value]])]),n.error?(f(),c("p",z,K(n.error),1)):I("",!0)]))}};export{j as _};
