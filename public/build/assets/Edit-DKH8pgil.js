import{C as x,r as v,c,o as g,a as l,u as t,m as y,w as m,b as o,d as V,i as h,n as w,q as S,h as k,t as b,P as _,f as C,F as $}from"./app-DFfD3WuN.js";import{_ as O}from"./AuthenticatedLayout-CMMt-qoh.js";import{_ as U,a as D}from"./InputLabel-Dy9MJTPW.js";import{_ as d}from"./Input-BuI_AYqc.js";const M={class:"flex justify-between items-center"},N={class:"text-sm text-gray-600"},q={class:"py-12"},E={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},j={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},B={class:"p-6"},P={class:"grid grid-cols-2 gap-4"},T={class:"mt-1"},A={key:0,class:"mt-2 text-sm text-gray-600"},F={class:"flex items-center justify-end gap-4"},I=["disabled"],J={__name:"Edit",props:{band:{type:Object,required:!0},song:{type:Object,required:!0}},setup(a){const n=a,s=x({band_id:n.band.id,name:n.song.name,artist:n.song.artist,bpm:n.song.bpm,duration_seconds:n.song.duration_seconds,notes:n.song.notes,url:n.song.url,document:null}),p=v((i=>{const e=Math.floor(i/60),u=i%60;return`${e}:${u.toString().padStart(2,"0")}`})(n.song.duration_seconds)),f=()=>{s.patch(route("songs.update",[n.band.id,n.song.id]),{preserveScroll:!0,onSuccess:()=>{s.reset()}})};return(i,e)=>(g(),c($,null,[l(t(y),{title:`Edit ${a.song.name} - ${a.band.name}`},null,8,["title"]),l(O,null,{header:m(()=>[o("div",M,[o("div",null,[e[7]||(e[7]=o("h2",{class:"text-xl font-semibold leading-tight text-gray-800"}," Edit Song ",-1)),o("p",N,b(a.band.name),1)])])]),default:m(()=>{var u;return[o("div",q,[o("div",E,[o("div",j,[o("div",B,[o("form",{onSubmit:V(f,["prevent"]),class:"space-y-6"},[o("div",P,[o("div",null,[l(t(d),{modelValue:t(s).name,"onUpdate:modelValue":e[0]||(e[0]=r=>t(s).name=r),type:"text",label:"Song Name",error:t(s).errors.name,required:""},null,8,["modelValue","error"])]),o("div",null,[l(t(d),{modelValue:t(s).artist,"onUpdate:modelValue":e[1]||(e[1]=r=>t(s).artist=r),type:"text",label:"Artist (Optional)",error:t(s).errors.artist,placeholder:""},null,8,["modelValue","error"])]),o("div",null,[l(t(d),{modelValue:p.value,"onUpdate:modelValue":e[2]||(e[2]=r=>p.value=r),type:"text",label:"Duration (MM:SS)",error:t(s).errors.duration_seconds,required:"",pattern:"[0-9]{1,2}:[0-9]{2}",placeholder:"03:30"},null,8,["modelValue","error"])]),o("div",null,[l(t(d),{modelValue:t(s).bpm,"onUpdate:modelValue":e[3]||(e[3]=r=>t(s).bpm=r),type:"number",label:"BPM (Optional)",error:t(s).errors.bpm},null,8,["modelValue","error"])])]),o("div",null,[e[8]||(e[8]=o("label",{class:"block text-sm font-medium text-neutral-700"}," Notes (Optional) ",-1)),o("div",T,[h(o("textarea",{"onUpdate:modelValue":e[4]||(e[4]=r=>t(s).notes=r),rows:"4",class:w(["block w-full rounded-lg shadow-sm transition-colors duration-200","border-neutral-300 focus:border-primary-500 focus:ring-primary-500",{"border-error-500 focus:border-error-500 focus:ring-error-500":t(s).errors.notes}])},null,2),[[S,t(s).notes]])]),e[9]||(e[9]=o("p",{class:"mt-1 text-sm text-neutral-500"}," Add any notes about the song, such as key changes or special instructions ",-1))]),o("div",null,[l(t(d),{modelValue:t(s).url,"onUpdate:modelValue":e[5]||(e[5]=r=>t(s).url=r),type:"url",label:"External Link (Optional)",error:t(s).errors.url,placeholder:"https://"},null,8,["modelValue","error"]),e[10]||(e[10]=o("p",{class:"mt-1 text-sm text-neutral-500"}," Link to an external resource (YouTube, Spotify, etc.) ",-1))]),o("div",null,[l(U,{for:"document",value:"Document (Optional)"}),o("input",{id:"document",type:"file",onInput:e[6]||(e[6]=r=>t(s).document=r.target.files[0]),class:"mt-1 block w-full",accept:".pdf,.txt"},null,32),a.song.document_path?(g(),c("p",A," Current document: "+b((u=a.song.document_type)==null?void 0:u.toUpperCase()),1)):k("",!0),l(D,{message:t(s).errors.document,class:"mt-2"},null,8,["message"])]),o("div",F,[l(t(_),{href:i.route("songs.show",[a.band.id,a.song.id]),class:"text-gray-600 hover:text-gray-900"},{default:m(()=>e[11]||(e[11]=[C(" Cancel ")])),_:1},8,["href"]),o("button",{type:"submit",class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition",disabled:t(s).processing}," Save Changes ",8,I)])],32)])])])])]}),_:1})],64))}};export{J as default};
