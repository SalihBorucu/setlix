import{_ as S}from"./Input-D5SD_WRa.js";import"./DSTooltip.vue_vue_type_style_index_0_lang-BgXU3FQj.js";import{r as h,y as g,e as k,o as C,u as V}from"./app-B_oeY6Ce.js";const K={__name:"DSDurationInput",props:{modelValue:{type:[String,Number],required:!0,default:""},label:{type:String,default:null},error:{type:String,default:""},required:{type:Boolean,default:!1},placeholder:{type:String,default:"00:00"}},emits:["update:modelValue","update:seconds"],setup(l,{emit:u}){const n=l,o=u,r=h(""),s=e=>{if(!e)return"";const a=Math.floor(e/60),t=e%60;return`${a.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`},i=e=>{const[a,t]=e.split(":").map(Number);return a*60+t};g(()=>n.modelValue,e=>{typeof e=="number"?r.value=s(e):r.value=e},{immediate:!0});const c=e=>{if(!e){r.value="",o("update:modelValue","");return}const a=e.replace(/[^0-9]/g,"").slice(-4);if(!a){r.value="",o("update:modelValue","");return}let t="";if(a.length>=3){const d=parseInt(a.slice(0,-2)),p=parseInt(a.slice(-2)),f=Math.min(d,59),y=Math.min(p,59);t=`${f.toString().padStart(2,"0")}:${y.toString().padStart(2,"0")}`}else t=a;if(r.value=t,t.includes(":")){const d=i(t);o("update:modelValue",t),o("update:seconds",d)}else o("update:modelValue",t)},m=e=>{[46,8,9,27,13].indexOf(e.keyCode)!==-1||e.keyCode===65&&(e.ctrlKey===!0||e.metaKey===!0)||e.keyCode>=35&&e.keyCode<=40||(e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&e.preventDefault()};return(e,a)=>(C(),k(V(S),{"model-value":r.value,"onUpdate:modelValue":c,onKeydown:m,type:"text",inputmode:"numeric",label:l.label,error:l.error,required:l.required,placeholder:l.placeholder,maxlength:"5"},null,8,["model-value","label","error","required","placeholder"]))}};export{K as _};
