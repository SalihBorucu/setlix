import{c as l,o as n,a as h,w as u,b as t,u as c,f as x,t as i,F as g,j,n as D,h as m,e as y,P as C,G as z,r as E,m as P,W as L}from"./app--ZpzzJ7l.js";import{_ as H}from"./AuthenticatedLayout-OUWLQRSb.js";import{_ as w}from"./DSTooltip.vue_vue_type_style_index_0_lang-BOOVAo6K.js";import{_ as V}from"./Card-vUG8GSk5.js";import{_ as A}from"./AlertModal-BlhdlyBh.js";import{v as $}from"./visitExternalLink-CSLW9nbJ.js";/* empty css            */import"./Alert-C6MwJ7WU.js";import"./Modal-y4qO_tr_.js";import"./transition-CQoAjWZu.js";const F={class:"space-y-6 flex justify-center"},U={class:"p-6"},q={class:"flex flex-wrap gap-2 mb-4"},I={class:"flex items-center justify-between mb-6"},N={class:"text-2xl font-bold text-white"},O={class:"mt-1 text-neutral-400"},R={class:"text-xl text-white"},T={class:"space-y-4"},W={class:"flex flex-col space-y-1.5"},G={class:"flex items-center justify-between"},J={class:"flex items-center space-x-2"},K={key:0,class:"flex items-center px-2 py-1 rounded-md bg-neutral-600 text-neutral-200"},Q={class:"text-base font-semibold text-white"},X={class:"text-sm text-neutral-500"},Y={key:0,class:"text-sm text-neutral-400 pl-4 -mt-1"},Z={key:1,class:"flex flex-wrap gap-1.5"},tt=["onClick"],et=["onClick"],st={__name:"PerformanceMode",props:{band:{type:Object,required:!0},setlist:{type:Object,required:!0}},emits:["exit"],setup(r,{emit:b}){const f=r,_=d=>{const a=Math.floor(d/3600),p=Math.floor(d%3600/60),s=d%60;return a>0?`${a}:${p.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`:`${p}:${s.toString().padStart(2,"0")}`},S=d=>{let a="https://www.google.com/search?q=";return a+=encodeURIComponent(d.name),d.artist&&(a+=" "+encodeURIComponent(d.artist)),a+="+lyrics",$(a,!0)},B=(d,a)=>{$(route("songs.files.download",[f.band.id,a.id,d.id]),!0,!0)},M=async()=>{try{const d=await z.get(route("setlists.export",[f.band.id,f.setlist.id]));d.data.success&&d.data.download_url&&$(d.data.download_url,!1,!0)}catch(d){console.error("Error exporting PDF:",d)}};return(d,a)=>(n(),l("div",F,[h(c(V),{"bg-color":"bg-gray-900 h-full lg:w-1/2 w-full"},{default:u(()=>{var p;return[t("div",U,[t("div",q,[h(c(w),{variant:"primary",onClick:a[0]||(a[0]=s=>d.$emit("exit")),class:"w-full sm:w-auto"},{default:u(()=>a[1]||(a[1]=[x(" Exit Performance Mode ")])),_:1}),h(c(w),{variant:"secondary",onClick:M,class:"w-full sm:w-auto"},{default:u(()=>a[2]||(a[2]=[t("svg",{class:"-ml-0.5 mr-1.5 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),x(" Export PDF ")])),_:1})]),t("div",I,[t("div",null,[t("h3",N,i(r.setlist.name),1),t("p",O,i(((p=r.setlist.items)==null?void 0:p.length)||0)+" items · "+i(_(r.setlist.total_duration)),1)]),t("div",R,i(_(r.setlist.total_duration)),1)]),t("div",T,[(n(!0),l(g,null,j(r.setlist.items,(s,e)=>(n(),l("div",{key:s.id,class:D(["rounded-lg border p-1",s.type==="break"?"border-neutral-600 bg-neutral-700/50":"border-neutral-700 bg-neutral-800/50"])},[t("div",W,[t("div",G,[t("div",J,[s.type==="break"?(n(),l("div",K,a[3]||(a[3]=[t("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)]))):m("",!0),t("span",Q,[s.type==="song"?(n(),l(g,{key:0},[x(i(r.setlist.items.filter(o=>o.type==="song"&&o.order<=s.order).length)+". ",1)],64)):m("",!0),x(" "+i(s.type==="break"?s.title:s.song.name),1)])]),t("span",X,i(_(s.duration_seconds)),1)]),s.notes?(n(),l("div",Y,i(s.notes),1)):m("",!0),s.type==="song"?(n(),l("div",Z,[s.song.url?(n(),y(c(C),{key:0,href:s.song.url,target:"_blank",class:"inline-flex items-center px-2 py-1 text-xs font-medium text-primary-400 hover:text-primary-300"},{default:u(()=>a[4]||(a[4]=[x(" → Url ")])),_:2},1032,["href"])):m("",!0),t("button",{onClick:o=>S(s.song),class:"inline-flex items-center px-2 py-1 text-xs font-medium text-primary-400 hover:text-primary-300"}," ○ Lyrics ",8,tt),(n(!0),l(g,null,j(s.song.files,o=>(n(),l("button",{key:o.id,onClick:k=>B(o,s.song),class:"inline-flex items-center px-2 py-1 text-xs font-medium text-primary-400 hover:text-primary-300"}," □ "+i(o.type.charAt(0).toUpperCase()+o.type.slice(1)),9,et))),128))])):m("",!0)])],2))),128))])])]}),_:1})]))}},ot={class:"md:flex md:items-center md:justify-between"},nt={key:0,class:"min-w-0 flex-1"},rt={class:"flex items-center"},lt={class:"mt-1 text-2xl font-bold leading-7 text-neutral-900 sm:truncate sm:text-3xl sm:tracking-tight test"},it={class:"mt-1 text-sm text-neutral-500"},at={class:"mt-4 flex flex-col space-y-3 sm:flex-row sm:space-y-0 sm:space-x-3 md:ml-4 md:mt-0"},dt={class:"-ml-0.5 mr-1.5 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ut={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},ct={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},mt={key:0,class:"grid gap-6 md:grid-cols-2"},ft={class:"p-6"},xt={class:"divide-y divide-neutral-200"},ht={class:"py-4"},vt={class:"mt-1 flex items-center text-sm text-neutral-900"},kt={class:"py-4"},pt={class:"mt-1 flex items-center text-sm text-neutral-900"},yt={class:"py-4"},wt={class:"mt-1 flex items-center text-sm text-neutral-900"},gt={class:"py-4"},bt={class:"mt-2 text-sm text-neutral-900 whitespace-pre-line"},_t={class:"p-6"},$t={class:"flex items-center justify-between mb-4"},Ct={class:"divide-y divide-neutral-200"},Mt={class:"flex items-start justify-between"},jt={class:"min-w-0 flex-1"},St={class:"flex items-center"},Bt={key:0,class:"text-sm font-medium text-neutral-900"},Dt={key:1,class:"flex items-center px-2 py-1 rounded-md bg-neutral-100 text-neutral-700 mx-2"},Vt={class:"ml-2 text-xs text-neutral-500"},Et={key:0,class:"mt-2 text-sm text-neutral-600"},zt={key:0,class:"ml-4 flex items-center space-x-2"},Pt=["onClick"],Lt=["onClick"],Gt={__name:"Show",props:{band:{type:Object,required:!0},setlist:{type:Object,required:!0},isAdmin:{type:Boolean,required:!0}},setup(r){const b=r,f=E(!1),_=E(null),S=()=>{_.value.open()},B=()=>{L.delete(route("setlists.destroy",[b.band.id,b.setlist.id]))},M=s=>{const e=Math.floor(s/3600),o=Math.floor(s%3600/60),k=s%60;return e>0?`${e}:${o.toString().padStart(2,"0")}:${k.toString().padStart(2,"0")}`:`${o}:${k.toString().padStart(2,"0")}`},d=s=>{let e="https://www.google.com/search?q=";return e+=encodeURIComponent(s.name),s.artist&&(e+=" "+encodeURIComponent(s.artist)),e+="+lyrics",$(e,!0)},a=(s,e)=>{$(route("songs.files.download",[b.band.id,e.id,s.id]),!0,!0)},p=async()=>{try{const s=await z.get(route("setlists.export",[b.band.id,b.setlist.id]));s.data.success&&s.data.download_url&&$(s.data.download_url,!1,!0)}catch(s){console.error("Error exporting PDF:",s)}};return(s,e)=>(n(),l(g,null,[h(c(P),{title:`${r.setlist.name} - ${r.band.name}`},null,8,["title"]),f.value?(n(),y(st,{key:0,band:r.band,setlist:r.setlist,onExit:e[0]||(e[0]=o=>f.value=!1)},null,8,["band","setlist"])):(n(),y(H,{key:1},{header:u(()=>{var o,k;return[t("div",ot,[f.value?m("",!0):(n(),l("div",nt,[t("div",rt,[h(c(C),{href:s.route("bands.show",r.band.id),class:"text-sm font-medium text-primary-600 hover:text-primary-700"},{default:u(()=>[x(i(r.band.name),1)]),_:1},8,["href"]),e[2]||(e[2]=t("svg",{class:"mx-2 h-5 w-5 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1))]),t("h2",lt,i(r.setlist.name),1),t("p",it,i(((o=r.setlist.items)==null?void 0:o.length)||0)+" items ("+i(((k=r.setlist.items)==null?void 0:k.filter(v=>v.type==="song").length)||0)+" songs) ",1)])),t("div",at,[h(c(w),{variant:"primary",onClick:e[1]||(e[1]=v=>f.value=!f.value),class:"w-full sm:w-auto"},{default:u(()=>[(n(),l("svg",dt,[f.value?(n(),l("path",ct)):(n(),l("path",ut))])),x(" "+i(f.value?"Exit Performance Mode":"Performance Mode"),1)]),_:1}),h(c(w),{variant:"secondary",class:"w-full sm:w-auto",onClick:p},{default:u(()=>e[3]||(e[3]=[t("svg",{class:"-ml-0.5 mr-1.5 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),x(" Export PDF ")])),_:1}),r.isAdmin?(n(),l(g,{key:0},[h(c(C),{href:s.route("setlists.edit",[r.band.id,r.setlist.id]),class:"w-full sm:w-auto"},{default:u(()=>[f.value?m("",!0):(n(),y(c(w),{key:0,variant:"secondary",class:"w-full sm:w-auto"},{default:u(()=>e[4]||(e[4]=[t("svg",{class:"-ml-0.5 mr-1.5 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})],-1),x(" Edit Setlist ")])),_:1}))]),_:1},8,["href"]),f.value?m("",!0):(n(),y(c(w),{key:0,variant:"danger",onClick:S,class:"w-full sm:w-auto"},{default:u(()=>e[5]||(e[5]=[t("svg",{class:"-ml-0.5 mr-1.5 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),x(" Delete Setlist ")])),_:1}))],64)):m("",!0)])])]}),default:u(()=>[f.value?m("",!0):(n(),l("div",mt,[h(c(V),null,{default:u(()=>{var o,k;return[t("div",ft,[e[13]||(e[13]=t("div",{class:"flex items-center justify-between mb-4"},[t("h3",{class:"text-lg font-semibold text-neutral-900"},"About")],-1)),t("dl",xt,[t("div",ht,[e[7]||(e[7]=t("dt",{class:"text-sm font-medium text-neutral-500"},"Total Duration",-1)),t("dd",vt,[e[6]||(e[6]=t("svg",{class:"mr-1.5 h-5 w-5 flex-shrink-0 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),x(" "+i(M(r.setlist.total_duration)),1)])]),t("div",kt,[e[9]||(e[9]=t("dt",{class:"text-sm font-medium text-neutral-500"},"Songs",-1)),t("dd",pt,[e[8]||(e[8]=t("svg",{class:"mr-1.5 h-5 w-5 flex-shrink-0 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})],-1)),x(" "+i(((o=r.setlist.items)==null?void 0:o.length)||0)+" items ("+i(((k=r.setlist.items)==null?void 0:k.filter(v=>v.type==="song").length)||0)+" songs) ",1)])]),t("div",yt,[e[11]||(e[11]=t("dt",{class:"text-sm font-medium text-neutral-500"},"Created",-1)),t("dd",wt,[e[10]||(e[10]=t("svg",{class:"mr-1.5 h-5 w-5 flex-shrink-0 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),x(" "+i(r.setlist.formatted_created_at),1)])]),t("div",gt,[e[12]||(e[12]=t("h4",{class:"text-sm font-medium text-neutral-500"},"Description",-1)),t("p",bt,i(r.setlist.description||"No description provided."),1)])])])]}),_:1}),h(c(V),null,{default:u(()=>[t("div",_t,[t("div",$t,[e[15]||(e[15]=t("h3",{class:"text-lg font-semibold text-neutral-900"},"Setlist Items",-1)),r.isAdmin?(n(),y(c(C),{key:0,href:s.route("setlists.edit",[r.band.id,r.setlist.id])},{default:u(()=>[h(c(w),{variant:"secondary",size:"sm"},{default:u(()=>e[14]||(e[14]=[x(" Edit Setlist ")])),_:1})]),_:1},8,["href"])):m("",!0)]),t("div",Ct,[(n(!0),l(g,null,j(r.setlist.items,(o,k)=>(n(),l("div",{key:o.id,class:D(["py-4",o.type==="break"?"bg-neutral-50 px-2 rounded":""])},[t("div",Mt,[t("div",jt,[t("div",St,[o.type==="song"?(n(),l("span",Bt,i(r.setlist.items.filter(v=>v.type==="song"&&v.order<=o.order).length)+". ",1)):m("",!0),o.type==="break"?(n(),l("div",Dt,e[16]||(e[16]=[t("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)]))):m("",!0),t("span",{class:D(["text-sm font-medium text-neutral-900",{"ml-2":o.type==="song"}])},i(o.type==="break"?o.title:o.song.name),3),t("span",Vt,i(M(o.duration_seconds)),1)]),o.notes?(n(),l("div",Et,i(o.notes),1)):m("",!0)]),o.type==="song"?(n(),l("div",zt,[o.song.url?(n(),y(c(C),{key:0,href:o.song.url,target:"_blank",class:"text-neutral-400 hover:text-neutral-500"},{default:u(()=>e[17]||(e[17]=[t("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})],-1)])),_:2},1032,["href"])):m("",!0),o.type==="song"?(n(),l("button",{key:1,onClick:v=>d(o.song),class:"text-neutral-400 hover:text-neutral-500"},e[18]||(e[18]=[t("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)]),8,Pt)):m("",!0),(n(!0),l(g,null,j(o.song.files,v=>(n(),l("button",{key:v.id,onClick:Ht=>a(v,o.song),class:"text-neutral-400 hover:text-neutral-500"},e[19]||(e[19]=[t("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})],-1)]),8,Lt))),128))])):m("",!0)])],2))),128))])])]),_:1})])),h(c(A),{ref_key:"deleteModal",ref:_,title:"Delete Setlist",message:"Are you sure you want to delete this setlist? This action cannot be undone.",type:"error","confirm-text":"Delete","show-cancel":!0,onConfirm:B},null,512)]),_:1}))],64))}};export{Gt as default};
