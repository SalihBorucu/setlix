import{_ as x}from"./Input-6RfrV1w7.js";import"./DSTooltip.vue_vue_type_style_index_0_lang-Z2Pj6Umk.js";import{r as C,l as p,q as b,e as H,o as V,u as I}from"./app-CfAHsl10.js";const B={__name:"DSDurationInput",props:{modelValue:{type:[String,Number],required:!0,default:""},label:{type:String,default:null},error:{type:String,default:""},required:{type:Boolean,default:!1},placeholder:{type:String,default:null},includeHours:{type:Boolean,default:!1}},emits:["update:modelValue","update:seconds"],setup(u,{emit:m}){const o=u,l=m,n=C(""),f=p(()=>o.placeholder?o.placeholder:o.includeHours?"00:00:00":"00:00"),S=p(()=>o.includeHours?8:5),h=e=>{if(!e)return"";if(o.includeHours){const a=Math.floor(e/3600),t=Math.floor(e%3600/60),r=e%60;return`${a.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}else{const a=Math.floor(e/60),t=e%60;return`${a.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`}},g=e=>{if(o.includeHours){const[a,t,r]=e.split(":").map(Number);return a*3600+t*60+r}else{const[a,t]=e.split(":").map(Number);return a*60+t}};b(()=>o.modelValue,e=>{typeof e=="number"?n.value=h(e):n.value=e},{immediate:!0});const y=e=>{if(!e){n.value="",l("update:modelValue","");return}const a=o.includeHours?6:4,t=e.replace(/[^0-9]/g,"").slice(-a);if(!t){n.value="",l("update:modelValue","");return}let r="";if(o.includeHours)if(t.length>=1){const s=parseInt(t.slice(0,-4))||0,i=parseInt(t.slice(-4,-2))||0,d=parseInt(t.slice(-2))||0,c=Math.min(i,59),M=Math.min(d,59);r=`${s.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}:${M.toString().padStart(2,"0")}`}else r=t;else if(t.length>=1){const s=parseInt(t.slice(0,-2))||0,i=parseInt(t.slice(-2))||0,d=Math.min(s,59),c=Math.min(i,59);r=`${d.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}`}else r=t;n.value=r;const k=o.includeHours?2:1;if(r.split(":").length-1===k){const s=g(r);l("update:modelValue",r),l("update:seconds",s)}else l("update:modelValue",r)},$=e=>{[46,8,9,27,13].indexOf(e.keyCode)!==-1||e.keyCode===65&&(e.ctrlKey===!0||e.metaKey===!0)||e.keyCode>=35&&e.keyCode<=40||(e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&e.preventDefault()};return(e,a)=>(V(),H(I(x),{"model-value":n.value,"onUpdate:modelValue":y,onKeydown:$,type:"text",inputmode:"numeric",label:u.label,error:u.error,required:u.required,placeholder:f.value,maxlength:S.value},null,8,["model-value","label","error","required","placeholder","maxlength"]))}};export{B as _};
