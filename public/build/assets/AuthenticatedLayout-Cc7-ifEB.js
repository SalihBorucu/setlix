import{x as j,p as f,c as l,h as k,o as a,b as e,e as I,t as i,w as p,a as b,u as r,f as C,P as y,I as T,r as S,s as E,E as P,n as h,J as F,A as O,T as W,l as U,W as J,F as g,j as B,i as Y,z as q,k as A,D as G}from"./app-_FzgvGiq.js";import{_ as K}from"./DSTooltip.vue_vue_type_style_index_0_lang-C9s17ltE.js";const Q={key:0,class:"bg-blue-50 border-b border-blue-200"},X={class:"max-w-7xl mx-auto p-3"},Z={class:"flex items-center justify-between"},ee={class:"flex items-center space-x-2"},te={key:0,class:"text-sm text-blue-700"},se={key:1,class:"text-sm text-red-700"},re={key:0,class:"text-sm text-red-600"},oe={__name:"TrialStatusBanner",setup(z){const u=j(),n=f(()=>u.props.trial||{}),$=f(()=>{var s;return((s=n.value)==null?void 0:s.isSubscribed)??!1}),c=f(()=>{var s;return((s=n.value)==null?void 0:s.remainingDays)??0}),v=f(()=>{var s;return((s=n.value)==null?void 0:s.limitReached)??!1}),x=f(()=>{var s;return((s=n.value)==null?void 0:s.limitMessage)??""}),d=f(()=>{var s;return(s=n.value)==null?void 0:s.bandId}),_=f(()=>{const s=route().current("subscription.checkout");return n.value.remainingDays<14&&!$.value&&!s&&d.value});return(s,o)=>_.value?(a(),l("div",Q,[e("div",X,[e("div",Z,[e("div",ee,[c.value>0?(a(),l("span",te,i(c.value)+" days remaining in your free trial ",1)):(a(),l("span",se," Trial expired "))]),v.value?(a(),l("div",re,i(x.value),1)):k("",!0),!$.value&&d.value?(a(),I(r(y),{key:1,href:s.route("subscription.checkout",d.value)},{default:p(()=>[b(r(K),{variant:"primary",size:"sm"},{default:p(()=>o[0]||(o[0]=[C(" Subscribe Now ")])),_:1})]),_:1},8,["href"])):k("",!0)])])])):k("",!0)}},ae={key:0,class:"fixed top-4 right-4 z-50 w-full max-w-sm"},ne={class:"p-4"},le={class:"flex items-start gap-3"},ie={class:"flex-shrink-0"},ue={class:"w-0 flex-1 pt-0.5"},ce={class:"ml-4 flex flex-shrink-0"},H=7e3,de={__name:"FlashMessage",setup(z){const u=T({template:'<svg fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>'}),n=T({template:'<svg fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z" /></svg>'}),$=T({template:'<svg fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z" /></svg>'}),c=j(),v=S(!1),x=S(!1),d=S(100);let _=null,s=null;const o=f(()=>c.props.flash),m=f(()=>o.value.success?"success":o.value.error?"error":o.value.info?"info":null),t=f(()=>{switch(m.value){case"success":return"Success!";case"error":return"An error occurred";case"info":return"Heads up!";default:return"Notification"}}),D=f(()=>(x.value=!!(c.props.flash.success||c.props.flash.error||c.props.flash.info||c.props.flash.message),c.props.flash.success||c.props.flash.error||c.props.flash.info||c.props.flash.message)),w=f(()=>{switch(m.value){case"success":return{bg:"bg-green-50",icon:u,iconColor:"text-green-500",titleColor:"text-green-900",textColor:"text-green-800",button:"focus:ring-green-600 focus:ring-offset-green-50",progressBg:"bg-green-400"};case"error":return{bg:"bg-red-50",icon:n,iconColor:"text-red-500",titleColor:"text-red-900",textColor:"text-red-800",button:"focus:ring-red-600 focus:ring-offset-red-50",progressBg:"bg-red-400"};default:return{bg:"bg-blue-50",icon:$,iconColor:"text-blue-500",titleColor:"text-blue-900",textColor:"text-blue-800",button:"focus:ring-blue-600 focus:ring-offset-blue-50",progressBg:"bg-blue-400"}}}),N=()=>{v.value=!1},L=()=>{_&&clearTimeout(_),s&&clearInterval(s),_=null,s=null};return E(D,V=>{if(V){x.value=!0,v.value=!0,d.value=100,L();const M=Date.now();s=setInterval(()=>{const R=Date.now()-M;d.value=100-R/H*100},100),_=setTimeout(()=>{N()},H)}else x.value=!1,v.value=!1,L()},{immediate:!0}),P(()=>{L()}),(V,M)=>x.value?(a(),l("div",ae,[b(W,{"enter-active-class":"transform ease-out duration-300 transition","enter-from-class":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2","enter-to-class":"translate-y-0 opacity-100 sm:translate-x-0","leave-active-class":"transition ease-in duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:p(()=>[v.value?(a(),l("div",{key:0,class:h([w.value.bg,"relative rounded-lg shadow-lg"])},[e("div",ne,[e("div",le,[e("div",ie,[(a(),I(F(w.value.icon),{class:h(["h-6 w-6",w.value.iconColor]),"aria-hidden":"true"},null,8,["class"]))]),e("div",ue,[e("p",{class:h([w.value.titleColor,"text-sm font-bold"])},i(t.value),3),e("p",{class:h([w.value.textColor,"mt-1 text-sm"])},i(D.value),3)]),e("div",ce,[e("button",{type:"button",onClick:N,class:h([w.value.button,"inline-flex rounded-md p-1 text-gray-500 hover:bg-gray-200/50 focus:outline-none focus:ring-2 focus:ring-offset-2"])},M[0]||(M[0]=[e("span",{class:"sr-only"},"Close",-1),e("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})],-1)]),2)])])]),e("div",{class:h([w.value.progressBg,"absolute bottom-0 left-0 h-1 rounded-bl-lg"]),style:O({width:d.value+"%"})},null,6)],2)):k("",!0)]),_:1})])):k("",!0)}},he={class:"min-h-screen bg-neutral-50 test"},fe={class:"bg-white border-b border-neutral-200"},me={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},pe={class:"flex justify-between h-16"},ve={class:"flex"},xe={class:"flex-shrink-0 flex items-center"},be={class:"hidden space-x-8 sm:ml-10 sm:flex"},_e={class:"hidden sm:ml-6 sm:flex sm:items-center space-x-4"},ge={class:"relative"},ye=["src","alt"],ke={class:"absolute right-0 mt-2 w-48 rounded-lg shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 z-10",role:"menu"},we={class:"px-4 py-2 border-b border-neutral-200"},Ce={class:"text-sm font-medium text-neutral-900"},$e={class:"text-xs text-neutral-500 truncate"},Be={class:"py-1"},Me=["onClick"],Se={class:"-mr-2 flex items-center sm:hidden"},Ie={class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},Le={class:"pt-2 pb-3 space-y-1"},Te={class:"pt-4 pb-1 border-t border-neutral-200"},je={class:"flex items-center px-4"},ze={class:"flex-shrink-0"},De=["src","alt"],Ne={class:"ml-3"},Ve={class:"text-base font-medium text-neutral-800"},Ae={class:"text-sm font-medium text-neutral-500"},He={class:"mt-3 space-y-1"},Pe=["onClick"],Re={class:"py-10"},Ee={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Fe={key:0,class:"mb-8"},Oe={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},We={class:"px-4 sm:px-6 lg:px-8"},Ye={__name:"AuthenticatedLayout",setup(z){const u=S(!1),{auth:n}=j().props,$=async()=>{try{await G.post(route("logout")),window.location.href="/"}catch(o){console.error("Logout failed:",o)}},c=[{name:"Dashboard",href:route("dashboard"),icon:"HomeIcon"}],v=[{name:"Songs",href:o=>route("songs.index",{band:o}),icon:"MusicNoteIcon"},{name:"Setlists",href:o=>route("setlists.index",{band:o}),icon:"ListBulletIcon"}],x=[{name:"Your Profile",href:route("profile.edit")},{name:"Subscriptions",href:route("subscription.index")},{name:"Sign out",action:$}],d=route().params.band,_=()=>{window.scrollTo({top:0,behavior:"smooth"})};let s;return U(()=>{s=J.on("error",o=>{Object.keys(o).length>0&&_()})}),P(()=>{s&&s()}),(o,m)=>(a(),l("div",he,[b(r(de)),e("nav",fe,[e("div",me,[e("div",pe,[e("div",ve,[e("div",xe,[b(r(y),{href:o.route("dashboard"),class:"flex"},{default:p(()=>m[2]||(m[2]=[e("img",{class:"h-12 w-auto",src:"/images/text_logo.svg",alt:"AI Setlist"},null,-1)])),_:1},8,["href"])]),e("div",be,[(a(),l(g,null,B(c,t=>b(r(y),{key:t.name,href:t.href,class:h([o.route().current(t.href)?"border-primary-500 text-neutral-900":"border-transparent text-neutral-500 hover:border-neutral-300 hover:text-neutral-700","inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors duration-200"])},{default:p(()=>[C(i(t.name),1)]),_:2},1032,["href","class"])),64)),r(d)?(a(),l(g,{key:0},B(v,t=>b(r(y),{key:t.name,href:t.href(r(d)),class:h([o.route().current(t.href(r(d)))?"border-primary-500 text-neutral-900":"border-transparent text-neutral-500 hover:border-neutral-300 hover:text-neutral-700","inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors duration-200"])},{default:p(()=>[C(i(t.name),1)]),_:2},1032,["href","class"])),64)):k("",!0)])]),e("div",_e,[e("div",ge,[e("button",{onClick:m[0]||(m[0]=t=>u.value=!u.value),class:"flex text-sm border-2 border-transparent rounded-full focus:outline-none focus:border-neutral-300 transition duration-200"},[m[3]||(m[3]=e("span",{class:"sr-only"},"Open user menu",-1)),e("img",{class:"h-8 w-8 rounded-full object-cover",src:r(n).user.avatar||"https://ui-avatars.com/api/?name="+r(n).user.name,alt:r(n).user.name},null,8,ye)]),Y(e("div",ke,[e("div",we,[e("p",Ce,i(r(n).user.name),1),e("p",$e,i(r(n).user.email),1)]),e("div",Be,[(a(),l(g,null,B(x,t=>(a(),l(g,{key:t.name},[t.action?(a(),l("button",{key:0,onClick:t.action,class:"block w-full text-left px-4 py-2 text-sm text-neutral-700 hover:bg-neutral-50",role:"menuitem"},i(t.name),9,Me)):(a(),I(r(y),{key:1,href:t.href,class:"block w-full text-left px-4 py-2 text-sm text-neutral-700 hover:bg-neutral-50",role:"menuitem"},{default:p(()=>[C(i(t.name),1)]),_:2},1032,["href"]))],64))),64))])],512),[[q,u.value]])])]),e("div",Se,[e("button",{onClick:m[1]||(m[1]=t=>u.value=!u.value),class:"inline-flex items-center justify-center p-2 rounded-lg text-neutral-400 hover:text-neutral-500 hover:bg-neutral-100 focus:outline-none focus:bg-neutral-100 focus:text-neutral-500 transition duration-200"},[(a(),l("svg",Ie,[e("path",{class:h({hidden:u.value,"inline-flex":!u.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,2),e("path",{class:h({hidden:!u.value,"inline-flex":u.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,2)]))])])])]),e("div",{class:h([{block:u.value,hidden:!u.value},"sm:hidden"])},[e("div",Le,[(a(),l(g,null,B(c,t=>b(r(y),{key:t.name,href:t.href,class:h([o.route().current(t.href)?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-neutral-600 hover:bg-neutral-50 hover:border-neutral-300 hover:text-neutral-800","block pl-3 pr-4 py-2 border-l-4 text-base font-medium transition-colors duration-200"])},{default:p(()=>[C(i(t.name),1)]),_:2},1032,["href","class"])),64)),r(d)?(a(),l(g,{key:0},B(v,t=>b(r(y),{key:t.name,href:t.href(r(d)),class:h([o.route().current(t.href(r(d)))?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-neutral-600 hover:bg-neutral-50 hover:border-neutral-300 hover:text-neutral-800","block pl-3 pr-4 py-2 border-l-4 text-base font-medium transition-colors duration-200"])},{default:p(()=>[C(i(t.name),1)]),_:2},1032,["href","class"])),64)):k("",!0)]),e("div",Te,[e("div",je,[e("div",ze,[e("img",{class:"h-10 w-10 rounded-full object-cover",src:r(n).user.avatar||"https://ui-avatars.com/api/?name="+r(n).user.name,alt:r(n).user.name},null,8,De)]),e("div",Ne,[e("div",Ve,i(r(n).user.name),1),e("div",Ae,i(r(n).user.email),1)])]),e("div",He,[(a(),l(g,null,B(x,t=>(a(),l(g,{key:t.name},[t.action?(a(),l("button",{key:0,onClick:t.action,class:"block w-full text-left px-4 py-2 text-base font-medium text-neutral-500 hover:text-neutral-800 hover:bg-neutral-100"},i(t.name),9,Pe)):(a(),I(r(y),{key:1,href:t.href,class:"block w-full text-left px-4 py-2 text-base font-medium text-neutral-500 hover:text-neutral-800 hover:bg-neutral-100"},{default:p(()=>[C(i(t.name),1)]),_:2},1032,["href"]))],64))),64))])])],2)]),b(oe,{"band-id":r(d)},null,8,["band-id"]),e("main",Re,[e("div",Ee,[o.$slots.header?(a(),l("header",Fe,[e("div",Oe,[A(o.$slots,"header")])])):k("",!0),e("div",We,[A(o.$slots,"default")])])])]))}};export{Ye as _};
