import{A as C,x as f,c as l,h as p,o as r,b as e,e as S,t as u,w as d,a as m,u as s,f as w,P as g,r as z,ac as T,T as j,q as N,W as I,a8 as D,F as y,j as M,n as k,i as V,l as P,k as B,G as A}from"./app-B_oeY6Ce.js";import{_ as F}from"./DSTooltip.vue_vue_type_style_index_0_lang-BgXU3FQj.js";import{_ as E}from"./Alert-DHf_U1yq.js";const H={key:0,class:"bg-blue-50 border-b border-blue-200"},O={class:"max-w-7xl mx-auto p-3"},R={class:"flex items-center justify-between"},W={class:"flex items-center space-x-2"},q={key:0,class:"text-sm text-blue-700"},G={key:1,class:"text-sm text-red-700"},U={key:0,class:"text-sm text-red-600"},Y={__name:"TrialStatusBanner",setup(L){const n=C(),a=f(()=>n.props.trial||{}),v=f(()=>{var o;return((o=a.value)==null?void 0:o.isSubscribed)??!1}),_=f(()=>{var o;return((o=a.value)==null?void 0:o.remainingDays)??0}),x=f(()=>{var o;return((o=a.value)==null?void 0:o.limitReached)??!1}),$=f(()=>{var o;return((o=a.value)==null?void 0:o.limitMessage)??""}),c=f(()=>{var o;return(o=a.value)==null?void 0:o.bandId}),h=f(()=>{const o=route().current("subscription.checkout");return a.value&&!v.value&&!o&&c.value});return(o,i)=>h.value?(r(),l("div",H,[e("div",O,[e("div",R,[e("div",W,[_.value>0?(r(),l("span",q,u(_.value)+" days remaining in your free trial ",1)):(r(),l("span",G," Trial expired "))]),x.value?(r(),l("div",U,u($.value),1)):p("",!0),!v.value&&c.value?(r(),S(s(g),{key:1,href:o.route("subscription.checkout",c.value)},{default:d(()=>[m(s(F),{variant:"primary",size:"sm"},{default:d(()=>i[0]||(i[0]=[w(" Subscribe Now ")])),_:1})]),_:1},8,["href"])):p("",!0)])])])):p("",!0)}},J={key:0,class:"fixed sm:top-4 sm:right-4 z-50 max-w-sm px-4"},K={class:"flex items-center gap-3"},Q={key:0,class:"flex-shrink-0"},X={key:1,class:"flex-shrink-0"},Z={key:2,class:"flex-shrink-0"},ee={class:"flex-1 text-sm font-medium"},te={__name:"FlashMessage",setup(L){const n=C(),a=z(!1);let v=null;const _=f(()=>(a.value=!0,n.props.flash.success||n.props.flash.error||n.props.flash.info||n.props.flash.message)),x=f(()=>n.props.flash.success?"success":n.props.flash.error?"error":(n.props.flash.info,"info")),$=f(()=>!!_.value);return T(()=>{v&&(clearTimeout(v),v=null),$.value?(a.value=!0,v=setTimeout(()=>{a.value=!1},7e3)):a.value=!1}),(c,h)=>a.value?(r(),l("div",J,[m(j,{"enter-active-class":"transform ease-out duration-300 transition","enter-from-class":"translate-y-2 opacity-0 scale-95","enter-to-class":"translate-y-0 opacity-100 scale-100","leave-active-class":"transform ease-in duration-200 transition","leave-from-class":"translate-y-0 opacity-100 scale-100","leave-to-class":"translate-y-2 opacity-0 scale-95"},{default:d(()=>[m(s(E),{type:x.value,class:"shadow-xl rounded-lg border bg-white p-4"},{default:d(()=>[e("div",K,[x.value==="success"?(r(),l("div",Q,h[0]||(h[0]=[e("svg",{class:"h-5 w-5 text-green-700",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)]))):p("",!0),x.value==="error"?(r(),l("div",X,h[1]||(h[1]=[e("svg",{class:"h-5 w-5 text-red-700",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)]))):p("",!0),x.value==="info"?(r(),l("div",Z,h[2]||(h[2]=[e("svg",{class:"h-5 w-5 text-blue-700",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})],-1)]))):p("",!0),e("div",ee,u(_.value),1)])]),_:1},8,["type"])]),_:1})])):p("",!0)}},se={class:"min-h-screen bg-neutral-50 test"},re={class:"bg-white border-b border-neutral-200"},ae={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},oe={class:"flex justify-between h-16"},ne={class:"flex"},le={class:"flex-shrink-0 flex items-center"},ie={class:"hidden space-x-8 sm:ml-10 sm:flex"},ue={class:"hidden sm:ml-6 sm:flex sm:items-center space-x-4"},ce={class:"relative"},de=["src","alt"],he={class:"absolute right-0 mt-2 w-48 rounded-lg shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 z-10",role:"menu"},fe={class:"px-4 py-2 border-b border-neutral-200"},me={class:"text-sm font-medium text-neutral-900"},pe={class:"text-xs text-neutral-500 truncate"},ve={class:"py-1"},xe=["onClick"],_e={class:"-mr-2 flex items-center sm:hidden"},be={class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},ye={class:"pt-2 pb-3 space-y-1"},ge={class:"pt-4 pb-1 border-t border-neutral-200"},ke={class:"flex items-center px-4"},we={class:"flex-shrink-0"},$e=["src","alt"],Me={class:"ml-3"},Se={class:"text-base font-medium text-neutral-800"},Ce={class:"text-sm font-medium text-neutral-500"},Le={class:"mt-3 space-y-1"},Be=["onClick"],ze={class:"py-10"},Te={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},je={key:0,class:"mb-8"},Ne={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Ie={class:"px-4 sm:px-6 lg:px-8"},Ae={__name:"AuthenticatedLayout",setup(L){const n=z(!1),{auth:a}=C().props,v=async()=>{try{await A.post(route("logout")),window.location.href="/"}catch(i){console.error("Logout failed:",i)}},_=[{name:"Dashboard",href:route("dashboard"),icon:"HomeIcon"}],x=[{name:"Songs",href:i=>route("songs.index",{band:i}),icon:"MusicNoteIcon"},{name:"Setlists",href:i=>route("setlists.index",{band:i}),icon:"ListBulletIcon"}],$=[{name:"Your Profile",href:route("profile.edit")},{name:"Subscriptions",href:route("subscription.index")},{name:"Sign out",action:v}],c=route().params.band,h=()=>{window.scrollTo({top:0,behavior:"smooth"})};let o;return N(()=>{o=I.on("error",i=>{Object.keys(i).length>0&&h()})}),D(()=>{o&&o()}),(i,b)=>(r(),l("div",se,[m(s(te)),e("nav",re,[e("div",ae,[e("div",oe,[e("div",ne,[e("div",le,[m(s(g),{href:i.route("dashboard"),class:"flex"},{default:d(()=>b[2]||(b[2]=[e("img",{class:"h-12 w-auto",src:"/images/text_logo.svg",alt:"AI Setlist"},null,-1)])),_:1},8,["href"])]),e("div",ie,[(r(),l(y,null,M(_,t=>m(s(g),{key:t.name,href:t.href,class:k([i.route().current(t.href)?"border-primary-500 text-neutral-900":"border-transparent text-neutral-500 hover:border-neutral-300 hover:text-neutral-700","inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors duration-200"])},{default:d(()=>[w(u(t.name),1)]),_:2},1032,["href","class"])),64)),s(c)?(r(),l(y,{key:0},M(x,t=>m(s(g),{key:t.name,href:t.href(s(c)),class:k([i.route().current(t.href(s(c)))?"border-primary-500 text-neutral-900":"border-transparent text-neutral-500 hover:border-neutral-300 hover:text-neutral-700","inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors duration-200"])},{default:d(()=>[w(u(t.name),1)]),_:2},1032,["href","class"])),64)):p("",!0)])]),e("div",ue,[e("div",ce,[e("button",{onClick:b[0]||(b[0]=t=>n.value=!n.value),class:"flex text-sm border-2 border-transparent rounded-full focus:outline-none focus:border-neutral-300 transition duration-200"},[b[3]||(b[3]=e("span",{class:"sr-only"},"Open user menu",-1)),e("img",{class:"h-8 w-8 rounded-full object-cover",src:s(a).user.avatar||"https://ui-avatars.com/api/?name="+s(a).user.name,alt:s(a).user.name},null,8,de)]),V(e("div",he,[e("div",fe,[e("p",me,u(s(a).user.name),1),e("p",pe,u(s(a).user.email),1)]),e("div",ve,[(r(),l(y,null,M($,t=>(r(),l(y,{key:t.name},[t.action?(r(),l("button",{key:0,onClick:t.action,class:"block w-full text-left px-4 py-2 text-sm text-neutral-700 hover:bg-neutral-50",role:"menuitem"},u(t.name),9,xe)):(r(),S(s(g),{key:1,href:t.href,class:"block w-full text-left px-4 py-2 text-sm text-neutral-700 hover:bg-neutral-50",role:"menuitem"},{default:d(()=>[w(u(t.name),1)]),_:2},1032,["href"]))],64))),64))])],512),[[P,n.value]])])]),e("div",_e,[e("button",{onClick:b[1]||(b[1]=t=>n.value=!n.value),class:"inline-flex items-center justify-center p-2 rounded-lg text-neutral-400 hover:text-neutral-500 hover:bg-neutral-100 focus:outline-none focus:bg-neutral-100 focus:text-neutral-500 transition duration-200"},[(r(),l("svg",be,[e("path",{class:k({hidden:n.value,"inline-flex":!n.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,2),e("path",{class:k({hidden:!n.value,"inline-flex":n.value}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,2)]))])])])]),e("div",{class:k([{block:n.value,hidden:!n.value},"sm:hidden"])},[e("div",ye,[(r(),l(y,null,M(_,t=>m(s(g),{key:t.name,href:t.href,class:k([i.route().current(t.href)?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-neutral-600 hover:bg-neutral-50 hover:border-neutral-300 hover:text-neutral-800","block pl-3 pr-4 py-2 border-l-4 text-base font-medium transition-colors duration-200"])},{default:d(()=>[w(u(t.name),1)]),_:2},1032,["href","class"])),64)),s(c)?(r(),l(y,{key:0},M(x,t=>m(s(g),{key:t.name,href:t.href(s(c)),class:k([i.route().current(t.href(s(c)))?"bg-primary-50 border-primary-500 text-primary-700":"border-transparent text-neutral-600 hover:bg-neutral-50 hover:border-neutral-300 hover:text-neutral-800","block pl-3 pr-4 py-2 border-l-4 text-base font-medium transition-colors duration-200"])},{default:d(()=>[w(u(t.name),1)]),_:2},1032,["href","class"])),64)):p("",!0)]),e("div",ge,[e("div",ke,[e("div",we,[e("img",{class:"h-10 w-10 rounded-full object-cover",src:s(a).user.avatar||"https://ui-avatars.com/api/?name="+s(a).user.name,alt:s(a).user.name},null,8,$e)]),e("div",Me,[e("div",Se,u(s(a).user.name),1),e("div",Ce,u(s(a).user.email),1)])]),e("div",Le,[(r(),l(y,null,M($,t=>(r(),l(y,{key:t.name},[t.action?(r(),l("button",{key:0,onClick:t.action,class:"block w-full text-left px-4 py-2 text-base font-medium text-neutral-500 hover:text-neutral-800 hover:bg-neutral-100"},u(t.name),9,Be)):(r(),S(s(g),{key:1,href:t.href,class:"block w-full text-left px-4 py-2 text-base font-medium text-neutral-500 hover:text-neutral-800 hover:bg-neutral-100"},{default:d(()=>[w(u(t.name),1)]),_:2},1032,["href"]))],64))),64))])])],2)]),m(Y,{"band-id":s(c)},null,8,["band-id"]),e("main",ze,[e("div",Te,[i.$slots.header?(r(),l("header",je,[e("div",Ne,[B(i.$slots,"header")])])):p("",!0),e("div",Ie,[B(i.$slots,"default")])])])]))}};export{Ae as _};
