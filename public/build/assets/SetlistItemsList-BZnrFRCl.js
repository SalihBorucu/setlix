import{x as S,e as h,o as a,w as d,b as e,a as f,u as x,f as b,r as C,A as j,c as u,K as y,h as v,t as c,P as k,i as M,n as w,s as B,F as V,j as N,L as q}from"./app-BABaEHeU.js";import{_ as A}from"./Modal-3bVMSaju.js";import{_ as g}from"./DSTooltip.vue_vue_type_style_index_0_lang-BvGLClPE.js";import{_ as $}from"./Input-B6L7KIiC.js";import{_ as D}from"./Card-Zg4sBKuJ.js";import{_ as O}from"./DSDurationInput-CZuBAqI6.js";import{d as T}from"./BreakModal-BnvdL1Vy.js";const z={class:"space-y-4"},H={class:"flex rounded-md"},_=["value"],U={class:"flex justify-end"},L={__name:"ShareSetlistModal",props:{show:{type:Boolean,required:!0},setlist:{type:Object,required:!0}},emits:["close"],setup(s){const l=s,i=S(()=>route("public.setlist.show",l.setlist.public_slug)),o=async()=>{try{await navigator.clipboard.writeText(i.value);const r=document.createElement("div");r.className="fixed bottom-4 right-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded",r.innerHTML=`
            <div class="flex items-center">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
                <span>Link copied to clipboard!</span>
            </div>
        `,document.body.appendChild(r),setTimeout(()=>{r.remove()},3e3)}catch(r){console.error("Failed to copy text: ",r)}};return(r,t)=>(a(),h(A,{show:s.show,onClose:t[1]||(t[1]=n=>r.$emit("close")),title:"Share Setlist with Client","max-width":"md"},{footer:d(()=>[e("div",U,[f(x(g),{variant:"outline",onClick:t[0]||(t[0]=n=>r.$emit("close"))},{default:d(()=>t[3]||(t[3]=[b(" Close ")])),_:1})])]),default:d(()=>[e("div",z,[t[2]||(t[2]=e("p",{class:"text-sm text-gray-500"}," Share this link with your client to let them customize the setlist: ",-1)),e("div",H,[e("input",{type:"text",value:i.value,readonly:"",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"},null,8,_),e("button",{onClick:o,class:"ml-3 inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"}," Copy ")])])]),_:1},8,["show"]))}},P={class:"flex items-center space-x-4"},Q={key:0,class:"flex items-center space-x-2"},I={key:1},E={__name:"PublicAccessToggle",props:{setlist:Object,band:Object,isPossible:{type:Boolean,default:!1}},setup(s){const l=s,i=C(!1),o=j(),r=()=>{y.post(route("setlists.make-public",[l.band.id,l.setlist.id])).then(m=>{l.setlist.is_public=!0,l.setlist.public_slug=m.data.setlist.public_slug,i.value=!0}).catch(m=>{o.props.flash.error=m.response.data.message})},t=()=>{y.post(route("setlists.make-private",[l.band.id,l.setlist.id])).then(m=>{l.setlist.is_public=!1,l.setlist.public_slug=null})},n=()=>{i.value=!1};return(m,p)=>(a(),u("div",P,[s.setlist.is_public?(a(),u("div",Q,[p[0]||(p[0]=e("span",{class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"}," Shared with Client ",-1)),e("button",{onClick:t,class:"text-sm text-gray-600 hover:text-gray-900"}," Stop Sharing ")])):(a(),u("div",I,[f(g,{variant:"secondary",onClick:r,class:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",disabled:!s.isPossible},{default:d(()=>p[1]||(p[1]=[b(" Share with Client ")])),_:1},8,["disabled"])])),f(L,{show:i.value,setlist:s.setlist,onClose:n},null,8,["show","setlist"])]))}},F={class:"md:flex md:items-center md:justify-between"},R={class:"min-w-0 flex-1 test"},K={class:"flex items-center"},G={class:"mt-1 text-2xl font-bold leading-7 text-neutral-900 sm:truncate sm:text-3xl sm:tracking-tight"},J={key:0,class:"mt-1 text-sm text-neutral-500"},W={class:"mt-4 flex md:ml-4 md:mt-0"},Ae={__name:"SetlistHeader",props:{band:{type:Object,required:!0},setlist:{type:Object,required:!1,default:null},form:{type:Object,required:!0}},setup(s){return(l,i)=>{var o;return a(),u("div",F,[e("div",R,[e("div",K,[f(x(k),{href:l.route("bands.show",s.band.id),class:"text-sm font-medium text-primary-600 hover:text-primary-700"},{default:d(()=>[b(c(s.band.name),1)]),_:1},8,["href"]),i[1]||(i[1]=e("svg",{class:"mx-2 h-5 w-5 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)),f(x(k),{href:l.route("setlists.index",s.band.id),class:"text-sm font-medium text-primary-600 hover:text-primary-700"},{default:d(()=>i[0]||(i[0]=[b(" Setlists ")])),_:1},8,["href"])]),e("h2",G,c(s.setlist?s.setlist.name:"Create New Setlist"),1),(o=s.setlist)!=null&&o.description?(a(),u("p",J,c(s.setlist.description),1)):v("",!0)]),e("div",W,[s.setlist?(a(),h(E,{key:0,band:s.band,setlist:s.setlist,"is-possible":s.form.target_duration_seconds>0},null,8,["band","setlist","is-possible"])):v("",!0)])])}}},X={class:"p-6 space-y-6"},Y={class:"mt-1"},De={__name:"SetlistBasicInfo",props:{form:{type:Object,required:!0}},emits:["update:targetDuration"],setup(s,{emit:l}){return(i,o)=>(a(),h(x(D),null,{default:d(()=>[e("div",X,[e("div",null,[f(x($),{modelValue:s.form.name,"onUpdate:modelValue":o[0]||(o[0]=r=>s.form.name=r),type:"text",label:"Setlist Name",error:s.form.errors.name,required:""},null,8,["modelValue","error"]),o[4]||(o[4]=e("p",{class:"mt-1 text-sm text-neutral-500"}," Give your setlist a memorable name ",-1))]),e("div",null,[o[5]||(o[5]=e("label",{class:"block text-sm font-medium text-neutral-700"}," Description (Optional) ",-1)),e("div",Y,[M(e("textarea",{"onUpdate:modelValue":o[1]||(o[1]=r=>s.form.description=r),rows:"3",class:w(["block w-full rounded-lg shadow-sm transition-colors duration-200","border-neutral-300 focus:border-primary-500 focus:ring-primary-500",{"border-error-500 focus:border-error-500 focus:ring-error-500":s.form.errors.description}])},null,2),[[B,s.form.description]])]),o[6]||(o[6]=e("p",{class:"mt-1 text-sm text-neutral-500"}," Add any notes or context about this setlist ",-1))]),e("div",null,[f(x(O),{modelValue:s.form.target_duration,"onUpdate:modelValue":o[2]||(o[2]=r=>s.form.target_duration=r),"onUpdate:seconds":o[3]||(o[3]=r=>s.form.target_duration_seconds=r),label:"Target Duration",placeholder:"00:00:00","include-hours":"",error:s.form.errors.target_duration,required:""},null,8,["modelValue","error"]),o[7]||(o[7]=e("p",{class:"mt-1 text-sm text-neutral-500"}," Set the target duration for this event (required for sharing with clients so that your clients know how long your performance will be). ",-1))])])]),_:1}))}},Z={class:"flex items-center justify-between mb-4"},ee={class:"text-sm text-neutral-500"},te={class:"mb-4"},se={class:"min-h-[400px] rounded-lg border-2 border-dashed border-neutral-200 p-4 bg-neutral-50 overflow-y-auto"},re={class:"flex items-center"},oe={class:"font-medium text-neutral-900"},ne={class:"flex items-center space-x-3"},ie={class:"text-sm text-neutral-500"},le=["onClick"],ae={key:0,class:"text-center py-12"},de={class:"mt-1 text-sm text-neutral-500"},Oe={__name:"AvailableSongsList",props:{songs:{type:Array,required:!0},searchQuery:{type:String,required:!0}},emits:["update:searchQuery","addSong"],setup(s,{emit:l}){const i=l,o=r=>{const t=Math.floor(r/60),n=r%60;return`${t}:${n.toString().padStart(2,"0")}`};return(r,t)=>(a(),u("div",null,[e("div",Z,[t[1]||(t[1]=e("h3",{class:"text-lg font-medium text-neutral-900"},"Available Songs",-1)),e("span",ee,c(s.songs.length)+" songs ",1)]),e("div",te,[f(x($),{"model-value":s.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=n=>i("update:searchQuery",n)),type:"text",placeholder:"Search songs...",class:"w-full"},{prefix:d(()=>t[2]||(t[2]=[e("svg",{class:"h-5 w-5 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)])),_:1},8,["model-value"])]),e("div",se,[(a(!0),u(V,null,N(s.songs,n=>(a(),u("div",{key:n.id,class:"flex items-center justify-between p-3 mb-2 bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow duration-200"},[e("div",re,[t[3]||(t[3]=e("svg",{class:"h-5 w-5 text-neutral-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})],-1)),e("span",oe,c(n.name),1)]),e("div",ne,[e("span",ie,c(o(n.duration_seconds)),1),e("button",{type:"button",onClick:m=>i("addSong",n),class:"p-1 rounded-full text-primary-600 hover:bg-primary-50",title:"Add to setlist"},t[4]||(t[4]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)]),8,le)])]))),128)),s.songs.length===0?(a(),u("div",ae,[t[5]||(t[5]=e("svg",{class:"mx-auto h-12 w-12 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})],-1)),t[6]||(t[6]=e("h3",{class:"mt-2 text-sm font-medium text-neutral-900"},"No songs found",-1)),e("p",de,c(s.searchQuery?"Try a different search term.":"All songs are in the setlist."),1)])):v("",!0)])]))}},ue={class:"mb-4"},me={class:"flex items-center justify-between mb-2"},ce={class:"flex items-center"},fe={class:"flex items-center justify-center w-6 h-6 rounded-full bg-primary-100 text-primary-700 text-sm font-medium mr-2"},xe={class:"flex items-center"},pe={key:0,class:"flex items-center px-2 py-1 rounded-md bg-neutral-100 text-neutral-700 mr-2"},be={class:"font-medium text-neutral-900"},ve={class:"flex items-center space-x-3"},he={class:"text-sm text-neutral-500"},ge={class:"mt-2"},ye=["value","placeholder"],ke={__name:"SetlistItem",props:{item:{type:Object,required:!0},index:{type:Number,required:!0}},emits:["remove","updateNotes"],setup(s,{emit:l}){const i=l,o=r=>{const t=Math.floor(r/60),n=r%60;return`${t}:${n.toString().padStart(2,"0")}`};return(r,t)=>(a(),u("div",ue,[e("div",{class:w(["p-3 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-200",s.item.type==="break"?"bg-neutral-50 border-2 border-dashed border-neutral-200":"bg-white border border-neutral-200"])},[e("div",me,[e("div",ce,[t[3]||(t[3]=e("span",{class:"drag-handle cursor-move p-1 hover:bg-neutral-50 rounded mr-2"},[e("svg",{class:"h-5 w-5 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 8h16M4 16h16"})])],-1)),e("span",fe,c(s.index+1),1),e("div",xe,[s.item.type==="break"?(a(),u("div",pe,t[2]||(t[2]=[e("svg",{class:"h-4 w-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),e("span",{class:"text-xs font-medium"},"BREAK",-1)]))):v("",!0),e("span",be,c(s.item.type==="break"?s.item.title:s.item.name),1)])]),e("div",ve,[e("span",he,c(o(s.item.duration_seconds)),1),e("button",{type:"button",onClick:t[0]||(t[0]=n=>i("remove",s.index)),class:"p-1 rounded-full text-error-600 hover:bg-error-50",title:"Remove from setlist"},t[4]||(t[4]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)]))])]),e("div",ge,[e("input",{type:"text",value:s.item.pivot.notes,onInput:t[1]||(t[1]=n=>i("updateNotes",{index:s.index,notes:n.target.value})),placeholder:s.item.type==="break"?"Add break notes...":"Add performance notes...",class:"block w-full text-sm rounded-lg border-neutral-300 focus:border-primary-500 focus:ring-primary-500"},null,40,ye)])],2)]))}},we={class:"flex justify-end mb-4"},$e={class:"flex items-center justify-between mb-4"},Se={class:"flex items-center text-sm text-neutral-500"},Te={__name:"SetlistItemsList",props:{items:{type:Array,required:!0},totalDuration:{type:Number,required:!0}},emits:["update:items","remove","updateNotes","addBreak"],setup(s,{emit:l}){const i=l,o=r=>{const t=Math.floor(r/3600),n=Math.floor(r%3600/60),m=r%60;return t>0?`${t}:${n.toString().padStart(2,"0")}:${m.toString().padStart(2,"0")}`:`${n}:${m.toString().padStart(2,"0")}`};return(r,t)=>(a(),u("div",null,[e("div",we,[f(x(g),{type:"button",variant:"outline",onClick:t[0]||(t[0]=n=>i("addBreak"))},{prefix:d(()=>t[4]||(t[4]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)])),default:d(()=>[t[5]||(t[5]=b(" Add Break "))]),_:1})]),e("div",$e,[t[7]||(t[7]=e("h3",{class:"text-lg font-medium text-neutral-900"},"Setlist",-1)),e("div",Se,[t[6]||(t[6]=e("svg",{class:"h-4 w-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),b(" Total Duration: "+c(o(s.totalDuration)),1)])]),f(x(T),{"model-value":s.items,"onUpdate:modelValue":t[3]||(t[3]=n=>i("update:items",n)),"item-key":"id",handle:".drag-handle",class:"min-h-[400px] rounded-lg border-2 border-dashed border-neutral-200 p-4"},q({item:d(({element:n,index:m})=>[f(ke,{item:n,index:m,onRemove:t[1]||(t[1]=p=>i("remove",p)),onUpdateNotes:t[2]||(t[2]=p=>i("updateNotes",p))},null,8,["item","index"])]),_:2},[s.items.length===0?{name:"footer",fn:d(()=>[t[8]||(t[8]=e("div",{class:"text-center py-12"},[e("svg",{class:"mx-auto h-12 w-12 text-neutral-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})]),e("h3",{class:"mt-2 text-sm font-medium text-neutral-900"},"No items in setlist"),e("p",{class:"mt-1 text-sm text-neutral-500"},"Add songs or breaks to your setlist.")],-1))]),key:"0"}:void 0]),1032,["model-value"])]))}};export{De as _,Oe as a,Te as b,Ae as c};
